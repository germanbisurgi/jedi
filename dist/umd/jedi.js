!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Jedi=e()}(this,(function(){"use strict";function t(){const t=[];return function(e,s){if("object"!=typeof s||null===s)return s;for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(s)?"[Circular]":(t.push(s),s)}}function e(e){if(void 0!==e)return JSON.parse(JSON.stringify(e,t()))}function s(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(t,e,i){return t.replace(new RegExp(s(e),"g"),i)}function n(t){return i(i(t,"#","root"),"/","-")}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t){return Object.keys(t).sort().reduce(((e,s)=>(e[s]=t[s],e)),{})}function r(t,e){return b(t)&&b(e)&&(t=o(t),e=o(e)),JSON.stringify(t)===JSON.stringify(e)}function l(t,e){return!r(t,e)}function d(t){return null===t}function c(t){return void 0!==t}function h(t){return void 0===t}function u(t){return"number"==typeof t}function p(t){return u(t)&&t===Math.floor(t)}function m(t){return"string"==typeof t}function g(t){return"boolean"==typeof t}function f(t){return Array.isArray(t)}function b(t){return!d(t)&&!f(t)&&"object"==typeof t}function v(t){let e="any";return u(t)?e=p(t)?"integer":"number":m(t)?e="string":g(t)?e="boolean":f(t)?e="array":d(t)?e="null":b(t)&&(e="object"),e}function C(t,...e){if(!e.length)return t;const s=e.shift();return b(t)&&b(s)&&Object.keys(s).forEach((e=>{b(s[e])?(t[e]||Object.assign(t,{[e]:{}}),C(t[e],s[e])):Object.assign(t,{[e]:s[e]})})),C(t,...e)}const y=(t,e)=>(Object.keys(e).forEach((s=>{s in t&&typeof t[s]==typeof e[s]&&(b(t[s])&&b(e[s])?y(t[s],e[s]):t[s]=e[s])})),t);function L(t,e){const s=e.split(".");let i=t;for(const n of s)if(Array.isArray(i)&&/^\d+$/.test(n)){const t=parseInt(n);if(!(t>=0&&t<i.length))return;i=i[t]}else{if(!a(i,n))return;i=i[n]}return i}function E(t,e){return t.replace(/{{(.*?)}}/g,(t=>{const s=(t=t.replace(/\s/g,"")).split(/{{|}}/)[1];return L(e,s)}))}function x(t,e,s){return Math.max(e,Math.min(t,s))}function I(t){const e=[],s=new Set;for(const i of t){const t=JSON.stringify(i);s.has(t)||(s.add(t),e.push(i))}return e}function T(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let i=0;i<t;i++){s+=e[Math.floor(62*Math.random())]}return s}const A={getCircularReplacer:t,clone:e,escapeRegExp:s,replaceAll:i,pathToAttribute:n,hasOwn:a,sortObject:o,equal:r,different:l,isNull:d,isSet:c,notSet:h,isNumber:u,isInteger:p,isString:m,isBoolean:g,isArray:f,isObject:b,getType:v,mergeDeep:C,overwriteExistingProperties:y,getValueByJSONPath:L,compileTemplate:E,clamp:x,removeDuplicatesFromArray:I,generateRandomID:T};function w(t){return b(t.additionalProperties)||g(t.additionalProperties)?t.additionalProperties:void 0}function S(t){return b(t.propertyNames)||g(t.propertyNames)?t.propertyNames:void 0}function B(t){return f(t.allOf)?t.allOf:void 0}function k(t){return f(t.anyOf)?t.anyOf:void 0}function j(t){return t.const}function P(t){return b(t.contains)||g(t.contains)?t.contains:void 0}function O(t){return t.default}function M(t){return b(t.dependentRequired)?t.dependentRequired:void 0}function H(t){return b(t.dependentSchemas)?t.dependentSchemas:void 0}function F(t){return m(t.description)?t.description:void 0}function V(t){return b(t.else)||g(t.else)?t.else:void 0}function R(t){if(f(t.enum)&&t.enum.length>0)return t.enum}function D(t){return u(t.exclusiveMaximum)?t.exclusiveMaximum:void 0}function q(t){return u(t.exclusiveMinimum)?t.exclusiveMinimum:void 0}function N(t){return m(t.format)?t.format:void 0}function U(t){return b(t.if)||g(t.if)?t.if:void 0}function K(t){return b(t.items)||g(t.items)?t.items:void 0}function z(t){return u(t.maximum)?t.maximum:void 0}function J(t){if(p(t.maxContains)&&t.maxContains>=0)return t.maxContains}function $(t){if(p(t.maxItems)&&t.maxItems>=0)return t.maxItems}function G(t){if(p(t.maxLength)&&t.maxLength>=0)return t.maxLength}function W(t){if(p(t.maxProperties))return t.maxProperties}function Z(t){return u(t.minimum)?t.minimum:void 0}function Q(t){if(p(t.minContains)&&t.minContains>=0)return t.minContains}function X(t){if(p(t.minItems)&&t.minItems>=0)return t.minItems}function _(t){if(p(t.minLength)&&t.minLength>=0)return t.minLength}function Y(t){if(p(t.minProperties)&&t.minProperties>=0)return t.minProperties}function tt(t){if(u(t.multipleOf)&&t.multipleOf>=0)return t.multipleOf}function et(t){return b(t.not)||g(t.not)?t.not:void 0}function st(t,e){return t["x-options"]&&c(t["x-options"][e])?t["x-options"][e]:void 0}function it(t){return m(t.pattern)?t.pattern:void 0}function nt(t){return b(t.patternProperties)?t.patternProperties:void 0}function at(t){return f(t.prefixItems)?t.prefixItems:void 0}function ot(t){return b(t.properties)?t.properties:void 0}function rt(t){return g(t.readOnly)?t.readOnly:void 0}function lt(t){return f(t.required)?[...new Set(t.required)]:void 0}function dt(t){return b(t.then)||g(t.then)?t.then:void 0}function ct(t){return m(t.title)?t.title:void 0}function ht(t){if(m(t.type)||f(t.type))return t.type}function ut(t){return f(t.oneOf)?t.oneOf:void 0}function pt(t){return g(t.unevaluatedProperties)?t.unevaluatedProperties:void 0}function mt(t){return g(t.uniqueItems)?t.uniqueItems:void 0}const gt={getSchemaX:function(t,e){return t["x-"+e]},getSchemaSchema:function(t){return m(t.$schema)?t.$schema:void 0},getSchemaAdditionalProperties:w,getSchemaPropertyNames:S,getSchemaAllOf:B,getSchemaAnyOf:k,getSchemaConst:j,getSchemaContains:P,getSchemaDefault:O,getSchemaDependentRequired:M,getSchemaDependentSchemas:H,getSchemaDescription:F,getSchemaElse:V,getSchemaEnum:R,getSchemaExclusiveMaximum:D,getSchemaExclusiveMinimum:q,getSchemaFormat:N,getSchemaIf:U,getSchemaItems:K,getSchemaMaximum:z,getSchemaMaxContains:J,getSchemaMaxItems:$,getSchemaMaxLength:G,getSchemaMaxProperties:W,getSchemaMinimum:Z,getSchemaMinContains:Q,getSchemaMinItems:X,getSchemaMinLength:_,getSchemaMinProperties:Y,getSchemaMultipleOf:tt,getSchemaNot:et,getSchemaXOption:st,getSchemaPattern:it,getSchemaPatternProperties:nt,getSchemaPrefixItems:at,getSchemaProperties:ot,getSchemaReadOnly:rt,getSchemaRequired:lt,getSchemaThen:dt,getSchemaTitle:ct,getSchemaType:ht,getSchemaOneOf:ut,getSchemaUnevaluatedProperties:pt,getSchemaUniqueItems:mt};function ft(t,e,s,i,n){let a=[];const o=B(s);return c(o)&&(o.forEach((s=>{const o=new xs({refParser:t.refParser,schema:s,data:e,rootName:i}),r=o.getErrors();o.destroy(),r.forEach((t=>{t.path=n})),a.push(...r)})),a=I(a)),a}const bt='Has additional property "{{ property }}" but no additional properties are allowed.',vt="Must validate against at least one of the provided schemas.",Ct="Must have value of: {{ const }}.",yt="Must contain at least one item matching the provided schema.",Lt="Must have the required properties: {{ dependentRequired }}.",Et="Must be one of the enumerated values: {{ enum }}.",xt="Must be less than {{ exclusiveMaximum }}.",It="Must be greater than {{ exclusiveMinimum }}.",Tt="Must be a valid {{ format }}.",At="Must have items that validate against the provided schema.",wt="Must be at most {{ maximum }}.",St="Must have at most {{ maxItems }} items.",Bt="Must be at most {{ maxLength }} characters long.",kt="Must have at most {{ maxProperties }} properties.",jt="Must contain at most {{ maxContains }} items matching the provided schema. It currently contains {{ counter }}.",Pt="Must contain at least {{ minContains }} items matching the provided schema. It currently contains {{ counter }}.",Ot="Must be at least {{ minimum }}.",Mt="Must have at least {{ minItems }} items.",Ht="Must be at least {{ minLength }} characters long.",Ft="Must have at least {{ minProperties }} properties.",Vt="Must be multiple of {{ multipleOf }}.",Rt="Must not validate against the provided schema.",Dt="Must validate against exactly one of the provided schemas. It currently validates against {{ counter }} of the schemas.",qt='Must match the pattern: "{{ pattern }}".',Nt="Item {{ index }} fails validation.",Ut='Property name "{{ propertyName }}" fails validation.',Kt="The following properties do not comply with their schemas: {{ properties }}",zt="Must have the required properties: {{ required }}.",Jt="Must be of type {{ type }}.",$t='Has invalid unevaluated property "{{ property }}"',Gt="Must have unique items.";function Wt(t,e,s,i,n){const a=[],o=_(s);if(m(e)&&c(o)){(e=e.replace(/[\uDCA9]/g,"")).length<o&&a.push({path:n,constrain:"minLength",messages:[E(Ht,{minLength:o})]})}return a}function Zt(t,e,s,i,n){const a=[],o=k(s);if(c(o)){let s=!1;o.forEach((i=>{const n=new xs({refParser:t.refParser,schema:i,data:e}),a=n.getErrors();n.destroy(),0===a.length&&(s=!0)})),s||a.push({path:n,constrain:"anyOf",messages:[vt]})}return a}function Qt(t,e,s,i,n){const a=[],o=R(s);if(c(o)){!o.some((t=>JSON.stringify(e)===JSON.stringify(t)))&&a.push({path:n,constrain:"enum",messages:[E(Et,{enum:JSON.stringify(o)})]})}return a}function Xt(t,e,s,i,n){const a=[],o=D(s);if(u(e)&&c(o)){e>=o&&a.push({path:n,constrain:"exclusiveMaximum",messages:[E(xt,{exclusiveMaximum:o})]})}return a}function _t(t,e,s,i,n){const a=[],o=q(s);if(u(e)&&c(o)){e<=o&&a.push({path:n,constrain:"exclusiveMinimum",messages:[E(It,{exclusiveMinimum:o})]})}return a}function Yt(t,e,s,i,n){const a=[],o=N(s);let r=t.assertFormat;if(st(s,"assertFormat")&&(r=s.options.assertFormat),c(o)&&m(e)&&r){let t;"email"===o&&(t=new RegExp(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/i)),"url"===o&&(t=new RegExp(/^(?:https?|ftp):\/\/(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:[^\s:@](?:[^\s:@-]*[^\s:@])?\.?)+[a-zA-Z]{2,}|(?:\d{1,3}\.){3}\d{1,3})(?::\d{2,5})?(?:\/[^\s]*)?$/i)),"uuid"===o&&(t=new RegExp(/^(?:urn:uuid:)?[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/i));c(t)&&!t.test(e)&&a.push({path:n,constrain:"format",messages:[E(Tt,{format:o})]})}return a}function te(t,e,s,i,n){const a=[],o=K(s),r=at(s);if(f(e)&&c(o)){const t=c(r)?r.length:0;!1===o&&e.length>0&&e.length>t&&a.push({path:n,constrain:"items",messages:[At]})}return a}function ee(t,e,s,i,n){const a=[],o=$(s);if(f(e)&&c(o)){e.length>o&&a.push({path:n,constrain:"maxItems",messages:[E(St,{maxItems:o})]})}return a}function se(t,e,s,i,n){const a=[],o=G(s);if(m(e)&&c(o)){(e=e.replace(/[\uDCA9]/g,"")).length>o&&a.push({path:n,constrain:"maxLength",messages:[E(Bt,{maxLength:o})]})}return a}function ie(t,e,s,i,n){const a=[],o=W(s);if(b(e)&&c(o)){Object.keys(e).length>o&&a.push({path:n,constrain:"maxProperties",messages:[E(kt,{maxProperties:o})]})}return a}function ne(t,e,s,i,n){const a=[],o=Z(s);if(u(e)&&c(o)){e<o&&a.push({path:n,constrain:"minimum",messages:[E(Ot,{minimum:o})]})}return a}function ae(t,e,s,i,n){const a=[],o=X(s);if(f(e)&&c(o)){e.length<o&&a.push({path:n,constrain:"minItems",messages:[E(Mt,{minItems:o})]})}return a}function oe(t,e,s,i,n){const a=[],o=Y(s);if(b(e)&&c(o)){Object.keys(e).length<o&&a.push({path:n,constrain:"minProperties",messages:[E(Ft,{minProperties:o})]})}return a}function re(t,e,s,i,n){const a=[],o=tt(s);if(u(e)&&c(o)){if(0===e)return a;(!(e/o===Math.floor(e/o))||e.toString().includes("e"))&&a.push({path:n,constrain:"multipleOf",messages:[E(Vt,{multipleOf:o})]})}return a}function le(t,e,s,i,n){const a=[],o=et(s);if(c(o)){const s=new xs({refParser:t.refParser,schema:o,data:e}),i=s.getErrors();s.destroy();0===i.length&&a.push({path:n,constrain:"not",messages:[E(Rt)]})}return a}function de(t,e,s,i,n){const a=[],o=ut(s);if(c(o)){let s=0;o.forEach((i=>{const n=new xs({refParser:t.refParser,schema:i,data:e}),a=n.getErrors();n.destroy(),0===a.length&&s++})),1!==s&&a.push({path:n,constrain:"oneOf",messages:[E(Dt,{counter:s})]})}return a}function ce(t,e,s,i,n){const a=[],o=it(s);if(m(e)&&c(o)){!new RegExp(o).test(e)&&a.push({path:n,constrain:"pattern",messages:[E(qt,{pattern:o})]})}return a}function he(t,e,s,i,n){let a=[];const o=nt(s);return b(e)&&c(o)&&Object.keys(e).forEach((s=>{Object.keys(o).forEach((i=>{if(new RegExp(i).test(s)){const r=o[i],l=new xs({refParser:t.refParser,schema:r,data:e[s]}),d=l.getErrors().map((t=>({path:n+"/"+s,constrain:"patternProperties",messages:t.messages})));a=[...a,...d],l.destroy()}}))})),a}function ue(t,e,s,i,n){const o=ot(s),r=[];return b(e)&&c(o)&&Object.keys(o).forEach((s=>{if(a(e,s)){const i=o[s],a=new xs({refParser:t.refParser,schema:i,data:e[s],rootName:n});a.getErrors().length>0&&r.push(s),a.destroy()}})),r.length>0?[{path:n,constraint:"properties",messages:[E(Kt,{properties:r.join(", ")})]}]:[]}function pe(t,e,s,i,n){const a=[],o=lt(s);if(b(e)&&c(o)){const t=[],s=Object.keys(e);o.forEach((e=>{s.includes(e)||t.push(e)}));t.length>0&&a.push({path:n,constrain:"required",messages:[E(zt,{required:t.join(", ")})]})}return a}function me(t,e,s,i,n){const a=[],o=ht(s);if("any"===o)return a;if(c(o)){const t={string:t=>m(t),number:t=>u(t),integer:t=>p(t),boolean:t=>g(t),array:t=>f(t),object:t=>b(t),null:t=>d(t)};let s=!0;s=f(o)?o.some((s=>t[s](e))):t[o](e),s||a.push({path:n,constrain:"type",messages:[E(Jt,{type:o,valueType:v(e)})]})}return a}function ge(t,e,s,i,n){const a=[],o=z(s);if(u(e)&&c(o)){e>o&&a.push({path:n,constrain:"maximum",messages:[E(wt,{maximum:o})]})}return a}function fe(t,e,s,i,n){const a=[],r=mt(s);if(f(e)&&c(r)&&!0===r){const t=[];let s=!1;for(let i=0;i<e.length;i++){let n=e[i];b(n)&&(n=o(n));const a=JSON.stringify(n);if(s=t.some((t=>t===a)),s)break;t.push(a)}s&&a.push({messages:[Gt],path:n,constrain:"uniqueItems"})}return a}function be(t,e,s,i,n){const o=[],r=w(s),l=nt(s),d=ot(s);if(b(e)&&c(r)){const s=d||{},i=r,c=l||{};Object.keys(e).forEach((r=>{const l=Object.keys(c).some((t=>new RegExp(t).test(r))),d=a(s,r);if(!l&&!d)if(!1===i)o.push({path:n,constrain:"additionalProperties",messages:[E(bt,{property:r})]});else if(b(i)){const s=new xs({refParser:t.refParser,schema:i,data:e[r]}),a=s.getErrors().map((t=>({path:`${n}.${r}`,constrain:"additionalProperties",messages:t.messages})));o.push(...a),s.destroy()}}))}return o}const ve={additionalProperties:be,allOf:ft,anyOf:Zt,enum:Qt,exclusiveMaximum:Xt,exclusiveMinimum:_t,format:Yt,items:te,maximum:ge,maxItems:ee,maxLength:se,maxProperties:ie,minimum:ne,minItems:ae,minLength:Wt,minProperties:oe,multipleOf:re,not:le,oneOf:de,pattern:ce,patternProperties:he,properties:ue,required:pe,type:me,uniqueItems:fe};function Ce(t,e,s,i,n){const a=[],o=j(s);if(c(o)){l(e,o)&&a.push({path:n,constrain:"const",messages:[E(Ct,{const:JSON.stringify(o)})]})}return a}function ye(t,e,s,i,n){const a=[],o=P(s),r=Q(s),l=J(s);if(f(e)&&c(o)){let s=0;e.forEach((e=>{const i=new xs({refParser:t.refParser,schema:o,data:e});0===i.getErrors().length&&s++,i.destroy()}));const i=0===s;if(c(r)){s<r&&a.push({path:n,constrain:"minContains",messages:[E(Pt,{counter:s,minContains:r})]})}else i&&a.push({path:n,constrain:"contains",messages:[yt]});if(c(l)){s>l&&a.push({path:n,constrain:"maxContains",messages:[E(jt,{counter:s,maxContains:l})]})}}return a}function Le(t,e,s,i,n){const o=[],r=M(s);if(b(e)&&c(r)){let t=[];Object.keys(r).forEach((s=>{if(c(e[s])){const i=r[s];t=i.filter((t=>!a(e,t)))}}));t.length>0&&o.push({path:n,constrain:"dependentRequired",messages:[E(Lt,{dependentRequired:t.join(", ")})]})}return o}function Ee(t,e,s){let i=[];const n=H(s);return b(e)&&c(n)&&Object.keys(n).forEach((s=>{if(c(e[s])){const a=n[s],o=new xs({refParser:t.refParser,schema:a,data:e}),r=o.getErrors();o.destroy(),i=[...i,...r]}})),i}function xe(t,e,s){const i=[],n=U(s),a=dt(s),o=V(s);if(c(n)){if(h(a)&&h(o))return i;const s=new xs({refParser:t.refParser,schema:n,data:e}),r=s.getErrors();s.destroy();let l=[],d=[];if(c(a)){const s=new xs({refParser:t.refParser,schema:a,data:e});l=s.getErrors(),s.destroy()}if(c(o)){const s=new xs({refParser:t.refParser,schema:o,data:e});d=s.getErrors(),s.destroy()}if(!0===n)return l;if(!1===n)return d;if(0===r.length)return l;if(r.length>0)return d}return i}function Ie(t,e,s,i,n){const a=[],o=at(s);return f(e)&&c(o)&&o.forEach(((s,i)=>{const o=e[i];if(c(o)){const e=new xs({refParser:t.refParser,schema:s,data:o}),r=e.getErrors();e.destroy(),r.length>0&&a.push({path:n,constrain:"prefixItems",messages:[E(Nt,{index:i})]})}})),a}const Te={additionalProperties:be,allOf:ft,anyOf:Zt,const:Ce,contains:ye,dependentRequired:Le,dependentSchemas:Ee,enum:Qt,exclusiveMaximum:Xt,exclusiveMinimum:_t,format:Yt,if:xe,items:te,maximum:ge,maxItems:ee,maxLength:se,maxProperties:ie,minimum:ne,minItems:ae,minLength:Wt,minProperties:oe,multipleOf:re,not:le,oneOf:de,pattern:ce,patternProperties:he,properties:ue,prefixItems:Ie,required:pe,type:me,uniqueItems:fe},Ae={additionalProperties:be,allOf:ft,anyOf:Zt,const:Ce,contains:ye,dependentRequired:Le,dependentSchemas:Ee,enum:Qt,exclusiveMaximum:Xt,exclusiveMinimum:_t,format:Yt,if:xe,items:te,maximum:ge,maxItems:ee,maxLength:se,maxProperties:ie,minimum:ne,minItems:ae,minLength:Wt,minProperties:oe,multipleOf:re,not:le,oneOf:de,pattern:ce,patternProperties:he,properties:ue,prefixItems:Ie,required:pe,type:me,uniqueItems:fe};function we(t,e,s,i,n){let o=[];const r=pt(s),l=nt(s),d=ot(s),h=B(s),u=k(s),p=ut(s);if(b(e)&&c(r)){let s=c(d)?d:{};const i=r,m=l;[h,u,p].forEach((t=>{c(t)&&t.forEach((t=>{c(t.properties)&&(s={...s,...t.properties})}))})),s&&Object.keys(e).forEach((r=>{let l=!1;if(c(m)&&Object.keys(m).forEach((t=>{const e=new RegExp(t);l=e.test(r)})),l||!1!==i||a(s,r)||o.push({path:n,constrain:"unevaluatedProperties",messages:[E($t,{property:r})]}),!l&&b(i)&&!a(s,r)){const s=new xs({refParser:t.refParser,schema:i,data:e[r]}),n=s.getErrors().map((t=>({path:r,constrain:"unevaluatedProperties",messages:t.messages})));o=[...o,...n],s.destroy()}}))}return o}const Se={additionalProperties:be,allOf:ft,anyOf:Zt,const:Ce,contains:ye,dependentRequired:Le,dependentSchemas:Ee,enum:Qt,exclusiveMaximum:Xt,exclusiveMinimum:_t,format:Yt,if:xe,items:te,maximum:ge,maxItems:ee,maxLength:se,maxProperties:ie,minimum:ne,minItems:ae,minLength:Wt,minProperties:oe,multipleOf:re,not:le,oneOf:de,pattern:ce,patternProperties:he,propertie:ue,prefixItems:Ie,required:pe,type:me,unevaluatedProperties:we,uniqueItems:fe};const Be={additionalProperties:be,allOf:ft,anyOf:Zt,const:Ce,contains:ye,dependentRequired:Le,dependentSchemas:Ee,enum:Qt,exclusiveMaximum:Xt,exclusiveMinimum:_t,format:Yt,if:xe,items:te,maximum:ge,maxItems:ee,maxLength:se,maxProperties:ie,minimum:ne,minItems:ae,minLength:Wt,minProperties:oe,multipleOf:re,not:le,oneOf:de,pattern:ce,patternProperties:he,prefixItems:Ie,propertyNames:function(t,e,s,i,n){const a=[],o=S(s);return b(e)&&c(o)&&Object.keys(e).forEach((e=>{new xs({refParser:t.refParser,schema:o,data:e}).getErrors().length>0&&a.push({path:n,constrain:"propertyNames",messages:[E(Ut,{propertyName:e})]})})),a},properties:ue,required:pe,type:me,unevaluatedProperties:we,uniqueItems:fe};class ke{constructor(t={}){this.refParser=t.refParser,this.assertFormat=!!t.assertFormat&&t.assertFormat,this.draft=Be,this.jsonSchemaDrafts={"http://json-schema.org/draft-04/schema#":ve,"http://json-schema.org/draft-06/schema#":Te,"http://json-schema.org/draft-07/schema#":Ae,"https://json-schema.org/draft/2019-09/schema":Se,"https://json-schema.org/draft/2020-12/schema":Be}}getErrors(t,s,i,n){let o=[];const r=st(s,"messages"),l=e(s);return g(l)&&!0===l?o:g(l)&&!1===l?[{messages:c(r)?r:["invalid"],path:n}]:(Object.keys(this.draft).forEach((e=>{if(a(l,e)){const a=(0,this.draft[e])(this,t,s,i,n);a&&(o=[...o,...a])}})),o.length>0&&r&&(o=[{messages:r,path:n}]),o)}}class je{constructor(){this.listeners=[]}on(t,e){this.listeners.push({name:t,callback:e})}off(t){this.listeners=this.listeners.filter((e=>e.name!==t))}emit(t,...e){this.listeners.filter((e=>e.name===t)).forEach((s=>{try{s.callback(...e)}catch(i){console.error(`Error in listener callback for event "${t}":`,i)}}))}destroy(){Object.keys(this).forEach((t=>{delete this[t]}))}}class Pe extends je{constructor(t){super(),this.jedi=t.jedi,this.path=t.path||this.jedi.rootName,this.schema=t.schema,this.value=c(t.value)?t.value:void 0,this.isActive=!0,this.parent=t.parent||null,this.children=[],this.ui=null,this.isDirty=!1,this.init()}init(){this.register(),this.setInitialValue(),this.prepare(),this.setDefaultValue(),this.jedi.options.container&&this.setUI(),this.on("change",(t=>{this.parent&&(this.parent.isDirty=!0,this.parent.onChildChange(t))}))}setUI(){const t=this.jedi.uiResolver.getClass(this.schema);this.ui=new t(this)}getKey(){return this.path.split(this.jedi.pathSeparator).pop()}register(){this.jedi.register(this);const t=e=>{this.jedi.register(e),e.children.forEach(t)};this.children.forEach(t)}unregister(){this.jedi.unregister(this)}setInitialValue(){if(h(this.value)){let t;const e=ht(this.schema);"boolean"===e&&(t=!1),"number"===e&&(t=0),"integer"===e&&(t=0),"string"===e&&(t=""),"array"===e&&(t=[]),"object"===e&&(t={}),"null"===e&&(t=null),this.value=t}}setDefaultValue(){const t=O(this.schema);c(t)&&this.setValue(t,!1)}getValue(){return e(this.value)}setValue(t,e=!0,s="instance"){const i=this.jedi.options.enforceConst||st(this.schema,"enforceConst");if(c(i)&&r(i,!0)){const e=j(this.schema);c(e)&&(t=e)}this.value=t,this.emit("set-value",t,s),e&&(this.isDirty=!0,this.emit("change",s),this.jedi.emit("instance-change",this,s))}onChildChange(t){}getErrors(){if(!this.isActive)return[];return I(this.jedi.validator.getErrors(this.getValue(),this.schema,this.getKey(),this.path))}prepare(){}activate(){!1===this.isActive&&(this.isActive=!0,this.emit("change"))}deactivate(){!0===this.isActive&&(this.isActive=!1,this.emit("change"))}isReadOnly(){let t=!1;return!0===rt(this.schema)&&(t=!0),this.parent&&this.parent.isReadOnly()&&(t=!0),t}destroy(){this.unregister(),this.listeners=[],this.children.forEach((t=>{t.destroy()})),this.ui&&this.ui.destroy(),Object.keys(this).forEach((t=>{delete this[t]})),super.destroy()}}class Oe{constructor(t){this.instance=t,this.theme=null,this.control=null,this.disabled=!1,this.readOnly=this.instance.isReadOnly(),this.showingValidationErrors=!1,this.init(),this.build(),this.setAttributes(),this.enforceEnumDefault(),this.addEventListeners(),this.setContainerAttributes(),this.refreshUI();("always"===this.instance.jedi.options.showErrors||"always"===st(this.instance.schema,"showErrors"))&&this.showValidationErrors(this.instance.getErrors()),this.instance.on("set-value",(()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())})),this.instance.on("change",(()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())}))}static resolves(t){}init(){this.theme=this.instance.jedi.theme}setContainerAttributes(){this.control.container.setAttribute("data-path",this.instance.path),this.control.container.setAttribute("data-type",ht(this.instance.schema))}build(){}adaptForTable(){}setAttributes(){const t=this.control.input;if(c(t)){const e=st(this.instance.schema,"inputAttributes");if(b(e))for(const[s,i]of Object.entries(e))t.setAttribute(s,i)}}getIdFromPath(t){const e=this.instance.jedi.options.id;return e?e+"-"+n(t):n(t)}enforceEnumDefault(){const t=st(this.instance.schema,"enforceEnumDefault")??this.instance.jedi.options.enforceEnumDefault,e=R(this.instance.schema);c(e)&&!e.includes(this.instance.getValue())&&c(e[0])&&t&&this.instance.setValue(e[0],!1)}addEventListeners(){}showValidationErrors(t,e=!1){t=t.filter((t=>t.path===this.instance.path)),this.control.messages.innerHTML="",this.showingValidationErrors=!1;if(("never"===this.instance.jedi.options.showErrors||"never"===st(this.instance.schema,"showErrors"))&&!e||0===t.length)return;const s=ct(this.instance.schema)||this.instance.getKey(),i=st(this.instance.schema,"includeTitlesInMessages")||this.instance.jedi.options.includeTitlesInMessages;t.forEach((t=>{"properties"!==t.constraint&&t.messages.forEach((t=>{const e=this.getInvalidFeedback({message:i?s+": "+t:t});this.control.messages.appendChild(e)}))})),this.showingValidationErrors=!0}getInvalidFeedback(t){return this.theme.getInvalidFeedback(t)}disable(){this.disabled=!0,this.refreshUI()}enable(){this.disabled=!1,this.refreshUI()}refreshUI(){this.refreshInteractiveElements()}refreshInteractiveElements(){this.control.container.querySelectorAll("button, input, select, textarea").forEach((t=>{this.disabled||this.readOnly?t.setAttribute("disabled",""):t.removeAttribute("disabled","")}))}sanitize(t){return t}destroy(){this.control.container&&this.control.container.parentNode&&this.control.container.parentNode.removeChild(this.control.container),Object.keys(this).forEach((t=>{delete this[t]}))}}class Me extends Oe{static resolves(t){return c(U(t))}build(){this.control=this.theme.getIfThenElseControl({title:"Options",titleHidden:st(this.instance.schema,"titleHidden"),id:this.getIdFromPath(this.instance.path),description:F(this.instance.schema)})}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(t){return this.theme.getAlert(t)}}class He extends Pe{setUI(){this.ui=new Me(this)}prepare(){this.instances=[],this.instanceStartingValues=[],this.instanceWithoutIf=null,this.activeInstance=null,this.index=0,this.schemas=[],this.ifThenElseShemas=[],this.traverseSchema(this.schema),delete this.schema.if,delete this.schema.then,delete this.schema.else,this.ifThenElseShemas.forEach((t=>{c(t.then)&&this.schemas.push(C({},e(this.schema),t.then)),c(t.else)&&this.schemas.push(C({},e(this.schema),t.else))}));const t=e(this.schema);delete t.if,delete t.then,delete t.else,this.instanceWithoutIf=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path,parent:this.parent}),this.schemas.forEach((t=>{const e=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path,parent:this.parent});this.instanceStartingValues.push(e.getValue()),e.off("change"),this.instances.push(e)})),this.on("set-value",((t,e)=>{this.changeValue(t,e)}));const s=this.instanceWithoutIf.getValue();this.changeValue(s)}changeValue(t,e="instance"){const s=this.getIfValueFromValue(t),i=this.getFittestIndex(s),n=i!==this.index;this.index=i,this.activeInstance=this.instances[i],this.instances.forEach(((i,a)=>{i.off("change");const o=this.instanceStartingValues[a],r=i.getValue();let l=t;b(o)&&b(t)&&(l=n?y(o,s):y(r,t),"instance"===e&&(l=y(r,t))),i.setValue(l,!1,e),i.on("change",(t=>{const e=i.getValue();this.changeValue(e,t)}))})),this.value=this.activeInstance.getValue(),this.emit("change",e)}getIfValueFromValue(t){let e=this.instanceWithoutIf.getValue();return b(e)&&b(t)&&(e=y(e,t)),e}switchInstance(t){this.index=t,this.activeInstance=this.instances[this.index]}traverseSchema(t){const e=U(t);if(c(e)){const s=dt(t),i=V(t);this.ifThenElseShemas.push({if:e,then:c(s)?s:{}}),this.ifThenElseShemas.push({if:e,else:c(i)?i:{}})}}getFittestIndex(t){let e=this.index;return this.ifThenElseShemas.forEach(((s,i)=>{const n=new xs({schema:s.if,data:t,refParser:this.jedi.refParser}),a=n.getErrors();n.destroy(),0===a.length&&s.then&&(e=i),a.length>0&&s.else&&(e=i)})),e}destroy(){this.instances.forEach((t=>{t.destroy()})),super.destroy()}getAllOfCombinations(t){const e=[],s=(t,i)=>{if(0===i.length)return void e.push(t);const n=i[0];var a,o;s((a=t,o=n,{...a,...o}),i.slice(1)),s(t,i.slice(1))};for(let i=0;i<t.length;i++)s(t[i],t.slice(i+1));return e.sort(((t,e)=>Object.keys(t).length-Object.keys(e).length)),e}}class Fe extends Pe{prepare(){this.instances=[],this.activeInstance=null,this.lastIndex=0,this.index=0,this.schemas=[],this.switcherOptionValues=[],this.switcherOptionsLabels=[],this.on("set-value",(()=>{this.onSetValue()}));const t=ht(this.schema);if(c(k(this.schema))||c(ut(this.schema))){const t=c(k(this.schema))?k(this.schema):ut(this.schema),s=e(this.schema);delete s.anyOf,delete s.oneOf,delete s.options,t.forEach(((t,e)=>{t={...s,...t},this.jedi.refParser&&(t=this.jedi.refParser.expand(t));let i="Option-"+(e+1);const n=st(t,"switcherTitle"),a=ct(t);c(a)&&(i=a),c(n)&&(i=n),this.switcherOptionValues.push(e),this.switcherOptionsLabels.push(i),this.schemas.push(t)}))}else if(f(t))t.forEach(((t,e)=>{const s=C(this.schema),i={...s,type:t,title:t[0].toUpperCase()+t.slice(1)};c(s.title)&&(i.title=s.title),this.switcherOptionValues.push(e),this.switcherOptionsLabels.push(t.charAt(0).toUpperCase()+t.slice(1)),this.schemas.push(i)}));else if("any"===t||!t){const t=e(this.schema);this.schemas=[{...t,type:"object"},{...t,type:"array"},{...t,type:"string"},{...t,type:"number"},{...t,type:"integer"},{...t,type:"boolean"},{...t,type:"null"}],this.schemas.forEach(((t,e)=>{this.switcherOptionValues.push(e)})),this.switcherOptionsLabels=["Object","Array","String","Number","Integer","Boolean","Null"]}this.schemas.forEach((t=>{const s=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path,parent:this.parent,value:e(this.value)});c(this.value)&&s.setValue(this.value,!1),s.unregister(),s.off("change"),s.on("change",(t=>{this.value=this.activeInstance.getValue(),this.emit("change",t)})),this.instances.push(s),this.register()}));const s=this.getFittestIndex(this.value);this.switchInstance(s,this.value)}switchInstance(t,e,s="instance"){this.lastIndex=this.index,this.index=t,this.activeInstance=this.instances[t],c(e)&&this.activeInstance.setValue(e,!1,s),this.setValue(this.activeInstance.getValue(),!0,s)}onSetValue(){if(l(this.activeInstance.getValue(),this.value)){const t=this.getFittestIndex(this.value);this.switchInstance(t,this.value)}}getFittestIndex(t){let e,s,i=0;for(const n of this.instances){const a=this.jedi.validator.getErrors(t,n.schema,n.getKey(),n.path);(h(e)||h(s))&&(e=i,s=a),a.length<s.length&&(e=i,s=a),i++}return e}destroy(){this.instances.forEach((t=>{t.destroy()})),super.destroy()}}class Ve extends Pe{}class Re extends Pe{prepare(){this.properties={};const t=ot(this.schema);c(t)&&Object.keys(t).forEach((e=>{const s=t[e];this.properties[e]={schema:s};let i=!0;const n=this.jedi.options.deactivateNonRequired,a=st(this.schema,"deactivateNonRequired"),o=st(s,"deactivateNonRequired");this.isNotRequired(e)&&c(n)&&!0===n&&(i=!1),this.isNotRequired(e)&&c(a)&&!0===a&&(i=!1),this.isNotRequired(e)&&c(o)&&!0===o&&(i=!1),i&&this.createChild(s,e)})),this.refreshInstances(),this.on("set-value",((t,e)=>{this.refreshInstances(e)}))}isRequired(t){const e=lt(this.schema);return c(e)&&e.includes(t)}isDependentRequired(t){const e=M(this.schema);if(c(e)){let s=[];return Object.keys(e).forEach((t=>{if(c(this.value[t])){const i=e[t];s=i.filter((t=>!a(this.value,t)))}})),s.includes(t)}return!1}createChild(t,s,i,n=!1){const a=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path+this.jedi.pathSeparator+s,parent:this,value:e(i)});this.children.push(a),this.value[s]=a.getValue();const o=this.jedi.options.deactivateNonRequired||st(this.schema,"deactivateNonRequired");return this.isNotRequired(s)&&c(o)&&!0===o&&!n&&a.deactivate(),a}isNotRequired(t){return!this.isRequired(t)&&!this.isDependentRequired(t)}deleteChild(t){for(let e=this.children.length-1;e>=0;e--){const s=this.children[e];s.getKey()===t&&(s.destroy(),this.children.splice(e,1),this.onChildChange())}}getChild(t){return this.children.find((e=>t===e.getKey().split(this.jedi.pathSeparator).pop()))}getPropertySchema(t){let e;const s=w(this.schema),i=ot(this.schema),n=nt(this.schema);return c(i)&&a(i,t)?e=i[t]:c(n)&&Object.keys(n).forEach((s=>{new RegExp(s).test(t)&&(e=n[s])})),h(e)&&c(s)&&(e=s),h(e)&&(e={}),e}onChildChange(t){const e={};this.children.forEach((t=>{t.isActive&&(e[t.getKey()]=t.getValue())})),this.value=e,this.emit("change",t)}sortChildrenByPropertyOrder(){this.children=this.children.sort(((t,e)=>{const s=st(t.schema,"propertyOrder"),i=st(e.schema,"propertyOrder"),n=u(s),a=u(i);return!n&&a?1:n&&!a||s<i?-1:s>i?1:0}))}refreshInstances(t){const e=this.getValue();if(b(e)){Object.keys(e).forEach((s=>{const i=this.getChild(s);if(i){i.activate();const s=i.getValue(),n=e[i.getKey()];l(s,n)&&i.setValue(n,!1,t)}else{const t=this.getPropertySchema(s);this.createChild(t,s,e[s],!0)}}));for(let t=this.children.length-1;t>=0;t--){const s=this.children[t],i=s.getKey();h(e[i])&&(this.getChild(i)?s.deactivate():this.deleteChild(i))}this.sortChildrenByPropertyOrder()}}}class De extends Pe{prepare(){this.refreshChildren(),this.on("set-value",(()=>{this.refreshChildren()}))}createItemInstance(){let t;const e=this.children.length,s=K(this.schema),i=at(this.schema);t=c(s)?s:{};return c(i)&&c(i[e])&&(t=i[e]),this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path+this.jedi.pathSeparator+e,parent:this})}setDefaultValue(){const t=O(this.schema);c(t)&&this.setValue(t)}move(t,s){const i=e(this.getValue()),n=i[t];i.splice(t,1),i.splice(s,0,n),this.setValue(i)}addItem(){const t=this.createItemInstance(),s=e(this.getValue());s.push(t.getValue()),t.destroy(),this.setValue(s)}deleteItem(t){const s=e(this.getValue()).filter(((e,s)=>s!==t));this.setValue(s)}onChildChange(t){const e=[];this.children.forEach((t=>{e.push(t.getValue())})),this.value=e,this.emit("change",!0,t)}refreshChildren(){this.children=[];const t=this.getValue();f(t)&&t.forEach((t=>{const e=this.createItemInstance(t);this.children.push(e),e.setValue(t,!1)}))}}class qe extends Pe{}class Ne extends Pe{}class Ue extends Pe{}const Ke={properties:"glyphicon glyphicon-list",delete:"glyphicon glyphicon-trash",add:"glyphicon glyphicon-plus",moveUp:"glyphicon glyphicon-arrow-up",moveDown:"glyphicon glyphicon-arrow-down",collapse:"glyphicon glyphicon-chevron-down",drag:"glyphicon glyphicon-th",infoButton:"glyphicon glyphicon-question-sign",close:"glyphicon glyphicon-remove"},ze={properties:"bi bi-card-list",delete:"bi bi-trash2",add:"bi bi-plus",moveUp:"bi bi-arrow-up",moveDown:"bi bi-arrow-down",collapse:"bi bi-chevron-down",drag:"bi bi-grip-vertical",infoButton:"bi bi-question-circle",close:"bi bi-x"},Je={properties:"icon-list",delete:"icon-trash",add:"icon-plus",moveUp:"icon-arrow-up",moveDown:"icon-arrow-down",collapse:"icon-chevron-down",drag:"icon-th",infoButton:"icon-question-sign",close:"icon-remove"},$e={properties:"fa fa-list",delete:"fa fa-trash-o",add:"fa fa-plus",moveUp:"fa fa-arrow-up",moveDown:"fa fa-arrow-down",collapse:"fa fa-chevron-down",drag:"fa fa-th",infoButton:"fa fa-question-circle",close:"fa fa-times"},Ge={properties:"fas fa-list",delete:"fas fa-trash",add:"fas fa-plus",moveUp:"fas fa-arrow-up",moveDown:"fas fa-arrow-down",collapse:"fas fa-chevron-down",drag:"fas fa-grip-vertical",infoButton:"fas fa-question-circle",close:"fas fa-times"},We={properties:"fa-solid fa-list",delete:"fa-solid fa-trash",add:"fa-solid fa-plus",moveUp:"fa-solid fa-arrow-up",moveDown:"fa-solid fa-arrow-down",collapse:"fa-solid fa-chevron-down",drag:"fa-solid fa-grip-vertical",infoButton:"fa-solid fa-circle-question",close:"fa-solid fa-xmark"};class Ze extends Oe{sanitize(t){return Boolean(t)}}class Qe extends Ze{static resolves(t){return"boolean"===ht(t)&&"radios"===st(t,"format")}build(){this.control=this.theme.getRadiosControl({values:["false","true"],titles:st(this.instance.schema,"enumTitles")||["false","true"],id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),inline:st(this.instance.schema,"radioInline")||this.instance.jedi.options.radioInline,infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableRadiosControl(this.control)}addEventListeners(){this.control.radios.forEach((t=>{t.addEventListener("change",(()=>{const e="true"===t.value;this.instance.setValue(e,!0,"editor")}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((t=>{const e="true"===t.value;t.checked=e===this.instance.getValue()}))}}class Xe extends Ze{static resolves(t){return"boolean"===ht(t)}build(){this.control=this.theme.getSelectControl({values:["false","true"],titles:st(this.instance.schema,"enumTitles")||["false","true"],id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableSelectControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{const t="true"===this.control.input.value;this.instance.setValue(t,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=!0===this.instance.getValue()?"true":"false"}}class _e extends Ze{static resolves(t){return"boolean"===ht(t)&&"checkbox"===st(t,"format")}build(){this.control=this.theme.getCheckboxControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(t){this.theme.adaptForTableCheckboxControl(this.control,t)}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.checked,!0,"editor")}))}sanitize(t){return Boolean(t)}refreshUI(){this.refreshInteractiveElements(),this.control.input.checked=this.instance.getValue()}}class Ye extends Oe{sanitize(t){return String(t)}}class ts extends Ye{static resolves(t){return"string"===ht(t)&&"radios"===st(t,"format")}build(){this.control=this.theme.getRadiosControl({values:R(this.instance.schema),titles:st(this.instance.schema,"enumTitles")||R(this.instance.schema),id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),inline:st(this.instance.schema,"radioInline")||this.instance.jedi.options.radioInline,infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableRadiosControl(this.control)}addEventListeners(){this.control.radios.forEach((t=>{t.addEventListener("change",(()=>{this.instance.setValue(t.value,!0,"editor")}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((t=>{t.checked=t.value===this.instance.getValue()}))}}class es extends Ye{static resolves(t){return"string"===ht(t)&&c(R(t))}build(){this.control=this.theme.getSelectControl({values:R(this.instance.schema),titles:st(this.instance.schema,"enumTitles")||R(this.instance.schema),id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableSelectControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class ss extends Ye{static resolves(t){return"string"===ht(t)&&"textarea"===st(t,"format")}build(){this.control=this.theme.getTextareaControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableTextareaControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class is extends Ye{static resolves(t){return window.Awesomplete&&"string"===ht(t)&&c(st(t,"awesomplete"))}build(){this.control=this.theme.getInputControl({type:"text",id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")});try{this.awesomplete=new window.Awesomplete(this.control.input,st(this.instance.schema,"awesomplete")),this.control.container.querySelector(".awesomplete").style.display="block"}catch(t){console.error("Awesomplete is not available or not loaded correctly.",t)}}addEventListeners(){this.control.input.addEventListener("awesomplete-selectcomplete",(()=>{this.instance.setValue(this.control.input.value,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}destroy(){this.awesomplete.destroy(),super.destroy()}}class ns extends Ye{static resolves(t){return"string"===ht(t)}static getTypes(){return["hidden","color","date","datetime-local","email","number","month","password","search","time","tel","text","url","week"]}build(){const t=st(this.instance.schema,"format");this.control=this.theme.getInputControl({type:ns.getTypes().includes(t)?t:"text",id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden")||"hidden"===t,description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")}),"color"===t&&0===this.instance.value.length&&this.instance.setValue("#000000",!1,"editor")}adaptForTable(){this.theme.adaptForTableInputControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value,!0,"editor")}))}sanitize(t){return String(t)}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class as extends Oe{sanitize(t){return"integer"===ht(this.instance.schema)?Math.floor(Number(t)):Number(t)}}class os extends as{static resolves(t){const e=ht(t),s=R(t),i=st(t,"format");return("number"===e||"integer"===e)&&c(s)&&"radios"===i}build(){this.control=this.theme.getRadiosControl({values:R(this.instance.schema),titles:st(this.instance.schema,"enumTitles")||R(this.instance.schema),id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),inline:st(this.instance.schema,"radioInline")||this.instance.jedi.options.radioInline,infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableRadiosControl(this.control)}addEventListeners(){this.control.radios.forEach((t=>{t.addEventListener("change",(()=>{const e=this.sanitize(t.value);this.instance.setValue(e,!0,"editor")}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((t=>{t.checked=Number(t.value)===Number(this.instance.getValue())}))}}class rs extends as{static resolves(t){const e=ht(t);return("number"===e||"integer"===e)&&c(R(t))}build(){this.control=this.theme.getSelectControl({values:R(this.instance.schema),titles:st(this.instance.schema,"enumTitles")||R(this.instance.schema),id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(){this.theme.adaptForTableSelectControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{const t=this.sanitize(this.control.input.value);this.instance.setValue(t,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements();u(this.instance.getValue())&&(this.control.input.value=this.instance.getValue())}}class ls extends as{static resolves(t){const e=ht(t);return"number"===e||"integer"===e}build(){this.control=this.theme.getInputControl({type:"number",id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden")||"hidden"===st(this.instance.schema,"format"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")}),this.control.input.setAttribute("step","any")}adaptForTable(){this.theme.adaptForTableInputControl(this.control)}addEventListeners(){this.control.input.addEventListener("change",(()=>{const t=this.sanitize(this.control.input.value);this.instance.setValue(t,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements();u(this.instance.getValue())&&(this.control.input.value=this.instance.getValue())}}class ds extends Oe{static resolves(t){return"object"===ht(t)}build(){this.propertyActivators={};const t=this.instance.schema.options||{};let e=!0;const s=w(this.instance.schema);c(s)&&!1===s&&(e=!1);let i=!1;c(this.instance.jedi.options.enablePropertiesToggle)&&(i=this.instance.jedi.options.enablePropertiesToggle),c(t.enablePropertiesToggle)&&(i=t.enablePropertiesToggle),this.control=this.theme.getObjectControl({title:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),id:this.getIdFromPath(this.instance.path),description:F(this.instance.schema),enablePropertiesToggle:i,addProperty:e,enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||st(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||st(this.instance.schema,"startCollapsed"),readOnly:this.instance.isReadOnly(),infoButton:st(this.instance.schema,"infoButton")})}addEventListeners(){this.control.addPropertyBtn.addEventListener("click",(()=>{const t=this.control.addPropertyControl.input.value.split(" ").join("");if(0===t.length)return;if(c(this.instance.value[t]))return;const e=this.instance.getPropertySchema(t),s=this.instance.createChild(e,t);s.activate(),this.instance.setValue(this.instance.value,!0,"editor"),this.control.addPropertyControl.input.value="";const i=this.control.ariaLive;i.innerHTML="";const n=ct(s.schema),a=c(n)?n:t,o=this.theme.getAriaLiveMessage();o.textContent=a+" field was added to the form",i.appendChild(o),this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()}))}sanitize(t){return b(t)?t:{}}getInvalidFeedback(t){return this.theme.getAlert(t)}refreshPropertiesSlot(){const t=st(this.instance.schema,"enablePropertiesToggle");if(r(this.instance.jedi.options.enablePropertiesToggle,!0)||r(t,!0)){const t=this.instance.children.map((t=>t.getKey()));for(;this.control.propertiesActivators.firstChild;)this.control.propertiesActivators.removeChild(this.control.propertiesActivators.firstChild);t.forEach((t=>{const e=this.instance.isRequired(t),s=this.instance.isDependentRequired(t),i=!e&&!s,o=this.control.ariaLive,r=this.instance.getPropertySchema(t),l=ct(r),d=n(this.instance.path+this.instance.jedi.pathSeparator+t)+"-activator",h=c(l)?l:t;if(i){const e=this.theme.getCheckboxControl({id:d,label:h,titleHidden:!1}),s=e.input;this.propertyActivators[t]=s,s.addEventListener("change",(()=>{o.innerHTML="";const e=this.theme.getAriaLiveMessage();if(s.checked){this.instance.getChild(t)||this.instance.createChild(r,t),this.instance.getChild(t).activate(),e.textContent=h+" field was added to the form",o.appendChild(e)}else this.instance.getChild(t).deactivate(),e.textContent=h+" field was removed from the form",o.appendChild(e);this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()})),this.control.propertiesActivators.appendChild(e.container)}const u=this.propertyActivators[t];u&&(u.disabled=this.disabled,u.checked=a(this.instance.getValue(),t))}))}}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.firstChild);this.instance.children.forEach((t=>{t.isActive?(null===t.ui.control.container.parentNode&&this.control.childrenSlot.appendChild(t.ui.control.container),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable()):t.ui.control.container.parentNode&&t.ui.control.container.parentNode.removeChild(t.ui.control.container)}))}refreshUI(){this.refreshInteractiveElements(),this.refreshPropertiesSlot(),this.refreshEditors()}}class cs extends ds{static resolves(t){return"object"===ht(t)&&"grid"===st(t,"format")}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);let t=this.theme.getRow();this.control.childrenSlot.appendChild(t);let e=0;this.instance.children.forEach((s=>{if(s.isActive){const i=st(s.schema,"gridColumns")||12,n=st(s.schema,"gridOffset")||0,a=this.theme.getCol(12,i,n),o=st(s.schema,"gridNewRow")||!1;if(e+=i+n,o&&(t=this.theme.getRow(),this.control.childrenSlot.appendChild(t),e=0),t.appendChild(a),a.appendChild(s.ui.control.container),e>=12){const s=this.theme.getClearfix();t.appendChild(s),e=0}this.disabled||this.instance.isReadOnly()?s.ui.disable():s.ui.enable()}}))}}class hs extends ds{static resolves(t){return"object"===ht(t)&&"nav"===st(t,"format")}init(){super.init(),this.activeTabIndex=0}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);const t=this.theme.getRow(),e=st(this.instance.schema,"navColumns")||4,s=this.theme.getCol(12,e),i=this.theme.getCol(12,12-e),a=this.theme.getTabContent(),o=this.theme.getTabList({stacked:st(this.instance.schema,"navStacked")||!1,type:st(this.instance.schema,"navType")||"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(s),t.appendChild(i),s.appendChild(o),i.appendChild(a),this.instance.children.forEach(((t,e)=>{if(t.isActive){const s=e===this.activeTabIndex,i=n(t.path),r=ct(t.schema),l=this.theme.getTab({hasErrors:t.children.some((t=>t.ui.showingValidationErrors)),title:c(r)?r:t.getKey(),id:i,active:s});l.list.addEventListener("click",(()=>{this.activeTabIndex=e})),this.theme.setTabPaneAttributes(t.ui.control.container,s,i),o.appendChild(l.list),a.appendChild(t.ui.control.container),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable()}}))}}class us extends Oe{static resolves(t){return"array"===ht(t)}build(){this.control=this.theme.getArrayControl({title:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),id:this.getIdFromPath(this.instance.path),description:F(this.instance.schema),enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||st(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||st(this.instance.schema,"startCollapsed"),readOnly:this.instance.isReadOnly(),infoButton:st(this.instance.schema,"infoButton")})}addEventListeners(){this.control.addBtn.addEventListener("click",(()=>{this.instance.addItem()}))}getInvalidFeedback(t){return this.theme.getAlert(t)}sanitize(t){return f(t)?t:[]}isSortable(){return window.Sortable&&c(st(this.instance.schema,"sortable"))}refreshSortable(t){this.isSortable()&&(this.sortable&&this.sortable.destroy(),this.sortable=window.Sortable.create(t,{animation:150,handle:".jedi-array-drag",disabled:this.disabled||this.readOnly,onEnd:t=>{this.instance.move(t.oldIndex,t.newIndex)}}))}refreshUI(){const t=$(this.instance.schema),e=X(this.instance.schema);this.control.childrenSlot.innerHTML="",this.instance.children.forEach((t=>{const s=Number(t.getKey()),i=this.theme.getDeleteItemBtn(),n=this.theme.getMoveUpItemBtn(),a=this.theme.getMoveDownItemBtn(),o=this.theme.getBtnGroup(),{container:r,arrayActions:l,body:d}=this.theme.getArrayItem({readOnly:this.instance.isReadOnly()});if(l.appendChild(o),o.appendChild(i),o.appendChild(n),o.appendChild(a),this.isSortable()){const t=this.theme.getDragItemBtn();o.appendChild(t)}this.control.childrenSlot.appendChild(r),d.appendChild(t.ui.control.container),i.addEventListener("click",(()=>{const e=Number(t.path.split(this.instance.jedi.pathSeparator).pop());this.instance.deleteItem(e)})),n.addEventListener("click",(()=>{const t=s-1;this.instance.move(s,t)})),a.addEventListener("click",(()=>{const t=s+1;this.instance.move(s,t)})),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable(),c(e)&&this.instance.value.length<=e&&i.setAttribute("disabled","")})),this.refreshInteractiveElements(),this.refreshSortable(this.control.childrenSlot),c(t)&&t===this.instance.value.length&&this.control.addBtn.setAttribute("disabled","")}}class ps extends us{static resolves(t){return"array"===ht(t)&&"table"===st(t,"format")}init(){super.init(),this.activeTabIndex=0}addEventListeners(){this.control.addBtn.addEventListener("click",(()=>{this.activeTabIndex=this.instance.value.length,this.instance.addItem()}))}isSortable(){return window.Sortable&&c(st(this.instance.schema,"sortable"))}refreshUI(){this.control.childrenSlot.innerHTML="";const t=this.theme.getTable();this.control.childrenSlot.appendChild(t.container);const e=this.theme.getTableHeader();e.style.minWidth="100px",t.thead.appendChild(e);const s=this.instance.createItemInstance(),i=st(this.instance.schema,"tableColWidth");s.children.forEach((e=>{const s=st(e.schema,"tableColWidth"),n=this.theme.getTableHeader({minWidth:s||i||"auto"});e.ui.control.label&&(n.textContent=e.ui.control.label.textContent),e.ui.control.legend&&(n.textContent=e.ui.control.legend.textContent),t.thead.appendChild(n)})),s.destroy(),this.instance.children.forEach(((e,s)=>{const i=document.createElement("tr"),n=this.theme.getTableDefinition(),a=this.theme.getDeleteItemBtn(),o=this.theme.getMoveUpItemBtn(),r=this.theme.getMoveDownItemBtn(),l=this.theme.getBtnGroup();if(a.addEventListener("click",(()=>{this.activeTabIndex=x(s-1,0,this.instance.value.length-1),this.instance.deleteItem(s)})),o.addEventListener("click",(()=>{const t=s-1;this.activeTabIndex=t,this.instance.move(s,t)})),r.addEventListener("click",(()=>{const t=s+1;this.activeTabIndex=t,this.instance.move(s,t)})),this.isSortable()){const t=this.theme.getDragItemBtn();l.appendChild(t)}if(l.appendChild(o),l.appendChild(r),l.appendChild(a),n.appendChild(l),i.appendChild(n),e.children.length)e.children.forEach((t=>{const e=this.theme.getTableDefinition();t.ui.adaptForTable(e),e.appendChild(t.ui.control.container),i.appendChild(e)}));else{const t=this.theme.getTableDefinition();e.ui.adaptForTable(t),t.appendChild(e.ui.control.container),i.appendChild(t)}t.tbody.appendChild(i)})),this.refreshSortable(t.tbody),this.refreshInteractiveElements()}refreshSortable(t){this.isSortable()&&(this.sortable&&this.sortable.destroy(),this.sortable=window.Sortable.create(t,{animation:150,handle:".jedi-array-drag",disabled:this.disabled||this.readOnly,onEnd:t=>{this.instance.move(t.oldIndex,t.newIndex)}}))}}class ms extends us{static resolves(t){return"array"===ht(t)&&"nav"===st(t,"format")}init(){super.init(),this.activeTabIndex=0}addEventListeners(){this.control.addBtn.addEventListener("click",(()=>{this.activeTabIndex=this.instance.value.length,this.instance.addItem()}))}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="";const t=this.theme.getRow(),e=st(this.instance.schema,"navColumns")||4,s=this.theme.getCol(12,e),i=this.theme.getCol(12,12-e),a=this.theme.getTabContent(),o=this.theme.getTabList({stacked:st(this.instance.schema,"navStacked")||!1,type:st(this.instance.schema,"navType")||"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(s),t.appendChild(i),s.appendChild(o),i.appendChild(a),this.instance.children.forEach(((t,e)=>{const s=this.theme.getDeleteItemBtn(),i=this.theme.getMoveUpItemBtn(),r=this.theme.getMoveDownItemBtn();let l;t.ui.control.arrayActions.innerHTML="",t.ui.control.arrayActions.appendChild(s),t.ui.control.arrayActions.appendChild(i),t.ui.control.arrayActions.appendChild(r),this.control.childrenSlot.appendChild(t.ui.control.container);const d=st(this.instance.schema,"titleTemplate");if(d){l=E(d,{i0:e,i1:e+1,value:t.getValue()})}else{const s=ct(t.schema);l=c(s)?s+" "+(e+1):t.getKey()}s.addEventListener("click",(()=>{this.activeTabIndex=x(e-1,0,this.instance.value.length-1),this.instance.deleteItem(e)})),i.addEventListener("click",(()=>{const t=e-1;this.activeTabIndex=t,this.instance.move(e,t)})),r.addEventListener("click",(()=>{const t=e+1;this.activeTabIndex=t,this.instance.move(e,t)}));const h=e===this.activeTabIndex,u=n(t.path),p=this.theme.getTab({hasErrors:t.children.some((t=>t.ui.showingValidationErrors)),title:l,id:u,active:h});p.list.addEventListener("click",(()=>{this.activeTabIndex=e})),this.theme.setTabPaneAttributes(t.ui.control.container,h,u),o.appendChild(p.list),a.appendChild(t.ui.control.container),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable(),0===e&&i.setAttribute("disabled",""),this.instance.value.length-1===e&&r.setAttribute("disabled","")}))}}class gs extends Oe{static resolves(t){const e=ht(t),s=ut(t);return c(k(t))||c(s)||"any"===e||f(e)||h(e)}build(){this.control=this.theme.getMultipleControl({title:"Options",titleHidden:st(this.instance.schema,"titleHidden"),id:this.getIdFromPath(this.instance.path),description:F(this.instance.schema),switcherOptionValues:this.instance.switcherOptionValues,switcherOptionsLabels:this.instance.switcherOptionsLabels,switcher:!0,readOnly:this.instance.isReadOnly()})}adaptForTable(t){this.theme.adaptForTableMultipleControl(this.control,t)}addEventListeners(){this.control.switcher.input.addEventListener("change",(()=>{const t=Number(this.control.switcher.input.value);this.instance.switchInstance(t,void 0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.control.switcher.input.value=this.instance.index,this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(t){return this.theme.getAlert(t)}}class fs extends Oe{static resolves(t){return"null"===ht(t)}build(){this.control=this.theme.getNullControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden")||"hidden"===st(this.instance.schema,"format"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}sanitize(){return null}}class bs extends Ye{static resolves(t){return window.Quill&&"string"===ht(t)&&c(st(t,"quill"))}build(){this.control=this.theme.getPlaceholderControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")});try{this.quill=new window.Quill(this.control.placeholder,st(this.instance.schema,"quill"))}catch(t){console.error("Quill is not available or not loaded correctly.",t)}}addEventListeners(){this.quill.root.addEventListener("blur",(()=>{const t=this.quill.getText();t!==this.instance.getValue()&&this.instance.setValue(t,!0,"editor")}))}refreshInteractiveElements(){this.disabled||this.readOnly?this.quill.disable():this.quill.enable()}refreshUI(){super.refreshUI(),this.quill.setText(this.instance.getValue())}}class vs extends Ye{static resolves(t){return window.Jodit&&"string"===ht(t)&&c(st(t,"jodit"))}build(){this.control=this.theme.getTextareaControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")});try{this.jodit=window.Jodit.make(this.control.input,st(this.instance.schema,"jodit"))}catch(t){console.error("Jodit is not available or not loaded correctly.",t)}}addEventListeners(){this.jodit.events.on("change",(()=>{const t=this.jodit.value;t!==this.instance.getValue()&&this.instance.setValue(t,!0,"editor")}))}refreshInteractiveElements(){this.disabled||this.readOnly?this.jodit.setReadOnly(!0):this.jodit.setReadOnly(!1)}refreshUI(){super.refreshUI(),this.jodit.value=this.instance.getValue()}destroy(){this.jodit.destruct(),super.destroy()}}class Cs extends Ye{static resolves(t){return window.flatpickr&&"string"===ht(t)&&c(st(t,"flatpickr"))}build(){this.control=this.theme.getInputControl({type:"text",id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")});try{this.flatpickr=window.flatpickr(this.control.input,st(this.instance.schema,"flatpickr"))}catch(t){console.error("Flatpickr is not available or not loaded correctly.",t)}}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value,!0,"editor")}))}refreshUI(){this.refreshInteractiveElements(),this.flatpickr.setDate(this.instance.getValue())}destroy(){this.flatpickr.destroy(),super.destroy()}}class ys extends as{static resolves(t){return"undefined"!=typeof Raty&&"number"===ht(t)&&c(st(t,"raty"))}build(){this.control=this.theme.getPlaceholderControl({id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),labelIconClass:st(this.instance.schema,"labelIconClass"),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")});try{this.raty=new Raty(this.control.placeholder,Object.assign({},st(this.instance.schema,"raty"),{click:t=>{this.instance.setValue(t,!0,"editor")}})),this.raty.init()}catch(t){console.error("Raty is not available or not loaded correctly.",t)}}refreshInteractiveElements(){this.disabled||this.readOnly?this.raty.readOnly(!0):this.raty.readOnly(!1)}refreshUI(){super.refreshUI(),this.raty.score(this.instance.getValue())}}class Ls extends Oe{static resolves(t){const e=ht(t),s=K(t),i=c(s)&&ht(s),n=c(e)&&"array"===e,a=!0===mt(t),o=c(s)&&c(R(t.items)),r=c(s)&&c(i),l=["string","number","integer"],d=c(s)&&c(i)&&(l.includes(i)||f(i)&&i.some((t=>l.includes(t))));return n&&a&&o&&r&&d}build(){this.control=this.theme.getCheckboxesControl({values:R(this.instance.schema.items),titles:st(this.instance.schema.items,"enumTitles")||R(this.instance.schema.items),id:this.getIdFromPath(this.instance.path),label:ct(this.instance.schema)||this.instance.getKey(),titleHidden:st(this.instance.schema,"titleHidden"),description:F(this.instance.schema),infoButton:st(this.instance.schema,"infoButton")})}adaptForTable(t){this.theme.adaptForTableCheckboxesControl(this.control,t)}addEventListeners(){this.control.checkboxes.forEach((t=>{t.addEventListener("change",(()=>{const e=this.instance.getValue();if(t.checked)e.push(t.value);else{const s=e.indexOf(t.value);s>-1&&e.splice(s,1)}this.instance.setValue(e,!0,"editor")}))}))}refreshUI(){this.refreshInteractiveElements();const t=this.instance.getValue();this.control.checkboxes.forEach((e=>{e.checked=t.includes(e.value)}))}}class Es{constructor(t){this.customEditors=t.customEditors??[],this.editors=[gs,Me,Qe,_e,Xe,ts,es,ss,is,bs,vs,Cs,ns,ys,os,rs,ls,cs,hs,ds,Ls,ps,ms,us,fs]}getClass(t){for(const e of this.customEditors)if(e.resolves(t))return e;for(const e of this.editors)if(e.resolves(t))return e;return null}}class xs extends je{constructor(t){super(),this.options=Object.assign({container:null,iconLib:null,theme:null,refParser:null,enablePropertiesToggle:!1,enableCollapseToggle:!1,startCollapsed:!1,deactivateNonRequired:!1,schema:{},showErrors:"change",data:void 0,assertFormat:!1,mergeAllOf:!1,enforceConst:!1,enforceEnumDefault:!0,customEditors:[],hiddenInputAttributes:{},id:"",radioInline:!1,includeTitlesInMessages:!0},t),this.rootName="#",this.pathSeparator="/",this.instances={},this.root=null,this.validator=null,this.schema={},this.theme=null,this.uiResolver=null,this.refParser=this.options.refParser?this.options.refParser:null,this.lastFocusedId=null,this.init(),this.bindEventListeners()}init(){if(this.uiResolver=new Es({customEditors:this.options.customEditors}),this.theme=this.options.theme,c(this.options.iconLib))switch(this.options.iconLib){case"glyphicons":this.theme.icons=Ke;break;case"bootstrap-icons":this.theme.icons=ze;break;case"fontawesome3":this.theme.icons=Je;break;case"fontawesome4":this.theme.icons=$e;break;case"fontawesome5":this.theme.icons=Ge;break;case"fontawesome6":this.theme.icons=We}this.schema=this.options.schema,this.validator=new ke({refParser:this.refParser,assertFormat:this.options.assertFormat}),this.root=this.createInstance({jedi:this,schema:this.options.schema,path:this.rootName}),c(this.options.data)&&this.root.setValue(this.options.data,!1),this.options.container&&(this.container=this.options.container,this.appendHiddenInput(),this.container.appendChild(this.root.ui.control.container),this.container.classList.add("jedi-ready"))}bindEventListeners(){this.root&&this.root.on("change",(t=>{this.emit("change",t)})),this.hiddenInput&&(this.on("change",(t=>{this.hiddenInput.value=JSON.stringify(this.getValue()),"editor"===t&&this.refreshFocus()})),document.addEventListener("focus",(t=>{this.lastFocusedId=t.target.id}),!0),document.addEventListener("keydown",(t=>{this.lastKeyEvent=t})))}refreshFocus(){const t=document.getElementById(this.lastFocusedId);t&&(t.focus(),this.lastKeyEvent&&"Tab"===this.lastKeyEvent.key&&this.simulateTab(t,this.lastKeyEvent.shiftKey))}simulateTab(t,e){const s=document.querySelectorAll('input, button, select, textarea, a[href], [tabindex]:not([tabindex="-1"])'),i=Array.prototype.indexOf.call(s,t);-1!==i&&(e?i>0&&s[i-1].focus():i+1<s.length&&s[i+1].focus())}appendHiddenInput(){const t=this.root.ui.theme.getInputControl({type:"hidden",id:"jedi-hidden-input"});this.hiddenInput=t.input,this.hiddenInput.setAttribute("name","json"),this.hiddenInput.removeAttribute("aria-describedby"),this.options.hiddenInputAttributes&&b(this.options.hiddenInputAttributes)&&Object.keys(this.options.hiddenInputAttributes).forEach((t=>{this.hiddenInput.setAttribute(t,this.options.hiddenInputAttributes[t])})),this.container.appendChild(this.hiddenInput),this.hiddenInput.value=JSON.stringify(this.getValue())}register(t){this.instances[t.path]=t}unregister(t){this.instances[t.path]=null,delete this.instances[t.path]}createInstance(t){if(this.options.mergeAllOf||st(t.schema,"mergeAllOf")){const e=B(t.schema);c(e)&&e.forEach((e=>{t.schema=C({},t.schema,e)}))}this.refParser&&(t.schema=this.refParser.expand(t.schema,t.path));const e=ht(t.schema),s=ut(t.schema),i=k(t.schema),n=U(t.schema);return c(i)||c(s)||"any"===e||f(e)||h(e)?new Fe(t):c(n)?new He(t):"object"===e?new Re(t):"array"===e?new De(t):"string"===e?new qe(t):"number"===e||"integer"===e?new Ne(t):"boolean"===e?new Ve(t):"null"===e?new Ue(t):void 0}getValue(){return this.root.getValue()}setValue(){this.root.setValue(...arguments)}getInstance(t){return this.instances[t]}disable(){this.root.ui.disable()}enable(){this.root.ui.enable()}getErrors(){let t=[];return Object.keys(this.instances).forEach((e=>{const s=this.instances[e];t=[...t,...s.getErrors()]})),t}showValidationErrors(t=null){if(!this.options.container)return!1;const e=t||this.getErrors();Object.keys(this.instances).forEach((t=>{this.instances[t].ui.showValidationErrors(e,!0)}))}destroy(){this.root.destroy(),this.options.container&&(this.container.innerHTML=""),Object.keys(this).forEach((t=>{delete this[t]}))}}class Is{constructor(t=null){this.icons=t,this.useToggleEvents=!0,this.init()}init(){this.useToggleEvents=!0}getEditorContainer(){const t=document.createElement("div");return t.classList.add("jedi-editor-container"),t}getFieldset(){const t=document.createElement("fieldset");return t.classList.add("jedi-editor-fieldset"),t}getLegend(t){const e=document.createElement("legend"),s=document.createElement("span");return e.classList.add("jedi-editor-legend"),s.classList.add("jedi-editor-legend-text"),e.setAttribute("aria-labelledby","#legend-"+t.id),s.textContent=t.textContent,s.setAttribute("id","#legend-"+t.id),e.appendChild(s),{legend:e,legendText:s}}getLabel(t){const e=document.createElement("label"),s=document.createElement("span"),i=this.getIcon(t.labelIconClass);return e.setAttribute("for",t.for),s.textContent=t.text,e.classList.add("jedi-title"),t.visuallyHidden&&this.visuallyHidden(e),e.appendChild(i),e.appendChild(s),{label:e,labelText:s,icon:i}}getFakeLabel(t){const e=document.createElement("span"),s=document.createElement("span"),i=this.getIcon(t.labelIconClass);return s.textContent=t.text,e.classList.add("jedi-title"),t.visuallyHidden&&this.visuallyHidden(e),e.appendChild(i),e.appendChild(s),{label:e,labelText:s,icon:i}}getIcon(t=""){const e=document.createElement("i");let s=t.split(" ");return s=s.filter((t=>t.length>0)),s&&s.forEach((t=>{e.classList.add(t)})),e}getCard(){const t=document.createElement("div");return t.classList.add("jedi-editor-card"),t}getCardHeader(){const t=document.createElement("div");return t.classList.add("jedi-editor-card-header"),t}getCardBody(){const t=document.createElement("div");return t.classList.add("jedi-editor-card-body"),t}getActionsSlot(){const t=document.createElement("div");return t.classList.add("jedi-actions-slot"),t}getArrayActionsSlot(){const t=document.createElement("span");return t.classList.add("jedi-array-actions-slot"),t}getChildrenSlot(){const t=document.createElement("div");return t.classList.add("jedi-children-slot"),t}getMessagesSlot(t={}){const e=document.createElement("div");return e.classList.add("jedi-messages-slot"),e.setAttribute("aria-atomic","false"),e.setAttribute("aria-live","polite"),t.id&&e.setAttribute("id",t.id),e}getControlSlot(){const t=document.createElement("div");return t.classList.add("jedi-control-slot"),t}getPropertiesToggle(t){const e=this.getButton(t);return e.classList.add("jedi-properties-toggle"),e.addEventListener("click",(()=>{t.propertiesContainer.open?t.propertiesContainer.close():t.propertiesContainer.showModal()})),e}getCollapse(t){const e=document.createElement("div");return e.classList.add("jedi-collapse"),e.setAttribute("id",t.id),this.useToggleEvents&&t.startCollapsed&&(e.style.display="none"),e}getCollapseToggle(t){const e=this.getButton(t);e.classList.add("jedi-collapse-toggle"),this.useToggleEvents&&e.addEventListener("click",(()=>{"none"===t.collapse.style.display?t.collapse.style.display="block":t.collapse.style.display="none"}));let s=t.startCollapsed;return e.style.transition="transform 0.1s ease",s&&(e.style.transform="rotate(90deg)"),e.addEventListener("click",(()=>{e.style.transform=s?"rotate(0deg)":"rotate(90deg)",s=!s})),e}getPropertiesSlot(t){const e=document.createElement("dialog");return e.classList.add("jedi-properties-slot"),e.setAttribute("id",t.id),window.addEventListener("click",(t=>{t.target===e&&e.close()})),e}getPropertiesAriaLive(){const t=document.createElement("div");return t.classList.add("jedi-properties-aria-live"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t}getAriaLiveMessage(t){const e=document.createElement("p");return e.classList.add("jedi-aria-live-message"),e.textContent=t,this.visuallyHidden(e),e}getPropertiesActivators(){const t=document.createElement("div");return t.classList.add("jedi-properties-activators"),t}getBtnGroup(){const t=document.createElement("span");return t.classList.add("jedi-btn-group"),t}getButton(t){const e=document.createElement("button");e.classList.add("jedi-btn"),e.setAttribute("type","button"),t.value&&(e.value=t.value),t.id&&e.setAttribute("id",t.id);const s=document.createElement("span");if(s.textContent=t.textContent,this.icons&&t.icon){const i=this.getIcon(this.icons[t.icon]);i.setAttribute("title",t.textContent),e.appendChild(i),this.visuallyHidden(s)}return e.appendChild(s),e}getArrayBtnAdd(){const t=this.getButton({textContent:"Add item",icon:"add"});return t.classList.add("jedi-array-add"),t}getAddPropertyButton(){const t=this.getButton({textContent:"Add property"});return t.classList.add("jedi-add-property-btn"),t}getDeleteItemBtn(){const t=this.getButton({textContent:"Delete item",icon:"delete"});return t.classList.add("jedi-array-delete"),t}getMoveUpItemBtn(){const t=this.getButton({textContent:"Move up",icon:"moveUp"});return t.classList.add("jedi-array-move-up"),t}getMoveDownItemBtn(){const t=this.getButton({textContent:"Move down",icon:"moveDown"});return t.classList.add("jedi-array-move-down"),t}getDragItemBtn(){const t=this.getButton({textContent:"Drag",icon:"drag"});return t.classList.add("jedi-array-drag"),t}getDescription(t={}){const e=document.createElement("small");return e.style.display="block",e.classList.add("jedi-description"),t.content&&(e.innerHTML=this.purifyContent(t.content)),t.id&&e.setAttribute("id",t.id),e}getInfoButton(t={}){const e=document.createElement("span"),s=document.createElement("a"),i=document.createElement("span");if(s.setAttribute("href","#"),e.classList.add("jedi-info-button-container"),s.classList.add("jedi-info-button"),e.style.display="inline-block",s.style.marginLeft="4px",i.textContent="More information",this.visuallyHidden(i),b(t.attributes))for(const[n,a]of Object.entries(t.attributes))s.setAttribute(n,a);if(this.icons){const t=this.getIcon(this.icons.infoButton);t.setAttribute("title","More information"),s.appendChild(t)}return s.appendChild(i),e.appendChild(s),{container:e,infoButton:s}}infoButtonAsModal(t,e,s={}){const i=document.createElement("dialog"),n=document.createElement("div"),a=document.createElement("div"),o=this.getButton({textContent:"Close",icon:"close"});i.classList.add("jedi-modal-dialog"),n.classList.add("jedi-modal-title"),a.classList.add("jedi-modal-content"),o.classList.add("jedi-modal-close"),t.container.appendChild(i),i.appendChild(n),i.appendChild(a),i.appendChild(o),window.addEventListener("click",(t=>{t.target===i&&i.close()})),o.addEventListener("click",(()=>{i.close()})),t.infoButton.addEventListener("click",(()=>{i.showModal()})),m(s.title)&&(n.innerHTML=this.purifyContent(s.title)),m(s.content)&&(a.innerHTML=this.purifyContent(s.content))}purifyContent(t){if(window.DOMPurify){const e=window.DOMPurify.sanitize(t);return window.DOMPurify.removed.length&&console.warn("DOMPurify removed the following elements:",window.DOMPurify.removed),e}{const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText}}getPlaceholderControl(t){var e;const s=document.createElement("div"),i=document.createElement("div"),n=this.getActionsSlot(),a=this.getArrayActionsSlot(),{label:o,labelText:r}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden,labelIconClass:t.labelIconClass}),l=t.id+"-description",d=this.getDescription({content:t.description,id:l}),c=t.id+"-messages",h=this.getMessagesSlot({id:c}),u=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(u,t.id,t.infoButton),s.appendChild(o),b(t.infoButton)&&o.appendChild(u.container),s.appendChild(i),s.appendChild(d),s.appendChild(h),s.appendChild(n),n.appendChild(a),{container:s,placeholder:i,label:o,labelText:r,description:d,messages:h,actions:n,arrayActions:a}}getObjectControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardBody(),o=this.getPropertiesAriaLive(),r=this.getDescription({content:t.description}),l=this.getMessagesSlot(),d=this.getChildrenSlot(),c=this.getPropertiesSlot({id:"properties-slot-"+t.id}),h=this.getPropertiesToggle({textContent:t.title+" properties",id:"properties-slot-toggle-"+t.id,icon:"properties",propertiesContainer:c}),u="collapse-"+t.id,p=this.getCollapse({id:u,startCollapsed:t.startCollapsed}),m=this.getCollapseToggle({textContent:t.title+" properties",id:"collapse-toggle-"+t.id,icon:"collapse",collapseId:u,collapse:p,startCollapsed:t.startCollapsed}),g=this.getPropertiesActivators(),f=this.getInputControl({type:"text",id:"jedi-add-property-input-"+t.id,label:"Property"}),v=this.getAddPropertyButton(),C=this.getFieldset(),{legend:y,legendText:L}=this.getLegend({textContent:t.title,id:t.id}),E=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(E,t.id,t.infoButton),v.classList.add("jedi-object-add"),s.appendChild(C),s.appendChild(c),C.appendChild(y),b(t.infoButton)&&L.appendChild(E.container),C.appendChild(p),p.appendChild(a),t.description&&a.appendChild(r),a.appendChild(l),!1===t.readOnly&&y.appendChild(i),i.appendChild(n),a.appendChild(d),t.addProperty&&(c.appendChild(f.container),c.appendChild(v),c.appendChild(document.createElement("hr"))),t.enablePropertiesToggle&&(i.appendChild(h),c.appendChild(o),c.appendChild(g)),t.enableCollapseToggle&&i.appendChild(m),{container:s,collapse:p,collapseToggle:m,body:a,actions:i,messages:l,childrenSlot:d,propertiesToggle:h,propertiesContainer:c,addPropertyControl:f,addPropertyBtn:v,ariaLive:o,propertiesActivators:g,arrayActions:n}}getArrayControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardBody(),o=this.getDescription({content:t.description}),r=this.getMessagesSlot(),l=this.getChildrenSlot(),d=this.getBtnGroup(),c=this.getArrayBtnAdd(),h=this.getFieldset(),{legend:u,legendText:p}=this.getLegend({textContent:t.title,id:t.id}),m="collapse-"+t.id,g=this.getCollapse({id:m,startCollapsed:t.startCollapsed}),f=this.getCollapseToggle({textContent:t.title+" properties",id:"collapse-toggle-"+t.id,icon:"collapse",collapseId:m,collapse:g,startCollapsed:t.startCollapsed}),v=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(v,t.id,t.infoButton),s.appendChild(h),h.appendChild(u),b(t.infoButton)&&p.appendChild(v.container),h.appendChild(g),g.appendChild(a),t.description&&a.appendChild(o),a.appendChild(r),!1===t.readOnly&&u.appendChild(i),i.appendChild(d),d.appendChild(c),i.appendChild(n),a.appendChild(l),t.enableCollapseToggle&&i.appendChild(f),{container:s,collapseToggle:f,collapse:g,body:a,actions:i,messages:r,childrenSlot:l,btnGroup:d,addBtn:c,arrayActions:n}}getArrayItem(t={}){const e=document.createElement("div"),s=this.getCard(),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardHeader(),o=this.getCardBody();return e.appendChild(s),s.appendChild(a),s.appendChild(o),!1===t.readOnly&&a.appendChild(i),i.appendChild(n),{container:e,card:s,header:a,body:o,actions:i,arrayActions:n}}getMultipleControl(t={}){const e=document.createElement("div"),s=this.getCard(),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardHeader({textContent:t.title,titleHidden:t.titleHidden}),o=this.getCardBody(),r=this.getDescription({content:t.description}),l=this.getMessagesSlot(),d=this.getChildrenSlot(),c=T(5),h=this.getSwitcher({values:t.switcherOptionValues,titles:t.switcherOptionsLabels,id:t.id+"-switcher-"+c,label:t.id+"-switcher-"+c,titleHidden:!0,readOnly:t.readOnly});return h.container.classList.add("jedi-switcher"),e.appendChild(r),t.description&&e.appendChild(r),e.appendChild(s),s.appendChild(a),s.appendChild(o),!1===t.readOnly&&a.appendChild(i),t.switcher&&i.appendChild(h.container),i.appendChild(n),o.appendChild(l),o.appendChild(d),{container:e,card:s,header:a,body:o,actions:i,messages:l,childrenSlot:d,switcher:h,arrayActions:n}}adaptForTableMultipleControl(t,e){}getIfThenElseControl(t){const e=document.createElement("div"),s=this.getCard(),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardHeader({textContent:t.title,titleHidden:t.titleHidden}),o=this.getCardBody(),r=this.getDescription({content:t.description}),l=this.getMessagesSlot(),d=this.getChildrenSlot();return o.appendChild(r),e.appendChild(l),e.appendChild(d),{container:e,card:s,header:a,body:o,actions:i,messages:l,childrenSlot:d,arrayActions:n}}getNullControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),{label:a,labelText:o}=this.getFakeLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden,labelIconClass:t.labelIconClass}),r=t.id+"-description",l=this.getDescription({content:t.description,id:r}),d=this.getMessagesSlot(),c=document.createElement("br"),h=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(h,t.id,t.infoButton),s.appendChild(a),b(t.infoButton)&&a.appendChild(h.container),s.appendChild(c),s.appendChild(l),s.appendChild(d),s.appendChild(i),i.appendChild(n),{container:s,label:a,labelText:o,description:l,messages:d,actions:i,arrayActions:n}}getTextareaControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=document.createElement("textarea");a.setAttribute("id",t.id),a.style.width="100%";const{label:o,labelText:r}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden}),l=t.id+"-description",d=this.getDescription({content:t.description,id:l}),c=t.id+"-messages",h=this.getMessagesSlot({id:c}),u=c+" "+l;a.setAttribute("aria-describedby",u);const p=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(p,t.id,t.infoButton),s.appendChild(o),b(t.infoButton)&&o.appendChild(p.container),s.appendChild(a),s.appendChild(d),s.appendChild(h),s.appendChild(i),i.appendChild(n),{container:s,input:a,label:o,labelText:r,description:d,messages:h,actions:i,arrayActions:n}}adaptForTableTextareaControl(t){this.visuallyHidden(t.label),this.visuallyHidden(t.description),this.visuallyHidden(t.messages)}getInputControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=document.createElement("input");a.setAttribute("type",t.type),a.setAttribute("id",t.id),a.style.width="100%";const{label:o,labelText:r}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden,labelIconClass:t.labelIconClass}),l=t.id+"-description",d=this.getDescription({content:t.description,id:l}),c=t.id+"-messages",h=this.getMessagesSlot({id:c}),u=c+" "+l;a.setAttribute("aria-describedby",u),s.appendChild(o);const p=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(p,t.id,t.infoButton),b(t.infoButton)&&o.appendChild(p.container),s.appendChild(a),s.appendChild(d),s.appendChild(h),s.appendChild(i),i.appendChild(n),{container:s,input:a,label:o,infoButton:p,labelText:r,description:d,messages:h,actions:i,arrayActions:n}}adaptForTableInputControl(t){this.visuallyHidden(t.label),this.visuallyHidden(t.description),this.visuallyHidden(t.messages)}getRadiosControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getFieldset(),o=this.getCardBody(),{legend:r,legendText:l}=this.getLegend({textContent:t.label,id:t.id}),d=t.id+"-messages",h=this.getMessagesSlot({id:d}),u=t.id+"-description",p=this.getDescription({content:t.description,id:u}),m=this.getInfoButton(t.infoButton);"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(m,t.id,t.infoButton),t.titleHidden&&this.visuallyHidden(r);const g=[],f=[],v=[],C=[];return t.values.forEach(((e,s)=>{const i=document.createElement("div");g.push(i);const n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("id",t.id+"-"+s),n.setAttribute("name",t.id),n.setAttribute("value",e),f.push(n);const a=d+" "+u;n.setAttribute("aria-describedby",a);const o=document.createElement("label");o.setAttribute("for",t.id+"-"+s);const r=document.createElement("span");C.push(r),c(t.titles)&&c(t.titles[s])&&(r.textContent=t.titles[s]??e),v.push(o)})),s.appendChild(a),s.appendChild(i),a.appendChild(r),b(t.infoButton)&&l.appendChild(m.container),a.appendChild(o),i.appendChild(n),g.forEach(((t,e)=>{o.appendChild(g[e]),t.appendChild(f[e]),t.appendChild(v[e]),v[e].appendChild(C[e])})),a.appendChild(p),a.appendChild(h),{container:s,fieldset:a,legend:r,infoButton:m,body:o,radios:f,labels:v,labelTexts:C,radioControls:g,description:p,messages:h,actions:i,arrayActions:n}}adaptForTableRadiosControl(t){this.visuallyHidden(t.legend),this.visuallyHidden(t.description),this.visuallyHidden(t.messages)}getCheckboxControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=document.createElement("span"),o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id",t.id);const{label:r,labelText:l}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden}),d=t.id+"-description",c=this.getDescription({content:t.description,id:d}),h=t.id+"-messages",u=this.getMessagesSlot({id:h}),p=h+" "+d;o.setAttribute("aria-describedby",p);const m=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(m,t.id,t.infoButton),s.appendChild(a),s.appendChild(i),i.appendChild(n),a.appendChild(o),a.appendChild(r),b(t.infoButton)&&a.appendChild(m.container),a.appendChild(c),a.appendChild(u),{container:s,formGroup:a,input:o,label:r,infoButton:m,labelText:l,description:c,messages:u,actions:i,arrayActions:n}}adaptForTableCheckboxControl(t,e){this.visuallyHidden(t.label),this.visuallyHidden(t.description),this.visuallyHidden(t.messages),e.style.textAlign="center"}getCheckboxesControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getFieldset(),o=this.getCardBody(),{legend:r,legendText:l}=this.getLegend({textContent:t.label,id:t.id}),d=t.id+"-messages",c=this.getMessagesSlot({id:d}),h=t.id+"-description",u=this.getDescription({content:t.description,id:h});t.titleHidden&&this.visuallyHidden(r);const p=[],m=[],g=[],f=[];t.values.forEach(((e,s)=>{const i=document.createElement("div");p.push(i);const n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id",t.id+"-"+s),n.setAttribute("value",e),m.push(n);const a=d+" "+h;n.setAttribute("aria-describedby",a);const o=document.createElement("label");o.setAttribute("for",t.id+"-"+s);const r=document.createElement("span");f.push(r),t.titles&&t.titles[s]&&(r.textContent=t.titles[s]),g.push(o)}));const v=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(v,t.id,t.infoButton),s.appendChild(a),s.appendChild(i),a.appendChild(r),b(t.infoButton)&&l.appendChild(v.container),a.appendChild(o),i.appendChild(n),p.forEach(((t,e)=>{o.appendChild(p[e]),t.appendChild(m[e]),t.appendChild(g[e]),g[e].appendChild(f[e])})),o.appendChild(u),o.appendChild(c),{container:s,fieldset:a,legend:r,body:o,checkboxes:m,labels:g,labelTexts:f,checkboxControls:p,description:u,messages:c,actions:i,arrayActions:n}}adaptForTableCheckboxesControl(t,e){this.visuallyHidden(t.legend),this.visuallyHidden(t.description),this.visuallyHidden(t.messages),e.style.textAlign="center"}getSelectControl(t){var e;const s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=document.createElement("select");a.setAttribute("id",t.id),t.values.forEach(((e,s)=>{const i=document.createElement("option");i.setAttribute("value",e),t.titles&&t.titles[s]&&(i.textContent=t.titles[s]),a.appendChild(i)}));const{label:o,labelText:r}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden}),l=t.id+"-description",d=this.getDescription({content:t.description,id:l}),c=t.id+"-messages",h=this.getMessagesSlot({id:c}),u=c+" "+l;a.setAttribute("aria-describedby",u);const p=this.getInfoButton(t.infoButton);return"modal"===(null==(e=null==t?void 0:t.infoButton)?void 0:e.variant)&&this.infoButtonAsModal(p,t.id,t.infoButton),s.appendChild(o),b(t.infoButton)&&o.appendChild(p.container),s.appendChild(a),s.appendChild(d),s.appendChild(h),s.appendChild(i),i.appendChild(n),{container:s,input:a,label:o,infoButton:p,labelText:r,description:d,messages:h,actions:i,arrayActions:n}}adaptForTableSelectControl(t){this.visuallyHidden(t.label),this.visuallyHidden(t.description),this.visuallyHidden(t.messages)}getSwitcher(t){const e=document.createElement("span"),s=document.createElement("select");s.setAttribute("id",t.id),t.values.forEach(((e,i)=>{const n=document.createElement("option");n.setAttribute("value",e),t.titles&&t.titles[i]&&(n.textContent=t.titles[i]),s.appendChild(n)}));const{label:i,labelText:n}=this.getLabel({for:t.id,text:t.label,visuallyHidden:t.titleHidden});return e.appendChild(i),e.appendChild(s),{container:e,input:s,label:i,labelText:n}}getAlert(t){return this.getInvalidFeedback(t)}getInvalidFeedback(t){const e=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span");return s.textContent=t.message,i.textContent="⚠ ",i.classList.add("jedi-error-message"),i.setAttribute("aria-hidden","true"),e.classList.add("jedi-error-message"),e.appendChild(i),e.appendChild(s),e}getRow(){const t=document.createElement("div");return t.classList.add("jedi-row"),t}getCol(t,e,s){const i=document.createElement("div");return i.classList.add("jedi-col-xs-"+t),i.classList.add("jedi-col-md-"+e),s&&i.classList.add("jedi-col-md-offset-"+s),i}getClearfix(){const t=document.createElement("div");return t.classList.add("clearfix"),t}getTabList(){const t=document.createElement("ul");return t.classList.add("jedi-nav-list"),t}getTab(t){const e=document.createElement("li"),s=document.createElement("a");return s.classList.add("jedi-nav-link"),s.setAttribute("href","#"+t.id),s.textContent=t.hasErrors?"⚠ "+t.title:t.title,e.appendChild(s),{list:e,link:s}}getTabContent(){const t=document.createElement("div");return t.classList.add("tab-content"),t}getTable(){const t=document.createElement("div"),e=document.createElement("table"),s=document.createElement("thead"),i=document.createElement("tbody");return e.appendChild(s),e.appendChild(i),t.appendChild(e),{container:t,table:e,thead:s,tbody:i}}getTableDefinition(){const t=document.createElement("td");return t.style.verticalAlign="middle",t.style.whiteSpace="nowrap",t}getTableHeader(t={}){const e=document.createElement("th");return e.style.paddingLeft="12px",e.style.paddingRight="12px",t.minWidth&&(e.style.minWidth=t.minWidth),e}setTabPaneAttributes(t,e,s){t.setAttribute("id",s),t.classList.add("jedi-tab-pane")}visuallyHidden(t){t.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}visuallyVisible(t){t.removeAttribute("style")}physicallyHidden(t){t.style.display="none"}}return{Schema:gt,Utils:A,EditorBoolean:Ze,EditorBooleanRadios:Qe,EditorBooleanSelect:Xe,EditorBooleanCheckbox:_e,EditorString:Ye,EditorStringRadios:ts,EditorStringSelect:es,EditorStringTextarea:ss,EditorStringAwesomplete:is,EditorStringInput:ns,EditorNumber:as,EditorNumberRadios:os,EditorNumberSelect:rs,EditorNumberInput:ls,EditorObjectGrid:cs,EditorObjectNav:hs,EditorObject:ds,EditorArrayNav:ms,EditorArray:us,EditorMultiple:gs,EditorIfThenElse:Me,EditorNull:fs,Theme:Is,ThemeBootstrap3:class extends Is{init(){this.useToggleEvents=!1}getAddPropertyButton(){const t=super.getAddPropertyButton();return t.classList.add("btn-primary"),t.classList.add("btn-block"),t}getCollapseToggle(t){const e=super.getCollapseToggle(t);return e.setAttribute("href","#"+t.collapseId),e.setAttribute("data-toggle","collapse"),e}getCollapse(t){const e=super.getCollapse(t);return e.classList.add("collapse"),t.startCollapsed||e.classList.add("in"),e}getFieldset(){const t=document.createElement("fieldset");return t.classList.add("panel"),t.classList.add("panel-default"),t}getLegend(t){const e=super.getLegend(t),{legend:s}=e;return s.classList.add("h5"),s.classList.add("panel-heading"),s.classList.add("pull-left"),s.setAttribute("style","margin: 0; display: flex; justify-content: space-between; align-items: center;"),e}getLabel(t){const e=super.getLabel(t);return e.icon.classList&&e.icon.setAttribute("style","margin-right: 5px;"),e}getCard(){const t=super.getCard();return t.classList.add("panel"),t.classList.add("panel-default"),t}getCardHeader(t){const e=super.getCardHeader(t);return e.classList.add("panel-heading"),e.classList.add("text-right"),e}getCardBody(){const t=super.getCardBody();return t.classList.add("panel-body"),t.style.clear="both",t}getBtnGroup(){const t=super.getBtnGroup();return t.classList.add("btn-group"),t}getButton(t){const e=super.getButton(t);return e.classList.add("btn"),e.classList.add("btn-xs"),e.classList.add("btn-default"),e}getDescription(t){const e=super.getDescription(t);return e.classList.add("text-muted"),e.style.marginBottom="15px",e}getTextareaControl(t){const e=super.getTextareaControl(t),{container:s,input:i,label:n}=e;return s.classList.add("form-group"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableTextareaControl(t){super.adaptForTableTextareaControl(t),t.container.classList.remove("form-group")}getInputControl(t){const e=super.getInputControl(t),{container:s,input:i,label:n}=e;return s.classList.add("form-group"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableInputControl(t,e){super.adaptForTableInputControl(t,e),t.container.classList.remove("form-group")}getRadiosControl(t){const e=super.getRadiosControl(t),{body:s,radios:i,labels:n,labelTexts:a,radioControls:o,description:r,messages:l}=e;return o.forEach(((e,r)=>{e.classList.add("radio"),t.inline&&(e.style.display="inline-flex",e.style.alignItems="center",e.style.paddingLeft="0",e.style.marginRight="30px"),s.appendChild(o[r]),e.appendChild(n[r]),n[r].appendChild(i[r]),n[r].appendChild(a[r])})),s.appendChild(r),s.appendChild(l),e}adaptForTableRadiosControl(t,e){super.adaptForTableRadiosControl(t,e),t.fieldset.classList.remove("panel"),t.fieldset.classList.remove("panel-default"),t.body.classList.remove("panel-body")}getCheckboxesControl(t){const e=super.getCheckboxesControl(t),{body:s,checkboxes:i,labels:n,labelTexts:a,checkboxControls:o}=e;return o.forEach(((t,e)=>{t.classList.add("checkbox"),s.appendChild(o[e]),t.appendChild(n[e]),n[e].appendChild(i[e]),n[e].appendChild(a[e])})),e}adaptForTableCheckboxesControl(t,e){super.adaptForTableCheckboxesControl(t,e),t.fieldset.classList.remove("panel"),t.fieldset.classList.remove("panel-default"),t.body.classList.remove("panel-body")}getCheckboxControl(t){const e=super.getCheckboxControl(t),{container:s,formGroup:i,description:n,messages:a}=e;return s.appendChild(i),s.appendChild(n),s.appendChild(a),e}adaptForTableCheckboxControl(t,e){super.adaptForTableCheckboxControl(t,e)}getSelectControl(t){const e=super.getSelectControl(t),{container:s,input:i,label:n}=e;return s.classList.add("form-group"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableSelectControl(t,e){super.adaptForTableSelectControl(t,e),t.container.classList.remove("form-group")}adaptForTableMultipleControl(t,e){super.adaptForTableMultipleControl(t,e)}getAlert(t){const e=super.getAlert(t);return e.classList.add("alert"),e.classList.add("alert-danger"),e}getInvalidFeedback(t){const e=super.getInvalidFeedback(t);return e.classList.add("text-danger"),e}getRow(){const t=super.getRow();return t.classList.add("row"),t}getCol(t,e,s){const i=super.getRow();return i.classList.add("col-xs-"+t),i.classList.add("col-md-"+e),s&&i.classList.add("col-md-offset-"+s),i}getTabList(t){const e=super.getTabList(t);return e.classList.add("nav"),"tabs"===t.type?e.classList.add("nav-tabs"):e.classList.add("nav-pills"),e.classList.add("nav-stacked"),!1===t.stacked&&e.classList.remove("nav-stacked"),e}getTab(t){const e=super.getTab(t);return t.active&&e.list.classList.add("active"),e.link.setAttribute("data-toggle","tab"),e}getTable(){const t=document.createElement("div"),e=document.createElement("table"),s=document.createElement("thead"),i=document.createElement("tbody");return t.classList.add("table-responsive"),e.classList.add("table"),e.appendChild(s),e.appendChild(i),t.appendChild(e),{container:t,table:e,thead:s,tbody:i}}setTabPaneAttributes(t,e,s){super.setTabPaneAttributes(t,e,s),t.classList.add("tab-pane"),e&&(t.classList.add("in"),t.classList.add("active"))}infoButtonAsModal(t,e,s={}){const i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),d=this.getButton({textContent:"Close",icon:"close"}),c=e+"-modal";i.setAttribute("role","dialog"),i.setAttribute("id",c),d.setAttribute("data-dismiss","modal"),t.infoButton.setAttribute("data-toggle","modal"),t.infoButton.setAttribute("data-target","#"+c),i.classList.add("modal"),i.classList.add("fade"),n.classList.add("modal-dialog"),a.classList.add("modal-content"),o.classList.add("modal-header"),r.classList.add("modal-title"),l.classList.add("modal-body"),d.classList.add("jedi-modal-close"),d.classList.add("close"),m(s.title)&&(r.innerHTML=this.purifyContent(s.title)),m(s.content)&&(l.innerHTML=this.purifyContent(s.content)),t.container.appendChild(i),i.appendChild(n),n.appendChild(a),a.appendChild(o),o.appendChild(d),o.appendChild(r),a.appendChild(l)}visuallyHidden(t){t.classList.add("sr-only")}visuallyVisible(t){t.classList.remove("sr-only")}},ThemeBootstrap4:class extends Is{init(){this.useToggleEvents=!1}getAddPropertyButton(){const t=super.getAddPropertyButton();return t.classList.add("btn-primary"),t.classList.add("btn-block"),t}getCollapseToggle(t){const e=super.getCollapseToggle(t);return e.setAttribute("href","#"+t.collapseId),e.setAttribute("data-toggle","collapse"),e}getCollapse(t){const e=super.getCollapse(t);return e.classList.add("collapse"),t.startCollapsed||e.classList.add("show"),e}getFieldset(){const t=document.createElement("fieldset");return t.classList.add("card"),t.classList.add("mb-3"),t}getLegend(t){const e=super.getLegend(t),{legend:s}=e;return s.classList.add("h6"),s.classList.add("card-header"),s.classList.add("d-flex"),s.classList.add("justify-content-between"),s.classList.add("align-items-center"),s.classList.add("float-left"),s.classList.add("py-2"),e}getLabel(t){const e=super.getLabel(t);return e.icon.classList&&e.icon.classList.add("mr-1"),e}getCard(){const t=super.getCard();return t.classList.add("card"),t.classList.add("mb-3"),t}getCardHeader(t){const e=super.getCardHeader(t);return e.classList.add("card-header"),e.classList.add("d-flex"),e.classList.add("justify-content-end"),e.classList.add("align-items-center"),e.classList.add("py-1"),e}getCardBody(){const t=super.getCardBody();return t.classList.add("card-body"),t.classList.add("pb-0"),t}getBtnGroup(){const t=super.getBtnGroup();return t.classList.add("btn-group"),t}getButton(t){const e=super.getButton(t);return e.classList.add("btn"),e.classList.add("btn-sm"),e}getDescription(t){const e=super.getDescription(t);return e.classList.add("text-muted"),e.classList.add("mb-3"),e}getTextareaControl(t){const e=super.getTextareaControl(t),{container:s,input:i,label:n}=e;return s.classList.add("form-group"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableTextareaControl(t){super.adaptForTableTextareaControl(t),t.container.classList.remove("form-group")}getInputControl(t){const e=super.getInputControl(t),{container:s,input:i,label:n}=e;return s.classList.add("form-group"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableInputControl(t,e){super.adaptForTableInputControl(t,e),t.container.classList.remove("form-group")}getRadiosControl(t){const e=super.getRadiosControl(t),{container:s,body:i,radios:n,labels:a,labelTexts:o,radioControls:r,description:l,messages:d}=e;return s.classList.add("form-group"),r.forEach(((e,s)=>{e.classList.add("form-check"),n[s].classList.add("form-check-input"),a[s].classList.add("form-check-label"),t.inline&&e.classList.add("form-check-inline"),i.appendChild(r[s]),e.appendChild(n[s]),e.appendChild(a[s]),a[s].appendChild(o[s])})),i.appendChild(l),i.appendChild(d),e}adaptForTableRadiosControl(t,e){super.adaptForTableRadiosControl(t,e),t.container.classList.remove("form-group"),t.fieldset.classList.remove("card"),t.fieldset.classList.remove("mb-3"),t.body.classList.remove("card-body")}getCheckboxesControl(t){const e=super.getCheckboxesControl(t),{checkboxes:s,labels:i,checkboxControls:n}=e;return n.forEach(((t,e)=>{t.classList.add("form-group"),t.classList.add("form-check"),s[e].classList.add("form-check-input"),i[e].classList.add("form-check-label")})),e}adaptForTableCheckboxesControl(t,e){super.adaptForTableCheckboxesControl(t,e),t.container.classList.remove("form-group"),t.fieldset.classList.remove("card"),t.fieldset.classList.remove("mb-3"),t.body.classList.remove("card-body"),t.body.classList.remove("card-body")}getCheckboxControl(t){const e=super.getCheckboxControl(t),{container:s,formGroup:i,input:n,label:a,infoButton:o,description:r,messages:l}=e;return s.classList.add("form-group"),i.classList.add("form-check"),n.classList.add("form-check-input"),a.classList.add("form-check-label"),s.appendChild(i),i.appendChild(n),i.appendChild(a),b(t.infoButton)&&i.appendChild(o.container),s.appendChild(r),s.appendChild(l),e}adaptForTableCheckboxControl(t,e){super.adaptForTableCheckboxControl(t,e),t.container.classList.remove("form-group"),t.formGroup.classList.remove("form-check"),t.input.classList.remove("form-check-input"),t.label.classList.remove("form-check-label")}getSelectControl(t){const e=super.getSelectControl(t),{container:s,input:i}=e;return s.classList.add("form-group"),i.classList.add("form-control"),e}adaptForTableSelectControl(t,e){super.adaptForTableSelectControl(t,e),t.container.classList.remove("form-group")}adaptForTableMultipleControl(t,e){super.adaptForTableMultipleControl(t,e),t.card.classList.remove("mb-3")}getAlert(t){const e=super.getAlert(t);return e.classList.add("alert"),e.classList.add("alert-danger"),e}getInvalidFeedback(t){const e=super.getInvalidFeedback(t);return e.classList.add("text-danger"),e.classList.add("form-text"),e.classList.add("d-block"),e}getColumnClass(t,e){return"col-"+t+"-"+e}getRow(){const t=super.getRow();return t.classList.add("row"),t}getCol(t,e,s){const i=super.getRow(t,e,s);return i.classList.add("col-"+t),i.classList.add("col-md-"+e),s&&i.classList.add("offset-md-"+s),i}getTabList(t){const e=super.getTabList();return e.classList.add("nav"),"tabs"===t.type?e.classList.add("nav-tabs"):e.classList.add("nav-pills"),e.classList.add("flex-column"),!1===t.stacked&&e.classList.remove("flex-column"),e}getTab(t){const e=super.getTab(t);return e.list.classList.add("nav-item"),e.link.classList.add("nav-link"),e.link.setAttribute("data-toggle","tab"),t.active&&e.link.classList.add("active"),e}getTable(){const t=document.createElement("div"),e=document.createElement("table"),s=document.createElement("thead"),i=document.createElement("tbody");return t.classList.add("table-responsive"),e.classList.add("table"),e.classList.add("table-sm"),e.classList.add("align-middle"),e.appendChild(s),e.appendChild(i),t.appendChild(e),{container:t,table:e,thead:s,tbody:i}}setTabPaneAttributes(t,e,s){super.setTabPaneAttributes(t,e,s),t.classList.add("tab-pane"),e&&t.classList.add("active")}infoButtonAsModal(t,e,s={}){const i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),d=this.getButton({textContent:"Close",icon:"close"}),c=e+"-modal";i.setAttribute("role","dialog"),i.setAttribute("id",c),d.setAttribute("data-dismiss","modal"),t.infoButton.setAttribute("data-toggle","modal"),t.infoButton.setAttribute("data-target","#"+c),t.container.classList.add("ml-1"),i.classList.add("modal"),i.classList.add("fade"),n.classList.add("modal-dialog"),a.classList.add("modal-content"),o.classList.add("modal-header"),r.classList.add("modal-title"),l.classList.add("modal-body"),d.classList.add("jedi-modal-close"),d.classList.add("close"),m(s.title)&&(r.innerHTML=this.purifyContent(s.title)),m(s.content)&&(l.innerHTML=this.purifyContent(s.content)),t.container.appendChild(i),i.appendChild(n),n.appendChild(a),a.appendChild(o),o.appendChild(r),o.appendChild(d),a.appendChild(l)}visuallyHidden(t){t.classList.add("sr-only")}visuallyVisible(t){t.classList.remove("sr-only")}},ThemeBootstrap5:class extends Is{init(){this.useToggleEvents=!1}getAddPropertyButton(){const t=super.getAddPropertyButton();return t.classList.add("btn-primary"),t.classList.add("w-100"),t}getCollapseToggle(t){const e=super.getCollapseToggle(t);return e.setAttribute("href","#"+t.collapseId),e.setAttribute("data-bs-toggle","collapse"),e}getCollapse(t){const e=super.getCollapse(t);return e.classList.add("collapse"),t.startCollapsed||e.classList.add("show"),e}getFieldset(){const t=document.createElement("fieldset");return t.classList.add("card"),t.classList.add("mb-3"),t}getLegend(t){const e=super.getLegend(t),{legend:s}=e;return s.classList.add("h6"),s.classList.add("card-header"),s.classList.add("d-flex"),s.classList.add("justify-content-between"),s.classList.add("align-items-center"),s.classList.add("py-2"),e}getLabel(t){const e=super.getLabel(t);return e.icon.classList&&e.icon.classList.add("me-1"),e}getCard(){const t=super.getCard();return t.classList.add("card"),t.classList.add("mb-3"),t}getCardHeader(t){const e=super.getCardHeader(t);return e.classList.add("card-header"),e.classList.add("d-flex"),e.classList.add("justify-content-end"),e.classList.add("align-items-center"),e.classList.add("py-1"),e}getCardBody(){const t=super.getCardBody();return t.classList.add("card-body"),t.classList.add("pb-0"),t}getControlSlot(){const t=super.getControlSlot();return t.classList.add("mb-3"),t}getBtnGroup(){const t=super.getBtnGroup();return t.classList.add("btn-group"),t}getButton(t){const e=super.getButton(t);return e.classList.add("btn"),e.classList.add("btn-sm"),e}getDescription(t){const e=super.getDescription(t);return e.classList.add("text-muted"),e.classList.add("mb-3"),e}getTextareaControl(t){const e=super.getTextareaControl(t),{container:s,input:i,label:n}=e;return s.classList.add("mb-3"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableTextareaControl(t){super.adaptForTableTextareaControl(t),t.container.classList.remove("mb-3")}getInputControl(t){const e=super.getInputControl(t),{container:s,input:i,label:n}=e;return s.classList.add("mb-3"),i.classList.add("form-control"),t.titleHidden&&this.visuallyHidden(n),e}adaptForTableInputControl(t,e){super.adaptForTableInputControl(t,e),t.container.classList.remove("mb-3")}getRadiosControl(t){const e=super.getRadiosControl(t),{container:s,body:i,radios:n,labels:a,labelTexts:o,radioControls:r,description:l,messages:d}=e;return s.classList.add("mb-3"),r.forEach(((e,s)=>{e.classList.add("form-check"),n[s].classList.add("form-check-input"),a[s].classList.add("form-check-label"),t.inline&&e.classList.add("form-check-inline"),i.appendChild(r[s]),e.appendChild(n[s]),e.appendChild(a[s]),a[s].appendChild(o[s])})),i.appendChild(l),i.appendChild(d),e}adaptForTableRadiosControl(t,e){super.adaptForTableRadiosControl(t,e),t.container.classList.remove("mb-3"),t.fieldset.classList.remove("card"),t.fieldset.classList.remove("mb-3"),t.body.classList.remove("card-body"),t.body.classList.remove("pb-0")}getCheckboxesControl(t){const e=super.getCheckboxesControl(t),{checkboxes:s,labels:i,checkboxControls:n}=e;return n.forEach(((t,e)=>{t.classList.add("mb-3"),t.classList.add("form-check"),s[e].classList.add("form-check-input"),i[e].classList.add("form-check-label")})),e}getCheckboxControl(t){const e=super.getCheckboxControl(t),{container:s,formGroup:i,input:n,label:a,infoButton:o,description:r,messages:l}=e;return s.classList.add("mb-3"),i.classList.add("form-check"),n.classList.add("form-check-input"),a.classList.add("form-check-label"),t.titleHidden&&this.visuallyHidden(a),s.appendChild(i),i.appendChild(n),i.appendChild(a),b(t.infoButton)&&i.appendChild(o.container),s.appendChild(r),s.appendChild(l),e}adaptForTableCheckboxControl(t,e){super.adaptForTableCheckboxControl(t,e),t.container.classList.remove("mb-3"),t.formGroup.classList.remove("form-check")}getSelectControl(t){const e=super.getSelectControl(t),{container:s,input:i}=e;return s.classList.add("mb-3"),i.classList.add("form-select"),e}adaptForTableSelectControl(t,e){super.adaptForTableSelectControl(t,e),t.container.classList.remove("mb-3")}adaptForTableMultipleControl(t,e){super.adaptForTableMultipleControl(t,e),t.card.classList.remove("mb-3")}getAlert(t){const e=super.getAlert(t);return e.classList.add("alert"),e.classList.add("alert-danger"),e}getInvalidFeedback(t){const e=super.getInvalidFeedback(t);return e.classList.add("text-danger"),e.classList.add("d-block"),e.classList.add("form-text"),e.classList.add("form-text"),e}getRow(){const t=super.getRow();return t.classList.add("row"),t}getCol(t,e,s){const i=super.getRow(t,e,s);return i.classList.add("col-"+t),i.classList.add("col-md-"+e),s&&i.classList.add("offset-md-"+s),i}getTabList(t){const e=super.getTabList(t);return e.classList.add("nav"),"tabs"===t.type?e.classList.add("nav-tabs"):e.classList.add("nav-pills"),e.classList.add("flex-column"),!1===t.stacked&&e.classList.remove("flex-column"),e}getTab(t){const e=super.getTab(t);return e.list.classList.add("nav-item"),e.link.classList.add("nav-link"),e.link.setAttribute("data-bs-toggle","tab"),t.active&&e.link.classList.add("active"),e}getTable(){const t=document.createElement("div"),e=document.createElement("table"),s=document.createElement("thead"),i=document.createElement("tbody");return t.classList.add("table-responsive"),e.classList.add("table"),e.classList.add("table-sm"),e.classList.add("align-middle"),e.appendChild(s),e.appendChild(i),t.appendChild(e),{container:t,table:e,thead:s,tbody:i}}setTabPaneAttributes(t,e,s){super.setTabPaneAttributes(t,e,s),t.classList.add("tab-pane"),e&&t.classList.add("active")}infoButtonAsModal(t,e,s={}){const i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),d=this.getButton({textContent:"Close",icon:"close"}),c=e+"-modal";i.setAttribute("role","dialog"),i.setAttribute("id",c),d.setAttribute("data-bs-dismiss","modal"),t.infoButton.setAttribute("data-bs-toggle","modal"),t.infoButton.setAttribute("data-bs-target","#"+c),t.container.classList.add("ms-1"),i.classList.add("modal"),i.classList.add("fade"),n.classList.add("modal-dialog"),a.classList.add("modal-content"),o.classList.add("modal-header"),r.classList.add("modal-title"),l.classList.add("modal-body"),d.classList.add("jedi-modal-close"),m(s.title)&&(r.innerHTML=this.purifyContent(s.title)),m(s.content)&&(l.innerHTML=this.purifyContent(s.content)),t.container.appendChild(i),i.appendChild(n),n.appendChild(a),a.appendChild(o),o.appendChild(r),o.appendChild(d),a.appendChild(l)}visuallyHidden(t){t.classList.add("visually-hidden")}visuallyVisible(t){t.classList.remove("visually-hidden")}},RefParser:class{constructor(){this.refs={},this.data={},this.iterations=0,this.maxIterations=1e3}async dereference(t){for(await this.collectRefs(t);this.iterations<this.maxIterations&&!this.refsResolved();)this.iterations++,await this.collectRefs(t);const e=Object.entries(this.refs).filter((([t,e])=>null===e)).map((([t])=>t));e.length&&console.warn("Missing refs:",JSON.stringify(e))}refsResolved(){return Object.values(this.refs).every((t=>null!==t))}async collectRefs(t,e="#"){if("object"==typeof t&&null!==t)for(const[s,i]of Object.entries(t)){const n=e?`${e}/${s}`:`/${s}`;if(this.hasRef(t)){const e=t.$ref;if(this.isExternalRef(e)){const t=await this.load(e);this.refs[e]=t,await this.collectRefs(t,n)}else this.refs[e]=this.data[e]??null}this.data[e]=t,await this.collectRefs(i,n)}}hasRef(t){return void 0!==t.$ref&&"string"==typeof t.$ref}isExternalRef(t){return"string"==typeof t&&(t.startsWith("http")||t.startsWith("https"))}isObject(t){return null!==t&&"object"==typeof t}expand(t){const e=JSON.parse(JSON.stringify(t));if(this.isObject(e)&&this.hasRef(e)){const t=e.$ref;return delete e.$ref,this.expand(C({},this.refs[t],e))}return e}async load(t){try{const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){throw console.error("Error loading",t,e),e}}},Create:xs}}));
//# sourceMappingURL=jedi.js.map
