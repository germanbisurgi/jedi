!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Jedi=t()}(this,(function(){"use strict";function e(){const e=[];return function(t,s){if("object"!=typeof s||null===s)return s;for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(s)?"[Circular]":(e.push(s),s)}}function t(t){if(void 0!==t)return JSON.parse(JSON.stringify(t,e()))}function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e,t,i){return e.replace(new RegExp(s(t),"g"),i)}function n(e){return i(i(e,"#","root"),"/","-")}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return Object.keys(e).sort().reduce(((t,s)=>(t[s]=e[s],t)),{})}function o(e,t){return b(e)&&b(t)&&(e=r(e),t=r(t)),JSON.stringify(e)===JSON.stringify(t)}function l(e,t){return!o(e,t)}function c(e){return null===e}function d(e){return void 0!==e}function h(e){return void 0===e}function p(e){return"number"==typeof e}function u(e){return p(e)&&e===Math.floor(e)}function m(e){return"string"==typeof e}function g(e){return"boolean"==typeof e}function f(e){return Array.isArray(e)}function b(e){return!c(e)&&!f(e)&&"object"==typeof e}function v(e){let t="any";return p(e)?t=u(e)?"integer":"number":m(e)?t="string":g(e)?t="boolean":f(e)?t="array":c(e)?t="null":b(e)&&(t="object"),t}function C(e,...t){if(!t.length)return e;const s=t.shift();return b(e)&&b(s)&&Object.keys(s).forEach((t=>{b(s[t])?(e[t]||Object.assign(e,{[t]:{}}),C(e[t],s[t])):Object.assign(e,{[t]:s[t]})})),C(e,...t)}const y=(e,t)=>(Object.keys(t).forEach((s=>{s in e&&typeof e[s]==typeof t[s]&&(b(e[s])&&b(t[s])?y(e[s],t[s]):e[s]=t[s])})),e);function L(e,t){const s=t.split(".");let i=e;for(const n of s)if(Array.isArray(i)&&/^\d+$/.test(n)){const e=parseInt(n);if(!(e>=0&&e<i.length))return;i=i[e]}else{if(!a(i,n))return;i=i[n]}return i}function E(e,t){return e.replace(/{{(.*?)}}/g,(e=>{const s=(e=e.replace(/\s/g,"")).split(/{{|}}/)[1];return L(t,s)}))}function x(e,t,s){return Math.max(t,Math.min(e,s))}function I(e){const t=[],s=new Set;for(const i of e){const e=JSON.stringify(i);s.has(e)||(s.add(e),t.push(i))}return t}const w={getCircularReplacer:e,clone:t,escapeRegExp:s,replaceAll:i,pathToAttribute:n,hasOwn:a,sortObject:r,equal:o,different:l,isNull:c,isSet:d,notSet:h,isNumber:p,isInteger:u,isString:m,isBoolean:g,isArray:f,isObject:b,getType:v,mergeDeep:C,overwriteExistingProperties:y,getValueByJSONPath:L,compileTemplate:E,clamp:x,removeDuplicatesFromArray:I};function A(e){return b(e.additionalProperties)||g(e.additionalProperties)?e.additionalProperties:void 0}function S(e){return b(e.propertyNames)||g(e.propertyNames)?e.propertyNames:void 0}function j(e){return f(e.allOf)?e.allOf:void 0}function k(e){return f(e.anyOf)?e.anyOf:void 0}function O(e){return e.const}function P(e){return b(e.contains)||g(e.contains)?e.contains:void 0}function T(e){return e.default}function V(e){return b(e.dependentRequired)?e.dependentRequired:void 0}function H(e){return b(e.dependentSchemas)?e.dependentSchemas:void 0}function M(e){return m(e.description)?e.description:void 0}function R(e){return b(e.else)||g(e.else)?e.else:void 0}function B(e){if(f(e.enum)&&e.enum.length>0)return e.enum}function N(e){return p(e.exclusiveMaximum)?e.exclusiveMaximum:void 0}function q(e){return p(e.exclusiveMinimum)?e.exclusiveMinimum:void 0}function D(e){return m(e.format)?e.format:void 0}function U(e){return b(e.if)||g(e.if)?e.if:void 0}function F(e){return b(e.items)||g(e.items)?e.items:void 0}function K(e){return p(e.maximum)?e.maximum:void 0}function $(e){if(u(e.maxContains)&&e.maxContains>=0)return e.maxContains}function z(e){if(u(e.maxItems)&&e.maxItems>=0)return e.maxItems}function J(e){if(u(e.maxLength)&&e.maxLength>=0)return e.maxLength}function G(e){if(u(e.maxProperties))return e.maxProperties}function Z(e){return p(e.minimum)?e.minimum:void 0}function W(e){if(u(e.minContains)&&e.minContains>=0)return e.minContains}function Q(e){if(u(e.minItems)&&e.minItems>=0)return e.minItems}function X(e){if(u(e.minLength)&&e.minLength>=0)return e.minLength}function _(e){if(u(e.minProperties)&&e.minProperties>=0)return e.minProperties}function Y(e){if(p(e.multipleOf)&&e.multipleOf>=0)return e.multipleOf}function ee(e){return b(e.not)||g(e.not)?e.not:void 0}function te(e,t){return e["x-options"]&&d(e["x-options"][t])?e["x-options"][t]:void 0}function se(e){return m(e.pattern)?e.pattern:void 0}function ie(e){return b(e.patternProperties)?e.patternProperties:void 0}function ne(e){return f(e.prefixItems)?e.prefixItems:void 0}function ae(e){return b(e.properties)?e.properties:void 0}function re(e){return g(e.readOnly)?e.readOnly:void 0}function oe(e){return f(e.required)?[...new Set(e.required)]:void 0}function le(e){return b(e.then)||g(e.then)?e.then:void 0}function ce(e){return m(e.title)?e.title:void 0}function de(e){if(m(e.type)||f(e.type))return e.type}function he(e){return f(e.oneOf)?e.oneOf:void 0}function pe(e){return g(e.unevaluatedProperties)?e.unevaluatedProperties:void 0}function ue(e){return g(e.uniqueItems)?e.uniqueItems:void 0}const me={getSchemaX:function(e,t){return e["x-"+t]},getSchemaSchema:function(e){return m(e.$schema)?e.$schema:void 0},getSchemaAdditionalProperties:A,getSchemaPropertyNames:S,getSchemaAllOf:j,getSchemaAnyOf:k,getSchemaConst:O,getSchemaContains:P,getSchemaDefault:T,getSchemaDependentRequired:V,getSchemaDependentSchemas:H,getSchemaDescription:M,getSchemaElse:R,getSchemaEnum:B,getSchemaExclusiveMaximum:N,getSchemaExclusiveMinimum:q,getSchemaFormat:D,getSchemaIf:U,getSchemaItems:F,getSchemaMaximum:K,getSchemaMaxContains:$,getSchemaMaxItems:z,getSchemaMaxLength:J,getSchemaMaxProperties:G,getSchemaMinimum:Z,getSchemaMinContains:W,getSchemaMinItems:Q,getSchemaMinLength:X,getSchemaMinProperties:_,getSchemaMultipleOf:Y,getSchemaNot:ee,getSchemaXOption:te,getSchemaPattern:se,getSchemaPatternProperties:ie,getSchemaPrefixItems:ne,getSchemaProperties:ae,getSchemaReadOnly:re,getSchemaRequired:oe,getSchemaThen:le,getSchemaTitle:ce,getSchemaType:de,getSchemaOneOf:he,getSchemaUnevaluatedProperties:pe,getSchemaUniqueItems:ue};function ge(e,t,s,i,n){let a=[];const r=j(s);return d(r)&&(r.forEach((s=>{const r=new Ls({refParser:e.refParser,schema:s,data:t,rootName:i}),o=r.getErrors();r.destroy(),o.forEach((e=>{e.path=n})),a.push(...o)})),a=I(a)),a}const fe='Has additional property "{{ property }}" but no additional properties are allowed.',be="Must validate against at least one of the provided schemas.",ve="Must have value of: {{ const }}.",Ce="Must contain at least one item matching the provided schema.",ye="Must have the required properties: {{ dependentRequired }}.",Le="Must be one of the enumerated values: {{ enum }}.",Ee="Must be less than {{ exclusiveMaximum }}.",xe="Must be greater than {{ exclusiveMinimum }}.",Ie="Must be a valid {{ format }}.",we="Must have items that validate against the provided schema.",Ae="Must be at most {{ maximum }}.",Se="Must have at most {{ maxItems }} items.",je="Must be at most {{ maxLength }} characters long.",ke="Must have at most {{ maxProperties }} properties.",Oe="Must contain at most {{ maxContains }} items matching the provided schema. It currently contains {{ counter }}.",Pe="Must contain at least {{ minContains }} items matching the provided schema. It currently contains {{ counter }}.",Te="Must be at least {{ minimum }}.",Ve="Must have at least {{ minItems }} items.",He="Must be at least {{ minLength }} characters long.",Me="Must have at least {{ minProperties }} properties.",Re="Must be multiple of {{ multipleOf }}.",Be="Must not validate against the provided schema.",Ne="Must validate against exactly one of the provided schemas. It currently validates against {{ counter }} of the schemas.",qe='Must match the pattern: "{{ pattern }}".',De="Item {{ index }} fails validation.",Ue='Property name "{{ propertyName }}" fails validation.',Fe="The following properties do not comply with their schemas: {{ properties }}",Ke="Must have the required properties: {{ required }}.",$e="Must be of type {{ type }}.",ze='Has invalid unevaluated property "{{ property }}"',Je="Must have unique items.";function Ge(e,t,s,i,n){const a=[],r=X(s);if(m(t)&&d(r)){(t=t.replace(/[\uDCA9]/g,"")).length<r&&a.push({messages:[E(He,{minLength:r})],path:n,constrain:"minLength"})}return a}function Ze(e,t,s,i,n){const a=[],r=k(s);if(d(r)){let s=!1;r.forEach((i=>{const n=new Ls({refParser:e.refParser,schema:i,data:t}),a=n.getErrors();n.destroy(),0===a.length&&(s=!0)})),s||a.push({messages:[be],path:n,constrain:"anyOf"})}return a}function We(e,t,s,i,n){const a=[],r=B(s);if(d(r)){!r.some((e=>JSON.stringify(t)===JSON.stringify(e)))&&a.push({messages:[E(Le,{enum:JSON.stringify(r)})],path:n,constrain:"enum"})}return a}function Qe(e,t,s,i,n){const a=[],r=N(s);if(p(t)&&d(r)){t>=r&&a.push({messages:[E(Ee,{exclusiveMaximum:r})],path:n,constrain:"exclusiveMaximum"})}return a}function Xe(e,t,s,i,n){const a=[],r=q(s);if(p(t)&&d(r)){t<=r&&a.push({messages:[E(xe,{exclusiveMinimum:r})],path:n,constrain:"exclusiveMinimum"})}return a}function _e(e,t,s,i,n){const a=[],r=D(s);let o=e.validateFormat;if(te(s,"validateFormat")&&(o=s.options.validateFormat),d(r)&&m(t)&&o){let e;"email"===r&&(e=new RegExp(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/i)),"url"===r&&(e=new RegExp(/^(?:https?|ftp):\/\/(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:[^\s:@](?:[^\s:@-]*[^\s:@])?\.?)+[a-zA-Z]{2,}|(?:\d{1,3}\.){3}\d{1,3})(?::\d{2,5})?(?:\/[^\s]*)?$/i)),"uuid"===r&&(e=new RegExp(/^(?:urn:uuid:)?[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/i));d(e)&&!e.test(t)&&a.push({messages:[E(Ie,{format:r})],path:n,constrain:"format"})}return a}function Ye(e,t,s,i,n){const a=[],r=F(s),o=ne(s);if(f(t)&&d(r)){const e=d(o)?o.length:0;!1===r&&t.length>0&&t.length>e&&a.push({messages:[we],path:n,constrain:"items"})}return a}function et(e,t,s,i,n){const a=[],r=z(s);if(f(t)&&d(r)){t.length>r&&a.push({messages:[E(Se,{maxItems:r})],path:n,constrain:"maxItems"})}return a}function tt(e,t,s,i,n){const a=[],r=J(s);if(m(t)&&d(r)){(t=t.replace(/[\uDCA9]/g,"")).length>r&&a.push({messages:[E(je,{maxLength:r})],path:n,constrain:"maxLength"})}return a}function st(e,t,s,i,n){const a=[],r=G(s);if(b(t)&&d(r)){Object.keys(t).length>r&&a.push({messages:[E(ke,{maxProperties:r})],path:n,constrain:"maxProperties"})}return a}function it(e,t,s,i,n){const a=[],r=Z(s);if(p(t)&&d(r)){t<r&&a.push({messages:[E(Te,{minimum:r})],path:n,constrain:"minimum"})}return a}function nt(e,t,s,i,n){const a=[],r=Q(s);if(f(t)&&d(r)){t.length<r&&a.push({messages:[E(Ve,{minItems:r})],path:n,constrain:"minItems"})}return a}function at(e,t,s,i,n){const a=[],r=_(s);if(b(t)&&d(r)){Object.keys(t).length<r&&a.push({messages:[E(Me,{minProperties:r})],path:n,constrain:"minProperties"})}return a}function rt(e,t,s,i,n){const a=[],r=Y(s);if(p(t)&&d(r)){if(0===t)return a;(!(t/r===Math.floor(t/r))||t.toString().includes("e"))&&a.push({messages:[E(Re,{multipleOf:r})],path:n,constrain:"multipleOf"})}return a}function ot(e,t,s,i,n){const a=[],r=ee(s);if(d(r)){const s=new Ls({refParser:e.refParser,schema:r,data:t}),i=s.getErrors();s.destroy();0===i.length&&a.push({messages:[E(Be)],path:n,constrain:"not"})}return a}function lt(e,t,s,i,n){const a=[],r=he(s);if(d(r)){let s=0;r.forEach((i=>{const n=new Ls({refParser:e.refParser,schema:i,data:t}),a=n.getErrors();n.destroy(),0===a.length&&s++})),1!==s&&a.push({messages:[E(Ne,{counter:s})],path:n,constrain:"oneOf"})}return a}function ct(e,t,s,i,n){const a=[],r=se(s);if(m(t)&&d(r)){!new RegExp(r).test(t)&&a.push({messages:[E(qe,{pattern:r})],path:n,constrain:"pattern"})}return a}function dt(e,t,s,i){let n=[];const a=ie(s);return b(t)&&d(a)&&Object.keys(t).forEach((s=>{Object.keys(a).forEach((r=>{if(new RegExp(r).test(s)){const o=a[r],l=new Ls({refParser:e.refParser,schema:o,data:t[s]}),c=l.getErrors().map((e=>({messages:e.messages,path:i+"/"+s,constrain:"patternProperties"})));n=[...n,...c],l.destroy()}}))})),n}function ht(e,t,s,i){const n=ae(s),r=[];return b(t)&&d(n)&&Object.keys(n).forEach((s=>{if(a(t,s)){const i=n[s],a=new Ls({refParser:e.refParser,schema:i,data:t[s]});a.getErrors().length>0&&r.push(s),a.destroy()}})),r.length>0?[{messages:[E(Fe,{properties:r.join(", ")})],path:i,constraint:"properties"}]:[]}function pt(e,t,s,i,n){const a=[],r=oe(s);if(b(t)&&d(r)){const e=[],s=Object.keys(t);r.forEach((t=>{s.includes(t)||e.push(t)}));e.length>0&&a.push({messages:[E(Ke,{required:e.join(", ")})],path:n,constrain:"required"})}return a}function ut(e,t,s,i,n){const a=[],r=de(s);if("any"===r)return a;if(d(r)){const e={string:e=>m(e),number:e=>p(e),integer:e=>u(e),boolean:e=>g(e),array:e=>f(e),object:e=>b(e),null:e=>c(e)};let s=!0;s=f(r)?r.some((s=>e[s](t))):e[r](t),s||a.push({messages:[E($e,{type:r,valueType:v(t)})],path:n,constrain:"type"})}return a}function mt(e,t,s,i,n){const a=[],r=K(s);if(p(t)&&d(r)){t>r&&a.push({messages:[E(Ae,{maximum:r})],path:n,constrain:"maximum"})}return a}function gt(e,t,s,i,n){const a=[],o=ue(s);if(f(t)&&d(o)&&!0===o){const e=[];let s=!1;for(let i=0;i<t.length;i++){let n=t[i];b(n)&&(n=r(n));const a=JSON.stringify(n);if(s=e.some((e=>e===a)),s)break;e.push(a)}s&&a.push({messages:[Je],path:n,constrain:"uniqueItems"})}return a}function ft(e,t,s,i,n){const r=[],o=A(s),l=ie(s),c=ae(s);if(b(t)&&d(o)){const s=c||{},i=o,d=l||{};Object.keys(t).forEach((o=>{const l=Object.keys(d).some((e=>new RegExp(e).test(o))),c=a(s,o);if(!l&&!c)if(!1===i)r.push({messages:[E(fe,{property:o})],path:n,constrain:"additionalProperties"});else if(b(i)){const s=new Ls({refParser:e.refParser,schema:i,data:t[o]}),a=s.getErrors().map((e=>({messages:e.messages,path:`${n}.${o}`,constrain:"additionalProperties"})));r.push(...a),s.destroy()}}))}return r}const bt={additionalProperties:ft,allOf:ge,anyOf:Ze,enum:We,exclusiveMaximum:Qe,exclusiveMinimum:Xe,format:_e,items:Ye,maximum:mt,maxItems:et,maxLength:tt,maxProperties:st,minimum:it,minItems:nt,minLength:Ge,minProperties:at,multipleOf:rt,not:ot,oneOf:lt,pattern:ct,patternProperties:dt,properties:ht,required:pt,type:ut,uniqueItems:gt};function vt(e,t,s,i,n){const a=[],r=O(s);if(d(r)){l(t,r)&&a.push({messages:[E(ve,{const:JSON.stringify(r)})],path:n,constrain:"const"})}return a}function Ct(e,t,s,i,n){const a=[],r=P(s),o=W(s),l=$(s);if(f(t)&&d(r)){let s=0;t.forEach((t=>{const i=new Ls({refParser:e.refParser,schema:r,data:t});0===i.getErrors().length&&s++,i.destroy()}));const i=0===s;if(d(o)){s<o&&a.push({messages:[E(Pe,{counter:s,minContains:o})],path:n,constrain:"minContains"})}else i&&a.push({messages:[Ce],path:n,constrain:"contains"});if(d(l)){s>l&&a.push({messages:[E(Oe,{counter:s,maxContains:l})],path:n,constrain:"maxContains"})}}return a}function yt(e,t,s,i,n){const r=[],o=V(s);if(b(t)&&d(o)){let e=[];Object.keys(o).forEach((s=>{if(d(t[s])){const i=o[s];e=i.filter((e=>!a(t,e)))}}));e.length>0&&r.push({messages:[E(ye,{dependentRequired:e.join(", ")})],path:n,constrain:"dependentRequired"})}return r}function Lt(e,t,s){let i=[];const n=H(s);return b(t)&&d(n)&&Object.keys(n).forEach((s=>{if(d(t[s])){const a=n[s],r=new Ls({refParser:e.refParser,schema:a,data:t}),o=r.getErrors();r.destroy(),i=[...i,...o]}})),i}function Et(e,t,s){const i=[],n=U(s),a=le(s),r=R(s);if(d(n)){if(h(a)&&h(r))return i;const s=new Ls({refParser:e.refParser,schema:n,data:t}),o=s.getErrors();s.destroy();let l=[],c=[];if(d(a)){const s=new Ls({refParser:e.refParser,schema:a,data:t});l=s.getErrors(),s.destroy()}if(d(r)){const s=new Ls({refParser:e.refParser,schema:r,data:t});c=s.getErrors(),s.destroy()}if(!0===n)return l;if(!1===n)return c;if(0===o.length)return l;if(o.length>0)return c}return i}function xt(e,t,s,i,n){const a=[],r=ne(s);return f(t)&&d(r)&&r.forEach(((s,i)=>{const r=t[i];if(d(r)){const t=new Ls({refParser:e.refParser,schema:s,data:r}),o=t.getErrors();t.destroy(),o.length>0&&a.push({messages:[E(De,{index:i})],path:n,constrain:"prefixItems"})}})),a}const It={additionalProperties:ft,allOf:ge,anyOf:Ze,const:vt,contains:Ct,dependentRequired:yt,dependentSchemas:Lt,enum:We,exclusiveMaximum:Qe,exclusiveMinimum:Xe,format:_e,if:Et,items:Ye,maximum:mt,maxItems:et,maxLength:tt,maxProperties:st,minimum:it,minItems:nt,minLength:Ge,minProperties:at,multipleOf:rt,not:ot,oneOf:lt,pattern:ct,patternProperties:dt,properties:ht,prefixItems:xt,required:pt,type:ut,uniqueItems:gt},wt={additionalProperties:ft,allOf:ge,anyOf:Ze,const:vt,contains:Ct,dependentRequired:yt,dependentSchemas:Lt,enum:We,exclusiveMaximum:Qe,exclusiveMinimum:Xe,format:_e,if:Et,items:Ye,maximum:mt,maxItems:et,maxLength:tt,maxProperties:st,minimum:it,minItems:nt,minLength:Ge,minProperties:at,multipleOf:rt,not:ot,oneOf:lt,pattern:ct,patternProperties:dt,properties:ht,prefixItems:xt,required:pt,type:ut,uniqueItems:gt};function At(e,t,s,i,n){let r=[];const o=pe(s),l=ie(s),c=ae(s),h=j(s),p=k(s),u=he(s);if(b(t)&&d(o)){let s=d(c)?c:{};const i=o,m=l;[h,p,u].forEach((e=>{d(e)&&e.forEach((e=>{d(e.properties)&&(s={...s,...e.properties})}))})),s&&Object.keys(t).forEach((o=>{let l=!1;if(d(m)&&Object.keys(m).forEach((e=>{const t=new RegExp(e);l=t.test(o)})),l||!1!==i||a(s,o)||r.push({messages:[E(ze,{property:o})],path:n,constrain:"unevaluatedProperties"}),!l&&b(i)&&!a(s,o)){const s=new Ls({refParser:e.refParser,schema:i,data:t[o]}),n=s.getErrors().map((e=>({messages:e.messages,path:o,constrain:"unevaluatedProperties"})));r=[...r,...n],s.destroy()}}))}return r}const St={additionalProperties:ft,allOf:ge,anyOf:Ze,const:vt,contains:Ct,dependentRequired:yt,dependentSchemas:Lt,enum:We,exclusiveMaximum:Qe,exclusiveMinimum:Xe,format:_e,if:Et,items:Ye,maximum:mt,maxItems:et,maxLength:tt,maxProperties:st,minimum:it,minItems:nt,minLength:Ge,minProperties:at,multipleOf:rt,not:ot,oneOf:lt,pattern:ct,patternProperties:dt,propertie:ht,prefixItems:xt,required:pt,type:ut,unevaluatedProperties:At,uniqueItems:gt};const jt={additionalProperties:ft,allOf:ge,anyOf:Ze,const:vt,contains:Ct,dependentRequired:yt,dependentSchemas:Lt,enum:We,exclusiveMaximum:Qe,exclusiveMinimum:Xe,format:_e,if:Et,items:Ye,maximum:mt,maxItems:et,maxLength:tt,maxProperties:st,minimum:it,minItems:nt,minLength:Ge,minProperties:at,multipleOf:rt,not:ot,oneOf:lt,pattern:ct,patternProperties:dt,prefixItems:xt,propertyNames:function(e,t,s,i,n){const a=[],r=S(s);return b(t)&&d(r)&&Object.keys(t).forEach((t=>{new Ls({refParser:e.refParser,schema:r,data:t}).getErrors().length>0&&a.push({messages:[E(Ue,{propertyName:t})],path:n,constrain:"propertyNames"})})),a},properties:ht,required:pt,type:ut,unevaluatedProperties:At,uniqueItems:gt};class kt{constructor(e={}){this.refParser=e.refParser,this.validateFormat=!!e.validateFormat&&e.validateFormat,this.draft=jt,this.jsonSchemaDrafts={"http://json-schema.org/draft-04/schema#":bt,"http://json-schema.org/draft-06/schema#":It,"http://json-schema.org/draft-07/schema#":wt,"https://json-schema.org/draft/2019-09/schema":St,"https://json-schema.org/draft/2020-12/schema":jt}}getErrors(e,s,i,n){let r=[];const o=te(s,"messages"),l=t(s);return g(l)&&!0===l?r:g(l)&&!1===l?[{messages:d(o)?o:["invalid"],path:n}]:(Object.keys(this.draft).forEach((t=>{if(a(l,t)){const a=(0,this.draft[t])(this,e,s,i,n);a&&(r=[...r,...a])}})),r.length>0&&o&&(r=[{messages:o,path:n}]),r)}}class Ot{constructor(){this.listeners=[]}on(e,t){this.listeners.push({name:e,callback:t})}off(e){this.listeners=this.listeners.filter((t=>t.name!==e))}emit(e,t=void 0){this.listeners.filter((t=>t.name===e)).forEach((e=>{e.callback(t)}))}destroy(){Object.keys(this).forEach((e=>{delete this[e]}))}}class Pt extends Ot{constructor(e){super(),this.jedi=e.jedi,this.path=e.path||this.jedi.rootName,this.schema=e.schema,this.value=d(e.value)?e.value:void 0,this.isActive=!0,this.parent=e.parent||null,this.children=[],this.ui=null,this.isDirty=!1,this.init()}init(){this.register(),this.setInitialValue(),this.prepare(),this.setDefaultValue(),this.jedi.options.container&&this.setUI(),this.on("change",(()=>{this.parent&&(this.parent.isDirty=!0,this.parent.onChildChange())}))}setUI(){const e=this.jedi.uiResolver.getClass(this.schema);this.ui=new e(this)}getKey(){return this.path.split(this.jedi.pathSeparator).pop()}register(){this.jedi.register(this);const e=t=>{this.jedi.register(t),t.children.forEach(e)};this.children.forEach(e)}unregister(){this.jedi.unregister(this)}setInitialValue(){if(h(this.value)){let e;const t=de(this.schema);"boolean"===t&&(e=!1),"number"===t&&(e=0),"integer"===t&&(e=0),"string"===t&&(e=""),"array"===t&&(e=[]),"object"===t&&(e={}),"null"===t&&(e=null),this.value=e}}setDefaultValue(){const e=T(this.schema);d(e)&&this.setValue(e,!1)}getValue(){return this.value}setValue(e,t=!0){const s=this.jedi.options.enforceConst||te(this.schema,"enforceConst");if(d(s)&&o(s,!0)){const t=O(this.schema);d(t)&&(e=t)}this.value=e,this.emit("set-value",e),t&&(this.isDirty=!0,this.emit("change"),this.jedi.emit("instance-change",this))}onChildChange(){}getErrors(){if(!this.isActive)return[];return I(this.jedi.validator.getErrors(this.getValue(),this.schema,this.getKey(),this.path))}prepare(){}activate(){!1===this.isActive&&(this.isActive=!0,this.emit("change"))}deactivate(){!0===this.isActive&&(this.isActive=!1,this.emit("change"))}isReadOnly(){let e=!1;return!0===re(this.schema)&&(e=!0),this.parent&&!0===re(this.parent.schema)&&(e=!0),e}destroy(){this.unregister(),this.listeners=[],this.children.forEach((e=>{e.destroy()})),this.ui&&this.ui.destroy(),Object.keys(this).forEach((e=>{delete this[e]})),super.destroy()}}class Tt{constructor(e){this.instance=e,this.theme=null,this.control=null,this.disabled=!1,this.readOnly=this.instance.isReadOnly(),this.showingValidationErrors=!1,this.init(),this.build(),this.enforceEnumDefault(),this.addEventListeners(),this.setContainerAttributes(),this.refreshUI();("always"===this.instance.jedi.options.showErrors||"always"===te(this.instance.schema,"showErrors"))&&this.showValidationErrors(this.instance.getErrors()),this.instance.on("set-value",(()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())})),this.instance.on("change",(()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())}))}static resolves(e){}init(){this.theme=this.instance.jedi.theme}setContainerAttributes(){this.control.container.setAttribute("data-path",this.instance.path),this.control.container.setAttribute("data-type",de(this.instance.schema))}build(){}enforceEnumDefault(){const e=te(this.instance.schema,"enforceEnumDefault")??this.instance.jedi.options.enforceEnumDefault,t=B(this.instance.schema);d(t)&&!t.includes(this.instance.getValue())&&d(t[0])&&e&&this.instance.setValue(t[0],!1)}addEventListeners(){}showValidationErrors(e,t=!1){e=e.filter((e=>e.path===this.instance.path)),this.control.messages.innerHTML="",this.showingValidationErrors=!1;if(("never"===this.instance.jedi.options.showErrors||"never"===te(this.instance.schema,"showErrors"))&&!t||0===e.length)return;const s=ce(this.instance.schema)||this.instance.getKey();e.forEach((e=>{"properties"!==e.constraint&&e.messages.forEach((e=>{const t=this.getInvalidFeedback({message:s+": "+e});this.control.messages.appendChild(t)}))})),this.showingValidationErrors=!0}getInvalidFeedback(e){return this.theme.getInvalidFeedback(e)}disable(){this.disabled=!0,this.refreshUI()}enable(){this.disabled=!1,this.refreshUI()}refreshUI(){this.refreshInteractiveElements()}refreshInteractiveElements(){this.control.container.querySelectorAll("button, input, select, textarea").forEach((e=>{this.disabled||this.readOnly?e.setAttribute("disabled",""):e.removeAttribute("disabled","")}))}sanitize(e){return e}destroy(){this.control.container&&this.control.container.parentNode&&this.control.container.parentNode.removeChild(this.control.container),Object.keys(this).forEach((e=>{delete this[e]}))}}class Vt extends Tt{static resolves(e){return d(U(e))}build(){this.control=this.theme.getIfThenElseControl({title:"Options",titleHidden:te(this.instance.schema,"titleHidden"),id:n(this.instance.path),description:M(this.instance.schema),switcherOptionValues:this.instance.switcherOptionValues,switcherOptionsLabels:this.instance.switcherOptionsLabels,switcher:!1})}addEventListeners(){this.control.switcher.input.addEventListener("change",(()=>{const e=Number(this.control.switcher.input.value);this.instance.switchInstance(e)}))}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.control.switcher.input.value=this.instance.index,this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(e){return this.theme.getAlert(e)}}class Ht extends Pt{setUI(){this.ui=new Vt(this)}prepare(){this.instances=[],this.instanceStartingValues=[],this.instanceWithoutIf=null,this.activeInstance=null,this.index=0,this.schemas=[],this.switcherOptionValues=[],this.switcherOptionsLabels=[],this.ifThenElseShemas=[],this.traverseSchema(this.schema),delete this.schema.if,delete this.schema.then,delete this.schema.else;let e=0;this.ifThenElseShemas.forEach((s=>{if(d(s.then)){this.schemas.push(C({},t(this.schema),s.then)),this.switcherOptionValues.push(e);const i="then";this.switcherOptionsLabels.push(i),e++}if(d(s.else)){this.schemas.push(C({},t(this.schema),s.else)),this.switcherOptionValues.push(e);const i="else";this.switcherOptionsLabels.push(i),e++}}));const s=t(this.schema);delete s.if,delete s.then,delete s.else,this.instanceWithoutIf=this.jedi.createInstance({jedi:this.jedi,schema:s,path:this.path,parent:this.parent}),this.schemas.forEach((e=>{const t=this.jedi.createInstance({jedi:this.jedi,schema:e,path:this.path,parent:this.parent});this.instanceStartingValues.push(t.getValue()),t.on("change",(()=>{const e=this.activeInstance.getValue();this.getFittestIndex(e)!==this.index?this.setValue(e):(this.value=this.activeInstance.getValue(),this.emit("change"))})),this.instances.push(t)})),this.on("set-value",(e=>{let t=this.instanceWithoutIf.getValue();b(t)&&b(e)&&(t=y(t,e)),this.instances.forEach(((s,i)=>{const n=this.instanceStartingValues[i];b(n)&&b(e)&&(e=y(n,t)),s.setValue(e,!1)}));const s=this.getFittestIndex(e);s!==this.index&&this.switchInstance(s)})),this.value=this.instanceWithoutIf.getValue();const i=this.getFittestIndex(this.value);this.switchInstance(i)}switchInstance(e){this.activeInstance&&this.activeInstance.unregister(),this.index=e,this.activeInstance=this.instances[this.index],this.activeInstance.register(),this.value=this.activeInstance.getValue()}traverseSchema(e){const t=U(e);if(d(t)){const s=le(e),i=R(e);this.ifThenElseShemas.push({if:t,then:d(s)?s:{}}),this.ifThenElseShemas.push({if:t,else:d(i)?i:{}})}}getFittestIndex(e){let t=this.index;return this.ifThenElseShemas.forEach(((s,i)=>{const n=new Ls({schema:s.if,data:e,refParser:this.jedi.refParser}),a=n.getErrors();n.destroy(),0===a.length&&s.then&&(t=i),a.length>0&&s.else&&(t=i)})),t}destroy(){this.instances.forEach((e=>{e.destroy()})),super.destroy()}getAllOfCombinations(e){const t=[],s=(e,i)=>{if(0===i.length)return void t.push(e);const n=i[0];var a,r;s((a=e,r=n,{...a,...r}),i.slice(1)),s(e,i.slice(1))};for(let i=0;i<e.length;i++)s(e[i],e.slice(i+1));return t.sort(((e,t)=>Object.keys(e).length-Object.keys(t).length)),t}}class Mt extends Pt{prepare(){this.instances=[],this.activeInstance=null,this.lastIndex=0,this.index=0,this.schemas=[],this.switcherOptionValues=[],this.switcherOptionsLabels=[],this.on("set-value",(()=>{this.onSetValue()}));const e=de(this.schema);if(d(k(this.schema))||d(he(this.schema))){const e=d(k(this.schema))?k(this.schema):he(this.schema),s=t(this.schema);delete s.anyOf,delete s.oneOf,delete s.options,e.forEach(((e,t)=>{e={...s,...e},this.jedi.refParser&&(e=this.jedi.refParser.expand(e));let i="Option-"+(t+1);const n=te(e,"switcherTitle"),a=ce(e);d(a)&&(i=a),d(n)&&(i=n),this.switcherOptionValues.push(t),this.switcherOptionsLabels.push(i),this.schemas.push(e)}))}else if(f(e))e.forEach(((e,t)=>{const s=C(this.schema),i={...s,type:e,title:e[0].toUpperCase()+e.slice(1)};d(s.title)&&(i.title=s.title),this.switcherOptionValues.push(t),this.switcherOptionsLabels.push(e.charAt(0).toUpperCase()+e.slice(1)),this.schemas.push(i)}));else if("any"===e||!e){const e=t(this.schema);this.schemas=[{...e,type:"object"},{...e,type:"array"},{...e,type:"string"},{...e,type:"number"},{...e,type:"integer"},{...e,type:"boolean"},{...e,type:"null"}],this.schemas.forEach(((e,t)=>{this.switcherOptionValues.push(t)})),this.switcherOptionsLabels=["Object","Array","String","Number","Integer","Boolean","Null"]}this.schemas.forEach((e=>{const s=this.jedi.createInstance({jedi:this.jedi,schema:e,path:this.path,parent:this.parent,value:t(this.value)});d(this.value)&&s.setValue(this.value,!1),s.unregister(),s.off("change"),s.on("change",(()=>{this.value=this.activeInstance.getValue(),this.emit("change")})),this.instances.push(s),this.register()}));const s=this.getFittestIndex(this.value);this.switchInstance(s,this.value)}switchInstance(e,t){this.lastIndex=this.index,this.index=e,this.activeInstance=this.instances[e],d(t)&&this.activeInstance.setValue(t,!1),this.setValue(this.activeInstance.getValue())}onSetValue(){if(l(this.activeInstance.getValue(),this.value)){const e=this.getFittestIndex(this.value);this.switchInstance(e,this.value)}}getFittestIndex(e){let t,s,i=0;for(const n of this.instances){const a=this.jedi.validator.getErrors(e,n.schema,n.getKey(),n.path);(h(t)||h(s))&&(t=i,s=a),a.length<s.length&&(t=i,s=a),i++}return t}destroy(){this.instances.forEach((e=>{e.destroy()})),super.destroy()}}class Rt extends Pt{}class Bt extends Pt{prepare(){this.properties={};const e=ae(this.schema);d(e)&&Object.keys(e).forEach((t=>{const s=e[t];this.properties[t]={schema:s};let i=!0;const n=this.jedi.options.deactivateNonRequired,a=te(this.schema,"deactivateNonRequired"),r=te(s,"deactivateNonRequired");this.isNotRequired(t)&&d(n)&&!0===n&&(i=!1),this.isNotRequired(t)&&d(a)&&!0===a&&(i=!1),this.isNotRequired(t)&&d(r)&&!0===r&&(i=!1),i&&this.createChild(s,t)})),this.refreshInstances(),this.on("set-value",(()=>{this.refreshInstances()}))}isRequired(e){const t=oe(this.schema);return d(t)&&t.includes(e)}isDependentRequired(e){const t=V(this.schema);if(d(t)){let s=[];return Object.keys(t).forEach((e=>{if(d(this.value[e])){const i=t[e];s=i.filter((e=>!a(this.value,e)))}})),s.includes(e)}return!1}createChild(e,s,i,n=!1){const a=this.jedi.createInstance({jedi:this.jedi,schema:e,path:this.path+this.jedi.pathSeparator+s,parent:this,value:t(i)});this.children.push(a),this.value[s]=a.getValue();const r=this.jedi.options.deactivateNonRequired||te(this.schema,"deactivateNonRequired");return this.isNotRequired(s)&&d(r)&&!0===r&&!n&&a.deactivate(),a}isNotRequired(e){return!this.isRequired(e)&&!this.isDependentRequired(e)}deleteChild(e){for(let t=this.children.length-1;t>=0;t--){const s=this.children[t];s.getKey()===e&&(s.destroy(),this.children.splice(t,1),this.onChildChange())}}getChild(e){return this.children.find((t=>e===t.getKey().split(this.jedi.pathSeparator).pop()))}getPropertySchema(e){let t;const s=A(this.schema),i=ae(this.schema),n=ie(this.schema);return d(i)&&a(i,e)?t=i[e]:d(n)&&Object.keys(n).forEach((s=>{new RegExp(s).test(e)&&(t=n[s])})),h(t)&&d(s)&&(t=s),h(t)&&(t={}),t}onChildChange(){const e={};this.children.forEach((t=>{t.isActive&&(e[t.getKey()]=t.getValue())})),this.value=e,this.emit("change")}sortChildrenByPropertyOrder(){this.children=this.children.sort(((e,t)=>{const s=te(e.schema,"propertyOrder"),i=te(t.schema,"propertyOrder"),n=p(s),a=p(i);return!n&&a?1:n&&!a||s<i?-1:s>i?1:0}))}refreshInstances(){const e=this.getValue();if(b(e)){Object.keys(e).forEach((t=>{const s=this.getChild(t);if(s){s.activate();const t=s.getValue(),i=e[s.getKey()];l(t,i)&&s.setValue(i,!1)}else{const s=this.getPropertySchema(t);this.createChild(s,t,e[t],!0)}}));for(let t=this.children.length-1;t>=0;t--){const s=this.children[t],i=s.getKey();h(e[i])&&(this.getChild(i)?s.deactivate():this.deleteChild(i))}this.sortChildrenByPropertyOrder()}}}class Nt extends Pt{prepare(){this.refreshChildren(),this.on("set-value",(()=>{this.refreshChildren()}))}createItemInstance(e){let s;const i=this.children.length,n=F(this.schema),a=ne(this.schema);s=d(n)?n:{};d(a)&&d(a[i])&&(s=a[i]);const r=this.jedi.createInstance({jedi:this.jedi,schema:s,path:this.path+this.jedi.pathSeparator+i,parent:this,value:t(e)});return d(e)&&r.setValue(e,!1),r}move(e,s){const i=t(this.getValue()),n=i[e];i.splice(e,1),i.splice(s,0,n),this.setValue(i)}addItem(){const e=this.createItemInstance(),s=t(this.getValue());s.push(e.getValue()),e.destroy(),this.setValue(s)}deleteItem(e){const s=t(this.getValue()).filter(((t,s)=>s!==e));this.setValue(s)}onChildChange(){const e=[];this.children.forEach((t=>{e.push(t.getValue())})),this.value=e,this.emit("change")}refreshChildren(){this.children=[];const e=this.getValue();f(e)&&e.forEach((e=>{const t=this.createItemInstance(e);this.children.push(t)}))}}class qt extends Pt{}class Dt extends Pt{}class Ut extends Pt{}const Ft={properties:"glyphicon glyphicon-list",delete:"glyphicon glyphicon-trash",add:"glyphicon glyphicon-plus",moveUp:"glyphicon glyphicon-arrow-up",moveDown:"glyphicon glyphicon-arrow-down",collapse:"glyphicon glyphicon-chevron-down",drag:"glyphicon glyphicon-th"},Kt={properties:"bi bi-card-list",delete:"bi bi-trash2",add:"bi bi-plus",moveUp:"bi bi-arrow-up",moveDown:"bi bi-arrow-down",collapse:"bi bi-chevron-down",drag:"bi bi-grip-vertical"},$t={properties:"icon-list",delete:"icon-trash",add:"icon-plus",moveUp:"icon-arrow-up",moveDown:"icon-arrow-down",collapse:"icon-chevron-down",drag:"icon-th"},zt={properties:"fa fa-list",delete:"fa fa-trash-o",add:"fa fa-plus",moveUp:"fa fa-arrow-up",moveDown:"fa fa-arrow-down",collapse:"fa fa-chevron-down",drag:"fa fa-th"},Jt={properties:"fas fa-list",delete:"fas fa-trash",add:"fas fa-plus",moveUp:"fas fa-arrow-up",moveDown:"fas fa-arrow-down",collapse:"fas fa-chevron-down",drag:"fas fa-grip-vertical"},Gt={properties:"fa-solid fa-list",delete:"fa-solid fa-trash",add:"fa-solid fa-plus",moveUp:"fa-solid fa-arrow-up",moveDown:"fa-solid fa-arrow-down",collapse:"fa-solid fa-chevron-down",drag:"fa-solid fa-grip-vertical"};class Zt extends Tt{sanitize(e){return Boolean(e)}}class Wt extends Zt{static resolves(e){return"boolean"===de(e)&&"radio"===te(e,"format")}build(){this.control=this.theme.getRadiosControl({values:["false","true"],titles:te(this.instance.schema,"enumTitles")||["false","true"],id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.radios.forEach((e=>{e.addEventListener("change",(()=>{const t="true"===e.value;this.instance.setValue(t)}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((e=>{const t="true"===e.value;e.checked=t===this.instance.getValue()}))}}class Qt extends Zt{static resolves(e){return"boolean"===de(e)}build(){this.control=this.theme.getSelectControl({values:["false","true"],titles:te(this.instance.schema,"enumTitles")||["false","true"],id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{const e="true"===this.control.input.value;this.instance.setValue(e)}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=!0===this.instance.getValue()?"true":"false"}}class Xt extends Zt{static resolves(e){return"boolean"===de(e)&&"checkbox"===te(e,"format")}build(){this.control=this.theme.getCheckboxControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.checked)}))}sanitize(e){return Boolean(e)}refreshUI(){this.refreshInteractiveElements(),this.control.input.checked=this.instance.getValue()}}class _t extends Tt{sanitize(e){return String(e)}}class Yt extends _t{static resolves(e){return"string"===de(e)&&"radio"===te(e,"format")}build(){this.control=this.theme.getRadiosControl({values:B(this.instance.schema),titles:te(this.instance.schema,"enumTitles")||B(this.instance.schema),id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.radios.forEach((e=>{e.addEventListener("change",(()=>{this.instance.setValue(e.value)}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((e=>{e.checked=e.value===this.instance.getValue()}))}}class es extends _t{static resolves(e){return"string"===de(e)&&d(B(e))}build(){this.control=this.theme.getSelectControl({values:B(this.instance.schema),titles:te(this.instance.schema,"enumTitles")||B(this.instance.schema),id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value)}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class ts extends _t{static resolves(e){return"string"===de(e)&&"textarea"===te(e,"format")}build(){this.control=this.theme.getTextareaControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value)}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class ss extends _t{static resolves(e){return window.Awesomplete&&"string"===de(e)&&d(te(e,"awesomplete"))}build(){this.control=this.theme.getInputControl({type:"text",id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)});try{this.awesomplete=new window.Awesomplete(this.control.input,te(this.instance.schema,"awesomplete")),this.control.container.querySelector(".awesomplete").style.display="block"}catch(e){console.error("Awesomplete is not available or not loaded correctly.",e)}}addEventListeners(){this.control.input.addEventListener("awesomplete-selectcomplete",(()=>{this.instance.setValue(this.control.input.value)}))}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}destroy(){this.awesomplete.destroy(),super.destroy()}}class is extends _t{static resolves(e){return"string"===de(e)}static getTypes(){return["hidden","color","date","datetime-local","email","number","month","password","search","time","tel","text","url","week"]}build(){const e=te(this.instance.schema,"format");this.control=this.theme.getInputControl({type:is.getTypes().includes(e)?e:"text",id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden")||"hidden"===e,description:M(this.instance.schema)}),"color"===e&&0===this.instance.value.length&&this.instance.setValue("#000000",!1)}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value)}))}sanitize(e){return String(e)}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class ns extends Tt{sanitize(e){return"integer"===de(this.instance.schema)?Math.floor(Number(e)):Number(e)}}class as extends ns{static resolves(e){const t=de(e),s=B(e),i=te(e,"format");return("number"===t||"integer"===t)&&d(s)&&"radio"===i}build(){this.control=this.theme.getRadiosControl({values:B(this.instance.schema),titles:te(this.instance.schema,"enumTitles")||B(this.instance.schema),id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.radios.forEach((e=>{e.addEventListener("change",(()=>{const t=this.sanitize(e.value);this.instance.setValue(t)}))}))}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach((e=>{e.checked=Number(e.value)===Number(this.instance.getValue())}))}}class rs extends ns{static resolves(e){const t=de(e);return("number"===t||"integer"===t)&&d(B(e))}build(){this.control=this.theme.getSelectControl({values:B(this.instance.schema),titles:te(this.instance.schema,"enumTitles")||B(this.instance.schema),id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{const e=this.sanitize(this.control.input.value);this.instance.setValue(e)}))}refreshUI(){this.refreshInteractiveElements();p(this.instance.getValue())&&(this.control.input.value=this.instance.getValue())}}class os extends ns{static resolves(e){const t=de(e);return"number"===t||"integer"===t}build(){this.control=this.theme.getInputControl({type:"number",id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden")||"hidden"===te(this.instance.schema,"format"),description:M(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",(()=>{const e=this.sanitize(this.control.input.value);this.instance.setValue(e)}))}refreshUI(){this.refreshInteractiveElements();p(this.instance.getValue())&&(this.control.input.value=this.instance.getValue())}}class ls extends Tt{static resolves(e){return"object"===de(e)}build(){this.propertyActivators={};const e=this.instance.schema.options||{};let t=!0;const s=A(this.instance.schema);d(s)&&!1===s&&(t=!1);let i=!1;d(this.instance.jedi.options.enablePropertiesToggle)&&(i=this.instance.jedi.options.enablePropertiesToggle),d(e.enablePropertiesToggle)&&(i=e.enablePropertiesToggle),this.control=this.theme.getObjectControl({title:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),id:n(this.instance.path),description:M(this.instance.schema),enablePropertiesToggle:i,addProperty:t,enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||te(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||te(this.instance.schema,"startCollapsed")})}addEventListeners(){this.control.addPropertyBtn.addEventListener("click",(()=>{const e=this.control.addPropertyControl.input.value.split(" ").join("");if(0===e.length)return;if(d(this.instance.value[e]))return;const t=this.instance.getPropertySchema(e),s=this.instance.createChild(t,e);s.activate(),this.instance.setValue(this.instance.value),this.control.addPropertyControl.input.value="";const i=this.control.ariaLive;i.innerHTML="";const n=ce(s.schema),a=d(n)?n:e,r=this.theme.getAriaLiveMessage();r.textContent=a+" field was added to the form",i.appendChild(r),this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()}))}sanitize(e){return b(e)?e:{}}getInvalidFeedback(e){return this.theme.getAlert(e)}refreshPropertiesSlot(){const e=te(this.instance.schema,"enablePropertiesToggle");if(o(this.instance.jedi.options.enablePropertiesToggle,!0)||o(e,!0)){const e=this.instance.children.map((e=>e.getKey()));for(;this.control.propertiesActivators.firstChild;)this.control.propertiesActivators.removeChild(this.control.propertiesActivators.firstChild);e.forEach((e=>{const t=this.instance.isRequired(e),s=this.instance.isDependentRequired(e),i=!t&&!s,r=this.control.ariaLive,o=this.instance.getPropertySchema(e),l=ce(o),c=n(this.instance.path+this.instance.jedi.pathSeparator+e)+"-activator",h=d(l)?l:e;if(i){const t=this.theme.getCheckboxControl({id:c,label:h,titleHidden:!1}),s=t.input;this.propertyActivators[e]=s,s.addEventListener("change",(()=>{r.innerHTML="";const t=this.theme.getAriaLiveMessage();if(s.checked){this.instance.getChild(e)||this.instance.createChild(o,e),this.instance.getChild(e).activate(),t.textContent=h+" field was added to the form",r.appendChild(t)}else this.instance.getChild(e).deactivate(),t.textContent=h+" field was removed from the form",r.appendChild(t);this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()})),this.control.propertiesActivators.appendChild(t.container)}const p=this.propertyActivators[e];p&&(p.disabled=this.disabled,p.checked=a(this.instance.getValue(),e))}))}}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.firstChild);this.instance.children.forEach((e=>{e.isActive?(null===e.ui.control.container.parentNode&&this.control.childrenSlot.appendChild(e.ui.control.container),this.disabled||this.instance.isReadOnly()?e.ui.disable():e.ui.enable()):e.ui.control.container.parentNode&&e.ui.control.container.parentNode.removeChild(e.ui.control.container)}))}refreshUI(){this.refreshInteractiveElements(),this.refreshPropertiesSlot(),this.refreshEditors()}}class cs extends ls{static resolves(e){return"object"===de(e)&&d(te(e,"grid"))}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);let e=this.theme.getRow();this.control.childrenSlot.appendChild(e),this.instance.children.forEach((t=>{if(t.isActive){const s=te(t.schema,"grid"),i=(null==s?void 0:s.columns)||12,n=(null==s?void 0:s.offset)||0,a=this.theme.getCol(12,i,n);((null==s?void 0:s.newRow)||!1)&&(e=this.theme.getRow(),this.control.childrenSlot.appendChild(e)),e.appendChild(a),a.appendChild(t.ui.control.container),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable()}}))}}class ds extends ls{static resolves(e){return"object"===de(e)&&d(te(e,"nav"))}init(){super.init(),this.activeTabIndex=0}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);const e=te(this.instance.schema,"nav"),t=this.theme.getRow(),s=d(e.cols)?e.cols:4,i=this.theme.getCol(12,s),a=this.theme.getCol(12,12-s),r=this.theme.getTabContent(),o=this.theme.getTabList({stacked:!!d(e.stacked)&&e.stacked,type:d(e.variant)?e.variant:"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(i),t.appendChild(a),i.appendChild(o),a.appendChild(r),this.instance.children.forEach(((e,t)=>{if(e.isActive){const s=t===this.activeTabIndex,i=n(e.path),a=ce(e.schema),l=this.theme.getTab({hasErrors:e.children.some((e=>e.ui.showingValidationErrors)),title:d(a)?a:e.getKey(),id:i,active:s});l.list.addEventListener("click",(()=>{this.activeTabIndex=t})),this.theme.setTabPaneAttributes(e.ui.control.container,s,i),o.appendChild(l.list),r.appendChild(e.ui.control.container),this.disabled||this.instance.isReadOnly()?e.ui.disable():e.ui.enable()}}))}}class hs extends Tt{static resolves(e){return"array"===de(e)}build(){this.control=this.theme.getArrayControl({title:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),id:n(this.instance.path),description:M(this.instance.schema),enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||te(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||te(this.instance.schema,"startCollapsed")})}addEventListeners(){this.control.addBtn.addEventListener("click",(()=>{this.instance.addItem()}))}getInvalidFeedback(e){return this.theme.getAlert(e)}sanitize(e){return f(e)?e:[]}isSortable(){return window.Sortable&&d(te(this.instance.schema,"sortable"))}refreshUI(){const e=z(this.instance.schema),t=Q(this.instance.schema);this.control.childrenSlot.innerHTML="",this.instance.children.forEach((e=>{const s=Number(e.getKey()),i=this.theme.getDeleteItemBtn(),n=this.theme.getMoveUpItemBtn(),a=this.theme.getMoveDownItemBtn(),r=this.theme.getBtnGroup(),{container:o,arrayActions:l,body:c}=this.theme.getArrayItem();if(l.appendChild(r),r.appendChild(i),r.appendChild(n),r.appendChild(a),this.isSortable()){const e=this.theme.getDragItemBtn();r.appendChild(e)}this.control.childrenSlot.appendChild(o),c.appendChild(e.ui.control.container),i.addEventListener("click",(()=>{const t=Number(e.path.split(this.instance.jedi.pathSeparator).pop());this.instance.deleteItem(t)})),n.addEventListener("click",(()=>{const e=s-1;this.instance.move(s,e)})),a.addEventListener("click",(()=>{const e=s+1;this.instance.move(s,e)})),this.disabled||this.instance.isReadOnly()?e.ui.disable():e.ui.enable(),d(t)&&this.instance.value.length<=t&&i.setAttribute("disabled","")})),this.refreshInteractiveElements(),this.isSortable()&&(this.sortable&&this.sortable.destroy(),this.sortable=window.Sortable.create(this.control.childrenSlot,{animation:150,handle:".jedi-array-drag",disabled:this.disabled||this.readOnly,onEnd:e=>{this.instance.move(e.oldIndex,e.newIndex)}})),d(e)&&e===this.instance.value.length&&this.control.addBtn.setAttribute("disabled","")}}class ps extends hs{static resolves(e){return"array"===de(e)&&d(te(e,"nav"))}init(){super.init(),this.activeTabIndex=0}addEventListeners(){this.control.addBtn.addEventListener("click",(()=>{this.activeTabIndex=this.instance.value.length,this.instance.addItem()}))}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="";const e=te(this.instance.schema,"nav"),t=this.theme.getRow(),s=d(e.cols)?e.cols:4,i=this.theme.getCol(12,s),a=this.theme.getCol(12,12-s),r=this.theme.getTabContent(),o=this.theme.getTabList({stacked:!!d(e.stacked)&&e.stacked,type:d(e.type)?e.type:"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(i),t.appendChild(a),i.appendChild(o),a.appendChild(r),this.instance.children.forEach(((e,t)=>{const s=this.theme.getDeleteItemBtn(),i=this.theme.getMoveUpItemBtn(),a=this.theme.getMoveDownItemBtn();let l;e.ui.control.arrayActions.innerHTML="",e.ui.control.arrayActions.appendChild(s),e.ui.control.arrayActions.appendChild(i),e.ui.control.arrayActions.appendChild(a),this.control.childrenSlot.appendChild(e.ui.control.container);const c=te(this.instance.schema,"itemTemplate");if(c){l=E(c,{i0:t,i1:t+1,value:e.getValue()})}else{const s=ce(e.schema);l=d(s)?s+" "+(t+1):e.getKey()}s.addEventListener("click",(()=>{this.activeTabIndex=x(t-1,0,this.instance.value.length-1),this.instance.deleteItem(t)})),i.addEventListener("click",(()=>{const e=t-1;this.activeTabIndex=e,this.instance.move(t,e)})),a.addEventListener("click",(()=>{const e=t+1;this.activeTabIndex=e,this.instance.move(t,e)}));const h=t===this.activeTabIndex,p=n(e.path),u=this.theme.getTab({hasErrors:e.children.some((e=>e.ui.showingValidationErrors)),title:l,id:p,active:h});u.list.addEventListener("click",(()=>{this.activeTabIndex=t})),this.theme.setTabPaneAttributes(e.ui.control.container,h,p),o.appendChild(u.list),r.appendChild(e.ui.control.container),this.disabled||this.instance.isReadOnly()?e.ui.disable():e.ui.enable(),0===t&&i.setAttribute("disabled",""),this.instance.value.length-1===t&&a.setAttribute("disabled","")}))}}class us extends Tt{static resolves(e){const t=de(e),s=he(e);return d(k(e))||d(s)||"any"===t||f(t)||h(t)}build(){this.control=this.theme.getMultipleControl({title:"Options",titleHidden:te(this.instance.schema,"titleHidden"),id:n(this.instance.path),description:M(this.instance.schema),switcherOptionValues:this.instance.switcherOptionValues,switcherOptionsLabels:this.instance.switcherOptionsLabels,switcher:!0})}addEventListeners(){this.control.switcher.input.addEventListener("change",(()=>{const e=Number(this.control.switcher.input.value);this.instance.switchInstance(e)}))}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.control.switcher.input.value=this.instance.index,this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(e){return this.theme.getAlert(e)}}class ms extends Tt{static resolves(e){return"null"===de(e)}build(){this.control=this.theme.getNullControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden")||"hidden"===te(this.instance.schema,"format"),description:M(this.instance.schema)})}sanitize(){return null}}class gs extends _t{static resolves(e){return window.Quill&&"string"===de(e)&&d(te(e,"quill"))}build(){this.control=this.theme.getPlaceholderControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)});try{this.quill=new window.Quill(this.control.placeholder,te(this.instance.schema,"quill"))}catch(e){console.error("Quill is not available or not loaded correctly.",e)}}addEventListeners(){this.quill.root.addEventListener("blur",(()=>{const e=this.quill.getText();e!==this.instance.getValue()&&this.instance.setValue(e)}))}refreshInteractiveElements(){this.disabled||this.readOnly?this.quill.disable():this.quill.enable()}refreshUI(){super.refreshUI(),this.quill.setText(this.instance.getValue())}}class fs extends _t{static resolves(e){return window.Jodit&&"string"===de(e)&&d(te(e,"jodit"))}build(){this.control=this.theme.getTextareaControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)});try{this.jodit=window.Jodit.make(this.control.input,te(this.instance.schema,"jodit"))}catch(e){console.error("Jodit is not available or not loaded correctly.",e)}}addEventListeners(){this.jodit.events.on("change",(()=>{const e=this.jodit.value;e!==this.instance.getValue()&&this.instance.setValue(e)}))}refreshInteractiveElements(){this.disabled||this.readOnly?this.jodit.setReadOnly(!0):this.jodit.setReadOnly(!1)}refreshUI(){super.refreshUI(),this.jodit.value=this.instance.getValue()}destroy(){this.jodit.destruct(),super.destroy()}}class bs extends _t{static resolves(e){return window.flatpickr&&"string"===de(e)&&d(te(e,"flatpickr"))}build(){this.control=this.theme.getInputControl({type:"text",id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)});try{this.flatpickr=window.flatpickr(this.control.input,te(this.instance.schema,"flatpickr"))}catch(e){console.error("Flatpickr is not available or not loaded correctly.",e)}}addEventListeners(){this.control.input.addEventListener("change",(()=>{this.instance.setValue(this.control.input.value)}))}refreshUI(){this.refreshInteractiveElements(),this.flatpickr.setDate(this.instance.getValue())}destroy(){this.flatpickr.destroy(),super.destroy()}}class vs extends ns{static resolves(e){return"undefined"!=typeof Raty&&"number"===de(e)&&d(te(e,"raty"))}build(){this.control=this.theme.getPlaceholderControl({id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),labelIconClass:te(this.instance.schema,"labelIconClass"),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)});try{this.raty=new Raty(this.control.placeholder,Object.assign({},te(this.instance.schema,"raty"),{click:e=>{this.instance.setValue(e)}})),this.raty.init()}catch(e){console.error("Raty is not available or not loaded correctly.",e)}}refreshInteractiveElements(){this.disabled||this.readOnly?this.raty.readOnly(!0):this.raty.readOnly(!1)}refreshUI(){super.refreshUI(),this.raty.score(this.instance.getValue())}}class Cs extends Tt{static resolves(e){const t=de(e),s=F(e),i=d(s)&&de(s),n=d(t)&&"array"===t,a=!0===ue(e),r=d(s)&&d(B(e.items)),o=d(s)&&d(i),l=["string","number","integer"],c=d(s)&&d(i)&&(l.includes(i)||f(i)&&i.some((e=>l.includes(e))));return n&&a&&r&&o&&c}build(){this.control=this.theme.getCheckboxesControl({values:B(this.instance.schema.items),titles:te(this.instance.schema.items,"enumTitles")||B(this.instance.schema.items),id:n(this.instance.path),label:ce(this.instance.schema)||this.instance.getKey(),titleHidden:te(this.instance.schema,"titleHidden"),description:M(this.instance.schema)})}addEventListeners(){this.control.checkboxes.forEach((e=>{e.addEventListener("change",(()=>{const t=this.instance.getValue();if(e.checked)t.push(e.value);else{const s=t.indexOf(e.value);s>-1&&t.splice(s,1)}this.instance.setValue(t)}))}))}refreshUI(){this.refreshInteractiveElements();const e=this.instance.getValue();this.control.checkboxes.forEach((t=>{t.checked=e.includes(t.value)}))}}class ys{constructor(e){this.customEditors=e.customEditors??[],this.editors=[us,Vt,Wt,Xt,Qt,Yt,es,ts,ss,gs,fs,bs,is,vs,as,rs,os,cs,ds,ls,Cs,ps,hs,ms]}getClass(e){for(const t of this.customEditors)if(t.resolves(e))return t;for(const t of this.editors)if(t.resolves(e))return t;return null}}class Ls extends Ot{constructor(e){super(),this.options=Object.assign({container:null,iconLib:null,theme:null,refParser:null,enablePropertiesToggle:!1,enableCollapseToggle:!1,startCollapsed:!1,deactivateNonRequired:!1,schema:{},showErrors:"change",data:void 0,validateFormat:!1,mergeAllOf:!1,enforceConst:!1,enforceEnumDefault:!0,customEditors:[],hiddenInputAttributes:{}},e),this.rootName="#",this.pathSeparator="/",this.instances={},this.root=null,this.validator=null,this.schema={},this.theme=null,this.uiResolver=null,this.refParser=this.options.refParser?this.options.refParser:null,this.init(),this.bindEventListeners()}init(){if(this.uiResolver=new ys({customEditors:this.options.customEditors}),this.theme=this.options.theme,d(this.options.iconLib))switch(this.options.iconLib){case"glyphicons":this.theme.icons=Ft;break;case"bootstrap-icons":this.theme.icons=Kt;break;case"fontawesome3":this.theme.icons=$t;break;case"fontawesome4":this.theme.icons=zt;break;case"fontawesome5":this.theme.icons=Jt;break;case"fontawesome6":this.theme.icons=Gt}this.schema=this.options.schema,this.validator=new kt({refParser:this.refParser,validateFormat:this.options.validateFormat}),this.root=this.createInstance({jedi:this,schema:this.options.schema,path:this.rootName}),d(this.options.data)&&this.root.setValue(this.options.data,!1),this.options.container&&(this.container=this.options.container,this.appendHiddenInput(),this.container.appendChild(this.root.ui.control.container),this.container.classList.add("jedi-ready"))}bindEventListeners(){this.root&&this.root.on("change",(()=>{this.emit("change")})),this.hiddenInput&&this.on("change",(()=>{this.hiddenInput.value=JSON.stringify(this.getValue())}))}appendHiddenInput(){const e=this.root.ui.theme.getInputControl({type:"hidden",id:"jedi-hidden-input"});this.hiddenInput=e.input,this.hiddenInput.setAttribute("name","json"),this.hiddenInput.removeAttribute("aria-describedby"),this.options.hiddenInputAttributes&&b(this.options.hiddenInputAttributes)&&Object.keys(this.options.hiddenInputAttributes).forEach((e=>{this.hiddenInput.setAttribute(e,this.options.hiddenInputAttributes[e])})),this.container.appendChild(this.hiddenInput),this.hiddenInput.value=JSON.stringify(this.getValue())}register(e){this.instances[e.path]=e}unregister(e){this.instances[e.path]=null,delete this.instances[e.path]}createInstance(e){if(this.options.mergeAllOf||te(e.schema,"mergeAllOf")){const t=j(e.schema);d(t)&&t.forEach((t=>{e.schema=C({},e.schema,t)}))}this.refParser&&(e.schema=this.refParser.expand(e.schema,e.path));const t=de(e.schema),s=he(e.schema),i=k(e.schema),n=U(e.schema);return d(i)||d(s)||"any"===t||f(t)||h(t)?new Mt(e):d(n)?new Ht(e):"object"===t?new Bt(e):"array"===t?new Nt(e):"string"===t?new qt(e):"number"===t||"integer"===t?new Dt(e):"boolean"===t?new Rt(e):"null"===t?new Ut(e):void 0}getValue(){return this.root.getValue()}setValue(){this.root.setValue(...arguments)}getInstance(e){return this.instances[e]}disable(){this.root.ui.disable()}enable(){this.root.ui.enable()}getErrors(){let e=[];return Object.keys(this.instances).forEach((t=>{const s=this.instances[t];e=[...e,...s.getErrors()]})),e}showValidationErrors(e=null){if(!this.options.container)return!1;const t=e||this.getErrors();Object.keys(this.instances).forEach((e=>{this.instances[e].ui.showValidationErrors(t,!0)}))}destroy(){this.root.destroy(),this.options.container&&(this.container.innerHTML=""),Object.keys(this).forEach((e=>{delete this[e]}))}}class Es{constructor(e=null){this.icons=e,this.useToggleEvents=!0,this.init()}init(){this.useToggleEvents=!0}getEditorContainer(){const e=document.createElement("div");return e.classList.add("jedi-editor-container"),e}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("jedi-editor-fieldset"),e}getLegend(e){const t=document.createElement("legend"),s=document.createElement("span");return t.classList.add("jedi-editor-legend"),s.classList.add("jedi-editor-legend-text"),t.setAttribute("aria-labelledby","#legend-"+e.id),s.textContent=e.textContent,s.setAttribute("id","#legend-"+e.id),t.appendChild(s),t}getLabel(e){const t=document.createElement("label");t.setAttribute("for",e.for);const s=this.getIcon(e.labelIconClass),i=document.createElement("span");return i.textContent=e.text,e.visuallyHidden&&this.visuallyHidden(t),t.classList.add("jedi-title"),t.appendChild(s),t.appendChild(i),{label:t,labelText:i,icon:s}}getIcon(e=""){const t=document.createElement("i");let s=e.split(" ");return s=s.filter((e=>e.length>0)),s&&s.forEach((e=>{t.classList.add(e)})),t}getCard(){const e=document.createElement("div");return e.classList.add("jedi-editor-card"),e}getCardHeader(){const e=document.createElement("div");return e.classList.add("jedi-editor-card-header"),e}getCardBody(){const e=document.createElement("div");return e.classList.add("jedi-editor-card-body"),e}getActionsSlot(){const e=document.createElement("div");return e.classList.add("jedi-actions-slot"),e}getArrayActionsSlot(){const e=document.createElement("span");return e.classList.add("jedi-array-actions-slot"),e}getChildrenSlot(){const e=document.createElement("div");return e.classList.add("jedi-children-slot"),e}getMessagesSlot(e={}){const t=document.createElement("div");return t.classList.add("jedi-messages-slot"),t.setAttribute("aria-atomic","false"),t.setAttribute("aria-live","polite"),e.id&&t.setAttribute("id",e.id),t}getControlSlot(){const e=document.createElement("div");return e.classList.add("jedi-control-slot"),e}getPropertiesToggle(e){const t=this.getButton(e);return t.classList.add("jedi-properties-toggle"),t.addEventListener("click",(()=>{e.propertiesContainer.open?e.propertiesContainer.close():e.propertiesContainer.showModal()})),t}getCollapse(e){const t=document.createElement("div");return t.classList.add("jedi-collapse"),t.setAttribute("id",e.id),this.useToggleEvents&&e.startCollapsed&&(t.style.display="none"),t}getCollapseToggle(e){const t=this.getButton(e);t.classList.add("jedi-collapse-toggle"),this.useToggleEvents&&t.addEventListener("click",(()=>{"none"===e.collapse.style.display?e.collapse.style.display="block":e.collapse.style.display="none"}));let s=e.startCollapsed;return t.style.transition="transform 0.1s ease",s&&(t.style.transform="rotate(90deg)"),t.addEventListener("click",(()=>{t.style.transform=s?"rotate(0deg)":"rotate(90deg)",s=!s})),t}getPropertiesSlot(e){const t=document.createElement("dialog");return t.classList.add("jedi-properties-slot"),t.setAttribute("id",e.id),window.addEventListener("click",(e=>{e.target===t&&t.close()})),t}getPropertiesAriaLive(){const e=document.createElement("div");return e.classList.add("jedi-properties-aria-live"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e}getAriaLiveMessage(e){const t=document.createElement("p");return t.classList.add("jedi-aria-live-message"),t.textContent=e,this.visuallyHidden(t),t}getPropertiesActivators(){const e=document.createElement("div");return e.classList.add("jedi-properties-activators"),e}getBtnGroup(){const e=document.createElement("span");return e.classList.add("jedi-btn-group"),e}getButton(e){const t=document.createElement("button");t.classList.add("jedi-btn"),t.setAttribute("type","button"),e.value&&(t.value=e.value),e.id&&t.setAttribute("id",e.id);const s=document.createElement("span");if(s.textContent=e.textContent,this.icons&&e.icon){const i=this.getIcon(this.icons[e.icon]);i.setAttribute("title",e.textContent),t.appendChild(i),this.visuallyHidden(s)}return t.appendChild(s),t}getArrayBtnAdd(){const e=this.getButton({textContent:"Add item",icon:"add"});return e.classList.add("jedi-array-add"),e}getAddPropertyButton(){const e=this.getButton({textContent:"Add property"});return e.classList.add("jedi-add-property-btn"),e}getDeleteItemBtn(){const e=this.getButton({textContent:"Delete item",icon:"delete"});return e.classList.add("jedi-array-delete"),e}getMoveUpItemBtn(){const e=this.getButton({textContent:"Move up",icon:"moveUp"});return e.classList.add("jedi-array-move-up"),e}getMoveDownItemBtn(){const e=this.getButton({textContent:"Move down",icon:"moveDown"});return e.classList.add("jedi-array-move-down"),e}getDragItemBtn(){const e=this.getButton({textContent:"Drag",icon:"drag"});return e.classList.add("jedi-array-drag"),e}getDescription(e={}){const t=document.createElement("small");return t.classList.add("jedi-description"),e.textContent&&(t.textContent=e.textContent),e.id&&t.setAttribute("id",e.id),t}getPlaceholderControl(e){const t=document.createElement("div"),s=document.createElement("div"),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),{label:a,labelText:r}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),o=e.id+"-description",l=this.getDescription({textContent:e.description,id:o}),c=e.id+"-messages",d=this.getMessagesSlot({id:c});return t.appendChild(a),t.appendChild(s),t.appendChild(l),t.appendChild(d),t.appendChild(i),i.appendChild(n),{container:t,placeholder:s,label:a,labelText:r,description:l,messages:d,actions:i,arrayActions:n}}getObjectControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=this.getCardBody(),a=this.getPropertiesAriaLive(),r=this.getDescription({textContent:e.description}),o=this.getMessagesSlot(),l=this.getChildrenSlot(),c=this.getPropertiesSlot({id:"properties-slot-"+e.id}),d=this.getPropertiesToggle({textContent:e.title+" properties",id:"properties-slot-toggle-"+e.id,icon:"properties",propertiesContainer:c}),h="collapse-"+e.id,p=this.getCollapse({id:h,startCollapsed:e.startCollapsed}),u=this.getCollapseToggle({textContent:e.title+" properties",id:"collapse-toggle-"+e.id,icon:"collapse",collapseId:h,collapse:p,startCollapsed:e.startCollapsed}),m=this.getPropertiesActivators(),g=this.getInputControl({type:"text",id:"jedi-add-property-input-"+e.id,label:"Property"}),f=this.getAddPropertyButton(),b=this.getFieldset(),v=this.getLegend({textContent:e.title,id:e.id});return f.classList.add("jedi-object-add"),t.appendChild(b),t.appendChild(c),b.appendChild(v),b.appendChild(p),p.appendChild(n),n.appendChild(r),n.appendChild(o),v.appendChild(s),s.appendChild(i),n.appendChild(l),e.addProperty&&(c.appendChild(g.container),c.appendChild(f),c.appendChild(document.createElement("hr"))),e.enablePropertiesToggle&&(s.appendChild(d),c.appendChild(a),c.appendChild(m)),e.enableCollapseToggle&&s.appendChild(u),{container:t,collapse:p,collapseToggle:u,body:n,actions:s,messages:o,childrenSlot:l,propertiesToggle:d,propertiesContainer:c,addPropertyControl:g,addPropertyBtn:f,ariaLive:a,propertiesActivators:m,arrayActions:i}}getArrayControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=this.getCardBody(),a=this.getDescription({textContent:e.description}),r=this.getMessagesSlot(),o=this.getChildrenSlot(),l=this.getBtnGroup(),c=this.getArrayBtnAdd(),d=this.getFieldset(),h=this.getLegend({textContent:e.title,id:e.id}),p="collapse-"+e.id,u=this.getCollapse({id:p,startCollapsed:e.startCollapsed}),m=this.getCollapseToggle({textContent:e.title+" properties",id:"collapse-toggle-"+e.id,icon:"collapse",collapseId:p,collapse:u,startCollapsed:e.startCollapsed});return t.appendChild(d),d.appendChild(h),d.appendChild(u),u.appendChild(n),n.appendChild(a),n.appendChild(r),h.appendChild(s),s.appendChild(l),l.appendChild(c),s.appendChild(i),n.appendChild(o),e.enableCollapseToggle&&s.appendChild(m),{container:t,collapseToggle:m,collapse:u,body:n,actions:s,messages:r,childrenSlot:o,btnGroup:l,addBtn:c,arrayActions:i}}getArrayItem(){const e=document.createElement("div"),t=this.getCard(),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=this.getCardHeader(),a=this.getCardBody();return e.appendChild(t),t.appendChild(n),t.appendChild(a),n.appendChild(s),s.appendChild(i),{container:e,card:t,header:n,body:a,actions:s,arrayActions:i}}getMultipleControl(e){const t=document.createElement("div"),s=this.getCard(),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardHeader({textContent:e.title,titleHidden:e.titleHidden}),r=this.getCardBody(),o=this.getDescription({textContent:e.description}),l=this.getMessagesSlot(),c=this.getChildrenSlot(),d=this.getSwitcher({values:e.switcherOptionValues,titles:e.switcherOptionsLabels,id:e.id+"-switcher",label:e.id+"-switcher",titleHidden:!0,readOnly:e.readOnly});return d.container.classList.add("jedi-switcher"),t.appendChild(o),t.appendChild(s),s.appendChild(a),s.appendChild(r),a.appendChild(i),e.switcher&&i.appendChild(d.container),i.appendChild(n),r.appendChild(l),r.appendChild(c),{container:t,card:s,header:a,body:r,actions:i,messages:l,childrenSlot:c,switcher:d,arrayActions:n}}getIfThenElseControl(e){const t=document.createElement("div"),s=this.getCard(),i=this.getActionsSlot(),n=this.getArrayActionsSlot(),a=this.getCardHeader({textContent:e.title,titleHidden:e.titleHidden}),r=this.getCardBody(),o=this.getDescription({textContent:e.description}),l=this.getMessagesSlot(),c=this.getChildrenSlot(),d=this.getSwitcher({values:e.switcherOptionValues,titles:e.switcherOptionsLabels,id:e.id+"-switcher",label:e.id+"-switcher",titleHidden:!0,readOnly:e.readOnly});return d.container.classList.add("jedi-switcher"),e.switcher&&t.appendChild(d.container),r.appendChild(o),t.appendChild(l),t.appendChild(c),{container:t,card:s,header:a,body:r,actions:i,messages:l,childrenSlot:c,switcher:d,arrayActions:n}}getNullControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),{label:n,labelText:a}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),r=e.id+"-description",o=this.getDescription({textContent:e.description,id:r}),l=this.getMessagesSlot(),c=document.createElement("br");return t.appendChild(n),t.appendChild(c),t.appendChild(o),t.appendChild(l),t.appendChild(s),s.appendChild(i),{container:t,label:n,labelText:a,description:o,messages:l,actions:s,arrayActions:i}}getTextareaControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=document.createElement("textarea");n.setAttribute("id",e.id),n.style.width="100%";const{label:a,labelText:r}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),o=e.id+"-description",l=this.getDescription({textContent:e.description,id:o}),c=e.id+"-messages",d=this.getMessagesSlot({id:c}),h=c+" "+o;return n.setAttribute("aria-describedby",h),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(d),t.appendChild(s),s.appendChild(i),{container:t,input:n,label:a,labelText:r,description:l,messages:d,actions:s,arrayActions:i}}getInputControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=document.createElement("input");n.setAttribute("type",e.type),n.setAttribute("id",e.id),n.style.width="100%";const{label:a,labelText:r}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),o=e.id+"-description",l=this.getDescription({textContent:e.description,id:o}),c=e.id+"-messages",d=this.getMessagesSlot({id:c}),h=c+" "+o;return n.setAttribute("aria-describedby",h),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(d),t.appendChild(s),s.appendChild(i),{container:t,input:n,label:a,labelText:r,description:l,messages:d,actions:s,arrayActions:i}}getRadiosControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=this.getFieldset(),a=this.getCardBody(),r=this.getLegend({textContent:e.label,id:e.id}),o=e.id+"-messages",l=this.getMessagesSlot({id:o}),c=e.id+"-description",d=this.getDescription({textContent:e.description,id:c});e.titleHidden&&this.visuallyHidden(r);const h=[],p=[],u=[],m=[];return e.values.forEach(((t,s)=>{const i=document.createElement("div");h.push(i);const n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("id",e.id+"-"+s),n.setAttribute("value",t),p.push(n);const a=o+" "+c;n.setAttribute("aria-describedby",a);const r=document.createElement("label");r.setAttribute("for",e.id+"-"+s);const l=document.createElement("span");m.push(l),e.titles&&e.titles[s]&&(l.textContent=e.titles[s]),u.push(r)})),t.appendChild(n),t.appendChild(s),n.appendChild(r),n.appendChild(a),s.appendChild(i),h.forEach(((e,t)=>{a.appendChild(h[t]),e.appendChild(p[t]),e.appendChild(u[t]),u[t].appendChild(m[t])})),n.appendChild(d),n.appendChild(l),{container:t,fieldset:n,legend:r,body:a,radios:p,labels:u,labelTexts:m,radioControls:h,description:d,messages:l,actions:s,arrayActions:i}}getCheckboxControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=document.createElement("div"),a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("id",e.id);const{label:r,labelText:o}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),l=e.id+"-description",c=this.getDescription({textContent:e.description,id:l}),d=e.id+"-messages",h=this.getMessagesSlot({id:d}),p=d+" "+l;return a.setAttribute("aria-describedby",p),t.appendChild(n),t.appendChild(s),s.appendChild(i),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(h),{container:t,formGroup:n,input:a,label:r,labelText:o,description:c,messages:h,actions:s,arrayActions:i}}getCheckboxesControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=this.getFieldset(),a=this.getCardBody(),r=this.getLegend({textContent:e.label,id:e.id}),o=e.id+"-messages",l=this.getMessagesSlot({id:o}),c=e.id+"-description",d=this.getDescription({textContent:e.description,id:c});e.titleHidden&&this.visuallyHidden(r);const h=[],p=[],u=[],m=[];return e.values.forEach(((t,s)=>{const i=document.createElement("div");h.push(i);const n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id",e.id+"-"+s),n.setAttribute("value",t),p.push(n);const a=o+" "+c;n.setAttribute("aria-describedby",a);const r=document.createElement("label");r.setAttribute("for",e.id+"-"+s);const l=document.createElement("span");m.push(l),e.titles&&e.titles[s]&&(l.textContent=e.titles[s]),u.push(r)})),t.appendChild(n),t.appendChild(s),n.appendChild(r),n.appendChild(a),s.appendChild(i),h.forEach(((e,t)=>{a.appendChild(h[t]),e.appendChild(p[t]),e.appendChild(u[t]),u[t].appendChild(m[t])})),a.appendChild(d),a.appendChild(l),{container:t,fieldset:n,legend:r,body:a,checkboxes:p,labels:u,labelTexts:m,checkboxControls:h,description:d,messages:l,actions:s,arrayActions:i}}getSelectControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),i=this.getArrayActionsSlot(),n=document.createElement("select");n.setAttribute("id",e.id),e.values.forEach(((t,s)=>{const i=document.createElement("option");i.setAttribute("value",t),e.titles&&e.titles[s]&&(i.textContent=e.titles[s]),n.appendChild(i)}));const{label:a,labelText:r}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),o=e.id+"-description",l=this.getDescription({textContent:e.description,id:o}),c=e.id+"-messages",d=this.getMessagesSlot({id:c}),h=c+" "+o;return n.setAttribute("aria-describedby",h),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(d),t.appendChild(s),s.appendChild(i),{container:t,input:n,label:a,labelText:r,description:l,messages:d,actions:s,arrayActions:i}}getSwitcher(e){const t=document.createElement("span"),s=document.createElement("select");s.setAttribute("id",e.id),e.values.forEach(((t,i)=>{const n=document.createElement("option");n.setAttribute("value",t),e.titles&&e.titles[i]&&(n.textContent=e.titles[i]),s.appendChild(n)}));const{label:i,labelText:n}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden});return t.appendChild(i),t.appendChild(s),{container:t,input:s,label:i,labelText:n}}getAlert(e){return this.getInvalidFeedback(e)}getInvalidFeedback(e){const t=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span");return s.textContent=e.message,i.textContent="⚠ ",i.classList.add("jedi-error-message"),i.setAttribute("aria-hidden","true"),t.classList.add("jedi-error-message"),t.appendChild(i),t.appendChild(s),t}getRow(){const e=document.createElement("div");return e.classList.add("jedi-row"),e}getCol(e,t,s){const i=document.createElement("div");return i.classList.add("jedi-col-xs-"+e),i.classList.add("jedi-col-md-"+t),s&&i.classList.add("jedi-col-md-offset-"+s),i}getTabList(){const e=document.createElement("ul");return e.classList.add("jedi-nav-list"),e}getTab(e){const t=document.createElement("li"),s=document.createElement("a");return s.classList.add("jedi-nav-link"),s.setAttribute("href","#"+e.id),s.textContent=e.hasErrors?"⚠ "+e.title:e.title,t.appendChild(s),{list:t,link:s}}getTabContent(){const e=document.createElement("div");return e.classList.add("tab-content"),e}setTabPaneAttributes(e,t,s){e.setAttribute("id",s),e.classList.add("jedi-tab-pane")}visuallyHidden(e){e.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}visuallyVisible(e){e.removeAttribute("style")}}return{Schema:me,Utils:w,EditorBoolean:Zt,EditorBooleanEnumRadio:Wt,EditorBooleanEnumSelect:Qt,EditorBooleanCheckbox:Xt,EditorString:_t,EditorStringEnumRadio:Yt,EditorStringEnumSelect:es,EditorStringTextarea:ts,EditorStringAwesomplete:ss,EditorStringInput:is,EditorNumber:ns,EditorNumberEnumRadio:as,EditorNumberEnumSelect:rs,EditorNumberInput:os,EditorObjectGrid:cs,EditorObjectNav:ds,EditorObject:ls,EditorArrayNav:ps,EditorArray:hs,EditorMultiple:us,EditorIfThenElse:Vt,EditorNull:ms,Theme:Es,ThemeBootstrap3:class extends Es{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("btn-block"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("in"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("panel"),e.classList.add("panel-default"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h5"),t.classList.add("panel-heading"),t.classList.add("pull-left"),t.setAttribute("style","margin: 0; display: flex; justify-content: space-between; align-items: center;"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.setAttribute("style","margin-right: 5px;"),t}getCard(){const e=super.getCard();return e.classList.add("panel"),e.classList.add("panel-default"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("panel-heading"),t.classList.add("text-right"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("panel-body"),e.style.clear="both",e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-xs"),t.classList.add("btn-default"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:i,label:n}=t;return s.classList.add("form-group"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:i,label:n}=t;return s.classList.add("form-group"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{body:s,radios:i,labels:n,labelTexts:a,radioControls:r,description:o,messages:l}=t;return r.forEach(((e,t)=>{e.classList.add("radio"),s.appendChild(r[t]),e.appendChild(n[t]),n[t].appendChild(i[t]),n[t].appendChild(a[t])})),s.appendChild(o),s.appendChild(l),t}getCheckboxesControl(e){const t=super.getCheckboxesControl(e),{body:s,checkboxes:i,labels:n,labelTexts:a,checkboxControls:r}=t;return r.forEach(((e,t)=>{e.classList.add("checkbox"),s.appendChild(r[t]),e.appendChild(n[t]),n[t].appendChild(i[t]),n[t].appendChild(a[t])})),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:i,input:n,label:a,labelText:r,description:o,messages:l}=t;return i.classList.add("checkbox"),s.appendChild(i),i.appendChild(a),a.appendChild(n),a.appendChild(r),i.appendChild(o),i.appendChild(l),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:i,label:n}=t;return s.classList.add("form-group"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const i=super.getRow();return i.classList.add("col-xs-"+e),i.classList.add("col-md-"+t),s&&i.classList.add("col-md-offset-"+s),i}getTabList(e){const t=super.getTabList(e);return t.classList.add("nav"),"tabs"===e.type?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("nav-stacked"),!1===e.stacked&&t.classList.remove("nav-stacked"),t}getTab(e){const t=super.getTab(e);return e.active&&t.list.classList.add("active"),t.link.setAttribute("data-toggle","tab"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&(e.classList.add("in"),e.classList.add("active"))}visuallyHidden(e){e.classList.add("sr-only")}visuallyVisible(e){e.classList.remove("sr-only")}},ThemeBootstrap4:class extends Es{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("btn-block"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("show"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("card"),e.classList.add("mb-3"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h6"),t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-between"),t.classList.add("align-items-center"),t.classList.add("float-left"),t.classList.add("py-2"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.classList.add("mr-1"),t}getCard(){const e=super.getCard();return e.classList.add("card"),e.classList.add("mb-3"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-end"),t.classList.add("align-items-center"),t.classList.add("py-1"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("card-body"),e.classList.add("pb-0"),e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-sm"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:i,label:n}=t;return s.classList.add("form-group"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:i,label:n}=t;return s.classList.add("form-group"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{container:s,body:i,radios:n,labels:a,labelTexts:r,radioControls:o,description:l,messages:c}=t;return s.classList.add("form-group"),o.forEach(((e,t)=>{e.classList.add("form-check"),n[t].classList.add("form-check-input"),a[t].classList.add("form-check-label"),i.appendChild(o[t]),e.appendChild(n[t]),e.appendChild(a[t]),a[t].appendChild(r[t])})),i.appendChild(l),i.appendChild(c),t}getCheckboxesControl(e){const t=super.getCheckboxesControl(e),{checkboxes:s,labels:i,checkboxControls:n}=t;return n.forEach(((e,t)=>{e.classList.add("form-group"),e.classList.add("form-check"),s[t].classList.add("form-check-input"),i[t].classList.add("form-check-label")})),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:i,input:n,label:a,description:r,messages:o}=t;return i.classList.add("form-group"),i.classList.add("form-check"),n.classList.add("form-check-input"),a.classList.add("form-check-label"),s.appendChild(i),i.appendChild(n),i.appendChild(a),i.appendChild(r),i.appendChild(o),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:i}=t;return s.classList.add("form-group"),i.classList.add("form-control"),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t.classList.add("form-text"),t.classList.add("d-block"),t}getColumnClass(e,t){return"col-"+e+"-"+t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const i=super.getRow(e,t,s);return i.classList.add("col-"+e),i.classList.add("col-md-"+t),s&&i.classList.add("offset-md-"+s),i}getTabList(e){const t=super.getTabList();return t.classList.add("nav"),"tabs"===e.type?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("flex-column"),!1===e.stacked&&t.classList.remove("flex-column"),t}getTab(e){const t=super.getTab(e);return t.list.classList.add("nav-item"),t.link.classList.add("nav-link"),t.link.setAttribute("data-toggle","tab"),e.active&&t.link.classList.add("active"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&e.classList.add("active")}visuallyHidden(e){e.classList.add("sr-only")}visuallyVisible(e){e.classList.remove("sr-only")}},ThemeBootstrap5:class extends Es{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("w-100"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-bs-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("show"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("card"),e.classList.add("mb-3"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h6"),t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-between"),t.classList.add("align-items-center"),t.classList.add("py-2"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.classList.add("me-1"),t}getCard(){const e=super.getCard();return e.classList.add("card"),e.classList.add("mb-3"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-end"),t.classList.add("align-items-center"),t.classList.add("py-1"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("card-body"),e.classList.add("pb-0"),e}getControlSlot(){const e=super.getControlSlot();return e.classList.add("mb-3"),e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-sm"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:i,label:n}=t;return s.classList.add("mb-3"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:i,label:n}=t;return s.classList.add("mb-3"),i.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{container:s,body:i,radios:n,labels:a,labelTexts:r,radioControls:o,description:l,messages:c}=t;return s.classList.add("mb-3"),o.forEach(((e,t)=>{e.classList.add("form-check"),n[t].classList.add("form-check-input"),a[t].classList.add("form-check-label"),i.appendChild(o[t]),e.appendChild(n[t]),e.appendChild(a[t]),a[t].appendChild(r[t])})),i.appendChild(l),i.appendChild(c),t}getCheckboxesControl(e){const t=super.getCheckboxesControl(e),{checkboxes:s,labels:i,checkboxControls:n}=t;return n.forEach(((e,t)=>{e.classList.add("mb-3"),e.classList.add("form-check"),s[t].classList.add("form-check-input"),i[t].classList.add("form-check-label")})),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:i,input:n,label:a,description:r,messages:o}=t;return s.classList.add("mb-3"),i.classList.add("form-check"),n.classList.add("form-check-input"),a.classList.add("form-check-label"),e.titleHidden&&this.visuallyHidden(a),s.appendChild(i),i.appendChild(n),i.appendChild(a),i.appendChild(r),i.appendChild(o),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:i}=t;return s.classList.add("mb-3"),i.classList.add("form-select"),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t.classList.add("d-block"),t.classList.add("form-text"),t.classList.add("form-text"),t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const i=super.getRow(e,t,s);return i.classList.add("col-"+e),i.classList.add("col-md-"+t),s&&i.classList.add("offset-md-"+s),i}getTabList(e){const t=super.getTabList(e);return t.classList.add("nav"),"tabs"===e.type?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("flex-column"),!1===e.stacked&&t.classList.remove("flex-column"),t}getTab(e){const t=super.getTab(e);return t.list.classList.add("nav-item"),t.link.classList.add("nav-link"),t.link.setAttribute("data-bs-toggle","tab"),e.active&&t.link.classList.add("active"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&e.classList.add("active")}visuallyHidden(e){e.classList.add("visually-hidden")}visuallyVisible(e){e.classList.remove("visually-hidden")}},RefParser:class{constructor(){this.refs={},this.data={}}async dereference(e){for(await this.collectRefs(e);!1===this.refsResolved();)await this.collectRefs(e)}refsResolved(){return Object.values(this.refs).every((e=>null!==e))}async collectRefs(e,t="#"){if("object"==typeof e&&null!==e)for(const[s,i]of Object.entries(e)){const n=t?`${t}/${s}`:`/${s}`;if(this.hasRef(e)){const t=e.$ref;if(this.isExternalRef(t)){const e=await this.load(t);this.refs[t]=e,await this.collectRefs(e,n)}else this.refs[t]=this.data[t]??null}this.data[t]=e,await this.collectRefs(i,n)}}hasRef(e){return void 0!==e.$ref&&"string"==typeof e.$ref}isExternalRef(e){return"string"==typeof e&&(e.startsWith("http")||e.startsWith("https"))}isObject(e){return null!==e&&"object"==typeof e}expand(e){const t=JSON.parse(JSON.stringify(e));if(this.isObject(t)&&this.hasRef(t)){const e=t.$ref;return delete t.$ref,this.expand(C({},this.refs[e],t))}return t}async load(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){throw console.error("Error loading",e,t),t}}},Create:Ls}}));
//# sourceMappingURL=jedi.js.map
