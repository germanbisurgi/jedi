(function($,j){typeof exports=="object"&&typeof module<"u"?module.exports=j():typeof define=="function"&&define.amd?define(j):($=typeof globalThis<"u"?globalThis:$||self,$.Jedi=j())})(this,function(){"use strict";function $(){const i=[];return function(e,t){if(typeof t!="object"||t===null)return t;for(;i.length>0&&i.at(-1)!==this;)i.pop();return i.includes(t)?"[Circular]":(i.push(t),t)}}function j(i){if(!(typeof i>"u"))return JSON.parse(JSON.stringify(i,$()))}function We(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function De(i,e,t){return i.replace(new RegExp(We(e),"g"),t)}function A(i){return De(De(i,"#","root"),"/","-")}function q(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Le(i){return Object.keys(i).sort().reduce((e,t)=>(e[t]=i[t],e),{})}function z(i,e){return f(i)&&f(e)&&(i=Le(i),e=Le(e)),JSON.stringify(i)===JSON.stringify(e)}function G(i,e){return!z(i,e)}function Ee(i){return i===null}function d(i){return typeof i<"u"}function H(i){return typeof i>"u"}function T(i){return typeof i=="number"}function B(i){return T(i)&&i===Math.floor(i)}function R(i){return typeof i=="string"}function k(i){return typeof i=="boolean"}function S(i){return Array.isArray(i)}function f(i){return!Ee(i)&&!S(i)&&typeof i=="object"}function _e(i){let e="any";return T(i)?e=B(i)?"integer":"number":R(i)?e="string":k(i)?e="boolean":S(i)?e="array":Ee(i)?e="null":f(i)&&(e="object"),e}function U(i,...e){if(!e.length)return i;const t=e.shift();return f(i)&&f(t)&&Object.keys(t).forEach(s=>{f(t[s])?(i[s]||Object.assign(i,{[s]:{}}),U(i[s],t[s])):Object.assign(i,{[s]:t[s]})}),U(i,...e)}function Xe(i,e){return Object.keys(e).forEach(function(t){t in i&&typeof i[t]==typeof e[t]&&(i[t]=e[t])}),i}function Ye(i,e){const t=e.split(".");let s=i;for(const a of t)if(Array.isArray(s)&&/^\d+$/.test(a)){const n=parseInt(a);if(n>=0&&n<s.length)s=s[n];else return}else if(q(s,a))s=s[a];else return;return s}function y(i,e){return i.replace(/{{(.*?)}}/g,t=>{t=t.replace(/\s/g,"");const s=t.split(/{{|}}/)[1];return Ye(e,s)})}function et(i,e,t){return Math.max(e,Math.min(i,t))}function Ue(i){const e=[],t=new Set;for(const s of i){const a=JSON.stringify(s);t.has(a)||(t.add(a),e.push(s))}return e}const Ut={getCircularReplacer:$,clone:j,escapeRegExp:We,replaceAll:De,pathToAttribute:A,hasOwn:q,sortObject:Le,equal:z,different:G,isNull:Ee,isSet:d,notSet:H,isNumber:T,isInteger:B,isString:R,isBoolean:k,isArray:S,isObject:f,getType:_e,mergeDeep:U,overwriteExistingProperties:Xe,getValueByJSONPath:Ye,compileTemplate:y,clamp:et,removeDuplicatesFromArray:Ue};function Ft(i,e){const t="x-"+e;return i[t]}function Kt(i){return R(i.$schema)?i.$schema:void 0}function Ie(i){return f(i.additionalProperties)||k(i.additionalProperties)?i.additionalProperties:void 0}function tt(i){return f(i.propertyNames)||k(i.propertyNames)?i.propertyNames:void 0}function xe(i){return S(i.allOf)?i.allOf:void 0}function N(i){return S(i.anyOf)?i.anyOf:void 0}function Fe(i){return i.const}function st(i){return f(i.contains)||k(i.contains)?i.contains:void 0}function it(i){return i.default}function Ke(i){return f(i.dependentRequired)?i.dependentRequired:void 0}function nt(i){return f(i.dependentSchemas)?i.dependentSchemas:void 0}function P(i){return R(i.description)?i.description:void 0}function we(i){return f(i.else)||k(i.else)?i.else:void 0}function V(i){if(S(i.enum)&&i.enum.length>0)return i.enum}function at(i){return T(i.exclusiveMaximum)?i.exclusiveMaximum:void 0}function rt(i){return T(i.exclusiveMinimum)?i.exclusiveMinimum:void 0}function ot(i){return R(i.format)?i.format:void 0}function Ae(i){if(f(i.if)||k(i.if))return i.if}function Je(i){return f(i.items)||k(i.items)?i.items:void 0}function lt(i){return T(i.maximum)?i.maximum:void 0}function ct(i){if(B(i.maxContains)&&i.maxContains>=0)return i.maxContains}function $e(i){if(B(i.maxItems)&&i.maxItems>=0)return i.maxItems}function dt(i){if(B(i.maxLength)&&i.maxLength>=0)return i.maxLength}function ht(i){if(B(i.maxProperties))return i.maxProperties}function ut(i){return T(i.minimum)?i.minimum:void 0}function pt(i){if(B(i.minContains)&&i.minContains>=0)return i.minContains}function ze(i){if(B(i.minItems)&&i.minItems>=0)return i.minItems}function mt(i){if(B(i.minLength)&&i.minLength>=0)return i.minLength}function ft(i){if(B(i.minProperties)&&i.minProperties>=0)return i.minProperties}function gt(i){if(T(i.multipleOf)&&i.multipleOf>=0)return i.multipleOf}function bt(i){return f(i.not)||k(i.not)?i.not:void 0}function p(i,e){return i["x-options"]&&i["x-options"][e]?i["x-options"][e]:void 0}function vt(i){return R(i.pattern)?i.pattern:void 0}function Z(i){return f(i.patternProperties)?i.patternProperties:void 0}function Se(i){return S(i.prefixItems)?i.prefixItems:void 0}function Q(i){return f(i.properties)?i.properties:void 0}function Ge(i){return k(i.readOnly)?i.readOnly:void 0}function Ze(i){return S(i.required)?[...new Set(i.required)]:void 0}function Pe(i){return f(i.then)||k(i.then)?i.then:void 0}function I(i){return R(i.title)?i.title:void 0}function b(i){if(R(i.type)||S(i.type))return i.type}function F(i){return S(i.oneOf)?i.oneOf:void 0}function Ct(i){return k(i.unevaluatedProperties)?i.unevaluatedProperties:void 0}function yt(i){return k(i.uniqueItems)?i.uniqueItems:void 0}const Jt={getSchemaX:Ft,getSchemaSchema:Kt,getSchemaAdditionalProperties:Ie,getSchemaPropertyNames:tt,getSchemaAllOf:xe,getSchemaAnyOf:N,getSchemaConst:Fe,getSchemaContains:st,getSchemaDefault:it,getSchemaDependentRequired:Ke,getSchemaDependentSchemas:nt,getSchemaDescription:P,getSchemaElse:we,getSchemaEnum:V,getSchemaExclusiveMaximum:at,getSchemaExclusiveMinimum:rt,getSchemaFormat:ot,getSchemaIf:Ae,getSchemaItems:Je,getSchemaMaximum:lt,getSchemaMaxContains:ct,getSchemaMaxItems:$e,getSchemaMaxLength:dt,getSchemaMaxProperties:ht,getSchemaMinimum:ut,getSchemaMinContains:pt,getSchemaMinItems:ze,getSchemaMinLength:mt,getSchemaMinProperties:ft,getSchemaMultipleOf:gt,getSchemaNot:bt,getSchemaXOption:p,getSchemaPattern:vt,getSchemaPatternProperties:Z,getSchemaPrefixItems:Se,getSchemaProperties:Q,getSchemaReadOnly:Ge,getSchemaRequired:Ze,getSchemaThen:Pe,getSchemaTitle:I,getSchemaType:b,getSchemaOneOf:F,getSchemaUnevaluatedProperties:Ct,getSchemaUniqueItems:yt};function W(i,e,t,s){let a=[];const n=xe(t);return d(n)&&n.forEach(r=>{const o=new M({refParser:i.refParser,schema:r,data:e,rootName:s}),l=o.getErrors();o.destroy(),a=[...a,...l],a=Ue(a)}),a}const v={errorAdditionalProperties:'Has additional property "{{ property }}" but no additional properties are allowed.',errorAnyOf:"Must validate against at least one of the provided schemas.",errorConst:"Must have value of: {{ const }}.",errorContains:"Must contain at least one item matching the provided schema.",errorDependentRequired:"Must have the required properties: {{ dependentRequired }}.",errorEnum:"Must be one of the enumerated values: {{ enum }}.",errorExclusiveMaximum:"Must be less than {{ exclusiveMaximum }}.",errorExclusiveMinimum:"Must be greater than {{ exclusiveMinimum }}.",errorFormat:"Must be a valid {{ format }}.",errorItems:"Must have items that validate against the provided schema.",errorMaximum:"Must be at most {{ maximum }}.",errorMaxItems:"Must have at most {{ maxItems }} items.",errorMaxLength:"Must be at most {{ maxLength }} characters long.",errorMaxProperties:"Must have at most {{ maxProperties }} properties.",errorMaxContains:"Must contain at most {{ maxContains }} items matching the provided schema. It currently contains {{ counter }}.",errorMinContains:"Must contain at least {{ minContains }} items matching the provided schema. It currently contains {{ counter }}.",errorMinimum:"Must be at least {{ minimum }}.",errorMinItems:"Must have at least {{ minItems }} items.",errorMinLength:"Must be at least {{ minLength }} characters long.",errorMinProperties:"Must have at least {{ minProperties }} properties.",errorMultipleOf:"Must be multiple of {{ multipleOf }}.",errorNot:"Must not validate against the provided schema.",errorOneOf:"Must validate against exactly one of the provided schemas. It currently validates against {{ counter }} of the schemas.",errorPattern:'Must match the pattern: "{{ pattern }}".',errorPrefixItems:"Item {{ index }} fails validation.",errorPropertyNames:'Property name "{{ propertyName }}" fails validation.',errorRequired:"Must have the required properties: {{ required }}.",errorType:"Must be of type {{ type }}.",errorUnevaluatedProperties:'Has invalid unevaluated property "{{ property }}"',errorUniqueItems:"Must have unique items."};function _(i,e,t,s,a){const n=[],r=mt(t);return R(e)&&d(r)&&(e=e.replace(/[\uDCA9]/g,""),e.length<r&&n.push({messages:[y(v.errorMinLength,{minLength:r})],path:a,constrain:"minLength"})),n}function X(i,e,t,s,a){const n=[],r=N(t);if(d(r)){let o=!1;r.forEach(l=>{const c=new M({refParser:i.refParser,schema:l,data:e}),h=c.getErrors();c.destroy(),h.length===0&&(o=!0)}),o||n.push({messages:[v.errorAnyOf],path:a,constrain:"anyOf"})}return n}function Y(i,e,t,s,a){const n=[],r=V(t);return d(r)&&!r.some(l=>JSON.stringify(e)===JSON.stringify(l))&&n.push({messages:[y(v.errorEnum,{enum:JSON.stringify(r)})],path:a,constrain:"enum"}),n}function ee(i,e,t,s,a){const n=[],r=at(t);return T(e)&&d(r)&&e>=r&&n.push({messages:[y(v.errorExclusiveMaximum,{exclusiveMaximum:r})],path:a,constrain:"exclusiveMaximum"}),n}function te(i,e,t,s,a){const n=[],r=rt(t);return T(e)&&d(r)&&e<=r&&n.push({messages:[y(v.errorExclusiveMinimum,{exclusiveMinimum:r})],path:a,constrain:"exclusiveMinimum"}),n}function se(i,e,t,s,a){const n=[],r=ot(t);let o=i.validateFormat;if(p(t,"validateFormat")&&(o=t.options.validateFormat),d(r)&&R(e)&&o){let l;r==="email"&&(l=new RegExp(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/i)),r==="url"&&(l=new RegExp(/^(?:https?|ftp):\/\/(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:(?:[^\s:@]+(?::[^\s:@]*)?@)?(?:[^\s:@](?:[^\s:@-]*[^\s:@])?\.?)+[a-zA-Z]{2,}|(?:\d{1,3}\.){3}\d{1,3})(?::\d{2,5})?(?:\/[^\s]*)?$/i)),r==="uuid"&&(l=new RegExp(/^(?:urn:uuid:)?[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/i)),d(l)&&!l.test(e)&&n.push({messages:[y(v.errorFormat,{format:r})],path:a,constrain:"format"})}return n}function ie(i,e,t,s,a){const n=[],r=Je(t),o=Se(t);if(S(e)&&d(r)){const l=d(o)?o.length:0;r===!1&&e.length>0&&e.length>l&&n.push({messages:[v.errorItems],path:a,constrain:"items"})}return n}function ne(i,e,t,s,a){const n=[],r=$e(t);return S(e)&&d(r)&&e.length>r&&n.push({messages:[y(v.errorMaxItems,{maxItems:r})],path:a,constrain:"maxItems"}),n}function ae(i,e,t,s,a){const n=[],r=dt(t);return R(e)&&d(r)&&(e=e.replace(/[\uDCA9]/g,""),e.length>r&&n.push({messages:[y(v.errorMaxLength,{maxLength:r})],path:a,constrain:"maxLength"})),n}function re(i,e,t,s,a){const n=[],r=ht(t);return f(e)&&d(r)&&Object.keys(e).length>r&&n.push({messages:[y(v.errorMaxProperties,{maxProperties:r})],path:a,constrain:"maxProperties"}),n}function oe(i,e,t,s,a){const n=[],r=ut(t);return T(e)&&d(r)&&e<r&&n.push({messages:[y(v.errorMinimum,{minimum:r})],path:a,constrain:"minimum"}),n}function le(i,e,t,s,a){const n=[],r=ze(t);return S(e)&&d(r)&&e.length<r&&n.push({messages:[y(v.errorMinItems,{minItems:r})],path:a,constrain:"minItems"}),n}function ce(i,e,t,s,a){const n=[],r=ft(t);return f(e)&&d(r)&&Object.keys(e).length<r&&n.push({messages:[y(v.errorMinProperties,{minProperties:r})],path:a,constrain:"minProperties"}),n}function de(i,e,t,s,a){const n=[],r=gt(t);if(T(e)&&d(r)){if(e===0)return n;(!(e/r===Math.floor(e/r))||e.toString().includes("e"))&&n.push({messages:[y(v.errorMultipleOf,{multipleOf:r})],path:a,constrain:"multipleOf"})}return n}function he(i,e,t,s,a){const n=[],r=bt(t);if(d(r)){const o=new M({refParser:i.refParser,schema:r,data:e}),l=o.getErrors();o.destroy(),l.length===0&&n.push({messages:[y(v.errorNot)],path:a,constrain:"not"})}return n}function ue(i,e,t,s,a){const n=[],r=F(t);if(d(r)){let o=0;r.forEach(l=>{const c=new M({refParser:i.refParser,schema:l,data:e}),h=c.getErrors();c.destroy(),h.length===0&&o++}),o!==1&&n.push({messages:[y(v.errorOneOf,{counter:o})],path:a,constrain:"oneOf"})}return n}function pe(i,e,t,s,a){const n=[],r=vt(t);return R(e)&&d(r)&&!new RegExp(r).test(e)&&n.push({messages:[y(v.errorPattern,{pattern:r})],path:a,constrain:"pattern"}),n}function me(i,e,t,s){let a=[];const n=Z(t);return f(e)&&d(n)&&Object.keys(e).forEach(r=>{Object.keys(n).forEach(o=>{if(new RegExp(o).test(r)){const c=n[o],h=new M({refParser:i.refParser,schema:c,data:e[r]}),u=h.getErrors().map(m=>({messages:m.messages,path:s+"/"+r,constrain:"patternProperties"}));a=[...a,...u],h.destroy()}})}),a}function fe(i,e,t,s,a){const n=[],r=Ze(t);if(f(e)&&d(r)){const o=[],l=Object.keys(e);r.forEach(h=>{l.includes(h)||o.push(h)}),o.length>0&&n.push({messages:[y(v.errorRequired,{required:o.join(", ")})],path:a,constrain:"required"})}return n}function ge(i,e,t,s,a){const n=[],r=b(t);if(r==="any")return n;if(d(r)){const o={string:c=>R(c),number:c=>T(c),integer:c=>B(c),boolean:c=>k(c),array:c=>S(c),object:c=>f(c),null:c=>Ee(c)};let l=!0;S(r)?l=r.some(c=>o[c](e)):l=o[r](e),l||n.push({messages:[y(v.errorType,{type:r,valueType:_e(e)})],path:a,constrain:"type"})}return n}function be(i,e,t,s,a){const n=[],r=lt(t);return T(e)&&d(r)&&e>r&&n.push({messages:[y(v.errorMaximum,{maximum:r})],path:a,constrain:"maximum"}),n}function ve(i,e,t,s,a){const n=[],r=yt(t);if(S(e)&&d(r)&&r===!0){const o=[];let l=!1;for(let h=0;h<e.length;h++){let u=e[h];f(u)&&(u=Le(u));const m=JSON.stringify(u);if(l=o.some(g=>g===m),l)break;o.push(m)}l&&n.push({messages:[v.errorUniqueItems],path:a,constrain:"uniqueItems"})}return n}function Ce(i,e,t,s,a){const n=[],r=Ie(t),o=Z(t),l=Q(t);if(f(e)&&d(r)){const c=l||{},h=r,u=o||{};Object.keys(e).forEach(m=>{const g=Object.keys(u).some(E=>new RegExp(E).test(m)),x=q(c,m);if(!g&&!x){if(h===!1)n.push({messages:[y(v.errorAdditionalProperties,{property:m})],path:a,constrain:"additionalProperties"});else if(f(h)){const E=new M({refParser:i.refParser,schema:h,data:e[m]}),L=E.getErrors().map(C=>({messages:C.messages,path:`${a}.${m}`,constrain:"additionalProperties"}));n.push(...L),E.destroy()}}})}return n}const $t={additionalProperties:Ce,allOf:W,anyOf:X,enum:Y,exclusiveMaximum:ee,exclusiveMinimum:te,format:se,items:ie,maximum:be,maxItems:ne,maxLength:ae,maxProperties:re,minimum:oe,minItems:le,minLength:_,minProperties:ce,multipleOf:de,not:he,oneOf:ue,pattern:pe,patternProperties:me,required:fe,type:ge,uniqueItems:ve};function Oe(i,e,t,s,a){const n=[],r=Fe(t);return d(r)&&G(e,r)&&n.push({messages:[y(v.errorConst,{const:JSON.stringify(r)})],path:a,constrain:"const"}),n}function je(i,e,t,s,a){const n=[],r=st(t),o=pt(t),l=ct(t);if(S(e)&&d(r)){let c=0;e.forEach(u=>{const m=new M({refParser:i.refParser,schema:r,data:u});m.getErrors().length===0&&c++,m.destroy()});const h=c===0;d(o)?c<o&&n.push({messages:[y(v.errorMinContains,{counter:c,minContains:o})],path:a,constrain:"minContains"}):h&&n.push({messages:[v.errorContains],path:a,constrain:"contains"}),d(l)&&c>l&&n.push({messages:[y(v.errorMaxContains,{counter:c,maxContains:l})],path:a,constrain:"maxContains"})}return n}function Te(i,e,t,s,a){const n=[],r=Ke(t);if(f(e)&&d(r)){let o=[];Object.keys(r).forEach(c=>{d(e[c])&&(o=r[c].filter(u=>!q(e,u)))}),o.length>0&&n.push({messages:[y(v.errorDependentRequired,{dependentRequired:o.join(", ")})],path:a,constrain:"dependentRequired"})}return n}function ke(i,e,t){let s=[];const a=nt(t);return f(e)&&d(a)&&Object.keys(a).forEach(n=>{if(d(e[n])){const r=a[n],o=new M({refParser:i.refParser,schema:r,data:e}),l=o.getErrors();o.destroy(),s=[...s,...l]}}),s}function Me(i,e,t){const s=[],a=Ae(t),n=Pe(t),r=we(t);if(d(a)){if(H(n)&&H(r))return s;const o=new M({refParser:i.refParser,schema:a,data:e}),l=o.getErrors();o.destroy();let c=[],h=[];if(d(n)){const u=new M({refParser:i.refParser,schema:n,data:e});c=u.getErrors(),u.destroy()}if(d(r)){const u=new M({refParser:i.refParser,schema:r,data:e});h=u.getErrors(),u.destroy()}if(a===!0)return c;if(a===!1)return h;if(l.length===0)return c;if(l.length>0)return h}return s}function Ve(i,e,t,s,a){const n=[],r=Se(t);return S(e)&&d(r)&&r.forEach((o,l)=>{const c=e[l];if(d(c)){const h=new M({refParser:i.refParser,schema:o,data:c}),u=h.getErrors();h.destroy(),u.length>0&&n.push({messages:[y(v.errorPrefixItems,{index:l})],path:a,constrain:"prefixItems"})}}),n}const zt={additionalProperties:Ce,allOf:W,anyOf:X,const:Oe,contains:je,dependentRequired:Te,dependentSchemas:ke,enum:Y,exclusiveMaximum:ee,exclusiveMinimum:te,format:se,if:Me,items:ie,maximum:be,maxItems:ne,maxLength:ae,maxProperties:re,minimum:oe,minItems:le,minLength:_,minProperties:ce,multipleOf:de,not:he,oneOf:ue,pattern:pe,patternProperties:me,prefixItems:Ve,required:fe,type:ge,uniqueItems:ve},Gt={additionalProperties:Ce,allOf:W,anyOf:X,const:Oe,contains:je,dependentRequired:Te,dependentSchemas:ke,enum:Y,exclusiveMaximum:ee,exclusiveMinimum:te,format:se,if:Me,items:ie,maximum:be,maxItems:ne,maxLength:ae,maxProperties:re,minimum:oe,minItems:le,minLength:_,minProperties:ce,multipleOf:de,not:he,oneOf:ue,pattern:pe,patternProperties:me,prefixItems:Ve,required:fe,type:ge,uniqueItems:ve};function Lt(i,e,t,s,a){let n=[];const r=Ct(t),o=Z(t),l=Q(t),c=xe(t),h=N(t),u=F(t);if(f(e)&&d(r)){let m=d(l)?l:{};const g=r,x=o;[c,h,u].forEach(L=>{d(L)&&L.forEach(C=>{d(C.properties)&&(m={...m,...C.properties})})}),m&&Object.keys(e).forEach(L=>{let C=!1;if(d(x)&&Object.keys(x).forEach(w=>{C=new RegExp(w).test(L)}),!C&&g===!1&&!q(m,L)&&n.push({messages:[y(v.errorUnevaluatedProperties,{property:L})],path:a,constrain:"unevaluatedProperties"}),!C&&f(g)&&!q(m,L)){const w=new M({refParser:i.refParser,schema:g,data:e[L]}),O=w.getErrors().map(Ne=>({messages:Ne.messages,path:L,constrain:"unevaluatedProperties"}));n=[...n,...O],w.destroy()}})}return n}const Zt={additionalProperties:Ce,allOf:W,anyOf:X,const:Oe,contains:je,dependentRequired:Te,dependentSchemas:ke,enum:Y,exclusiveMaximum:ee,exclusiveMinimum:te,format:se,if:Me,items:ie,maximum:be,maxItems:ne,maxLength:ae,maxProperties:re,minimum:oe,minItems:le,minLength:_,minProperties:ce,multipleOf:de,not:he,oneOf:ue,pattern:pe,patternProperties:me,prefixItems:Ve,required:fe,type:ge,unevaluatedProperties:Lt,uniqueItems:ve};function Qt(i,e,t,s,a){const n=[],r=tt(t);return f(e)&&d(r)&&Object.keys(e).forEach(o=>{new M({refParser:i.refParser,schema:r,data:o}).getErrors().length>0&&n.push({messages:[y(v.errorPropertyNames,{propertyName:o})],path:a,constrain:"propertyNames"})}),n}const Et={additionalProperties:Ce,allOf:W,anyOf:X,const:Oe,contains:je,dependentRequired:Te,dependentSchemas:ke,enum:Y,exclusiveMaximum:ee,exclusiveMinimum:te,format:se,if:Me,items:ie,maximum:be,maxItems:ne,maxLength:ae,maxProperties:re,minimum:oe,minItems:le,minLength:_,minProperties:ce,multipleOf:de,not:he,oneOf:ue,pattern:pe,patternProperties:me,prefixItems:Ve,propertyNames:Qt,required:fe,type:ge,unevaluatedProperties:Lt,uniqueItems:ve};class Wt{constructor(e={}){this.refParser=e.refParser,this.validateFormat=e.validateFormat?e.validateFormat:!1,this.draft=Et,this.jsonSchemaDrafts={"http://json-schema.org/draft-04/schema#":$t,"http://json-schema.org/draft-06/schema#":zt,"http://json-schema.org/draft-07/schema#":Gt,"https://json-schema.org/draft/2019-09/schema":Zt,"https://json-schema.org/draft/2020-12/schema":Et}}getErrors(e,t,s,a){let n=[];const r=p(t,"messages"),o=j(t);return k(o)&&o===!0?n:k(o)&&o===!1?[{messages:d(r)?r:["invalid"],path:a}]:(Object.keys(this.draft).forEach(l=>{if(q(o,l)){const c=this.draft[l],h=c(this,e,t,s,a);h&&(n=[...n,...h])}}),n.length>0&&r&&(n=[{messages:r,path:a}]),n)}}class It{constructor(){this.listeners=[]}on(e,t){this.listeners.push({name:e,callback:t})}off(e){this.listeners=this.listeners.filter(t=>t.name!==e)}emit(e,t=void 0){this.listeners.filter(a=>a.name===e).forEach(a=>{a.callback(t)})}destroy(){Object.keys(this).forEach(e=>{delete this[e]})}}class K extends It{constructor(e){super(),this.jedi=e.jedi,this.path=e.path||this.jedi.rootName,this.schema=e.schema,this.value=d(e.value)?e.value:void 0,this.isActive=!0,this.parent=e.parent||null,this.children=[],this.ui=null,this.init()}init(){this.register(),this.setInitialValue(),this.prepare(),this.setDefaultValue(),this.jedi.options.container&&this.setUI(),this.on("change",()=>{this.parent&&this.parent.onChildChange()})}setUI(){const e=this.jedi.uiResolver.getClass(this.schema);this.ui=new e(this)}getKey(){return this.path.split(this.jedi.pathSeparator).pop()}register(){this.jedi.register(this)}unregister(){this.jedi.unregister(this)}setInitialValue(){if(H(this.value)){let e;const t=b(this.schema);t==="boolean"&&(e=!1),t==="number"&&(e=0),t==="integer"&&(e=0),t==="string"&&(e=""),t==="array"&&(e=[]),t==="object"&&(e={}),t==="null"&&(e=null),this.value=e}}setDefaultValue(){const e=it(this.schema);d(e)&&this.setValue(e,!1)}getValue(){return this.value}setValue(e,t=!0){if(this.isReadOnly())return;const s=this.jedi.options.enforceConst||p(this.schema,"enforceConst");if(d(s)&&z(s,!0)){const a=Fe(this.schema);if(d(a)&&G(e,a))return}this.value=e,this.emit("set-value",e),t&&this.emit("change")}onChildChange(){}getErrors(){if(!this.isActive)return[];const e=this.jedi.validator.getErrors(this.getValue(),this.schema,this.getKey(),this.path);return Ue(e)}prepare(){}activate(){this.isActive===!1&&(this.isActive=!0,this.emit("change"))}deactivate(){this.isActive===!0&&(this.isActive=!1,this.emit("change"))}isReadOnly(){let e=!1;return Ge(this.schema)===!0&&(e=!0),this.parent&&Ge(this.parent.schema)===!0&&(e=!0),e}destroy(){this.listeners=[],this.children.forEach(e=>{e.destroy()}),this.unregister(),this.ui&&this.ui.destroy(),Object.keys(this).forEach(e=>{delete this[e]}),super.destroy()}}class J{constructor(e){this.instance=e,this.theme=null,this.control=null,this.disabled=!1,this.readOnly=this.instance.isReadOnly(),this.init(),this.build(),this.coerceValue(),this.addEventListeners(),this.setContainerAttributes(),this.refreshUI(),(this.instance.jedi.options.showErrors==="always"||p(this.instance.schema,"showErrors")==="always")&&this.showValidationErrors(this.instance.getErrors()),this.instance.on("set-value",()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())}),this.instance.on("change",()=>{this.refreshUI(),this.showValidationErrors(this.instance.getErrors())})}static resolves(e){}init(){this.theme=this.instance.jedi.theme}setContainerAttributes(){this.control.container.setAttribute("data-path",this.instance.path),this.control.container.setAttribute("data-type",b(this.instance.schema))}build(){}coerceValue(){const e=V(this.instance.schema);d(e)&&!e.includes(this.instance.getValue())&&d(e[0])&&this.instance.setValue(e[0],!1)}addEventListeners(){}showValidationErrors(e){if(this.instance.jedi.options.showErrors==="never"||p(this.instance.schema,"showErrors")==="never")return;this.control.messages.innerHTML="";const s=I(this.instance.schema)||this.instance.getKey();e.forEach(a=>{a.messages.forEach(n=>{const r=this.getInvalidFeedback({message:s+": "+n});this.control.messages.appendChild(r)})})}getInvalidFeedback(e){return this.theme.getInvalidFeedback(e)}disable(){this.disabled=!0,this.refreshUI()}enable(){this.disabled=!1,this.refreshUI()}refreshUI(){this.refreshInteractiveElements()}refreshInteractiveElements(){this.control.container.querySelectorAll("button, input, select, textarea").forEach(t=>{this.disabled||this.readOnly?t.setAttribute("disabled",""):t.removeAttribute("disabled","")})}sanitize(e){return e}destroy(){this.control.container&&this.control.container.parentNode&&this.control.container.parentNode.removeChild(this.control.container),Object.keys(this).forEach(e=>{delete this[e]})}}class _t extends J{static resolves(e){const t=b(e),s=F(e),a=N(e);return d(a)||d(s)||t==="any"||S(t)||H(t)}build(){this.control=this.theme.getIfThenElseControl({title:"Options",titleHidden:p(this.instance.schema,"titleHidden"),id:A(this.instance.path),description:P(this.instance.schema),switcherOptionValues:this.instance.switcherOptionValues,switcherOptionsLabels:this.instance.switcherOptionsLabels,switcher:!1})}addEventListeners(){this.control.switcher.input.addEventListener("change",()=>{const e=Number(this.control.switcher.input.value);this.instance.switchInstance(e)})}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.control.switcher.input.value=this.instance.index,this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(e){return this.theme.getAlert(e)}}class Xt extends K{setUI(){this.ui=new _t(this)}prepare(){this.instances=[],this.activeInstance=null,this.activeInstanceChanged=!0,this.index=0,this.schemas=[],this.switcherOptionValues=[],this.switcherOptionsLabels=[],this.ifThenElseShemas=[],this.traverseSchema(this.schema),delete this.schema.if,delete this.schema.then,delete this.schema.else;let e=0;this.ifThenElseShemas.forEach(n=>{d(n.then)&&(this.schemas.push(U({},j(this.schema),n.then)),this.switcherOptionValues.push(e),this.switcherOptionsLabels.push("then"),e++),d(n.else)&&(this.schemas.push(U({},j(this.schema),n.else)),this.switcherOptionValues.push(e),this.switcherOptionsLabels.push("else"),e++)});const t=j(this.schema);delete t.if,delete t.then,delete t.else;const s=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path,parent:this.parent});this.schemas.forEach(n=>{const r=this.jedi.createInstance({jedi:this.jedi,schema:n,path:this.path,parent:this.parent});r.unregister(),r.on("change",()=>{const o=this.activeInstance.getValue();this.getFittestIndex(o)!==this.index?this.setValue(o):(this.value=this.activeInstance.getValue(),this.emit("change"))}),this.instances.push(r),this.register()}),this.on("set-value",n=>{this.instances.forEach(l=>{const c=l.getValue();let h=n;f(c)&&f(h)&&(h=Xe(c,h)),l.setValue(h,!1)});const r=this.getFittestIndex(n);r!==this.index&&(this.switchInstance(r),this.emit("change"))}),this.value=s.getValue(),s.destroy();const a=this.getFittestIndex(this.value);this.switchInstance(a)}switchInstance(e){this.index=e,this.activeInstance=this.instances[this.index],this.value=this.activeInstance.getValue(),this.emit("change")}traverseSchema(e){const t=Ae(e);if(d(t)){const s=Pe(e),a=we(e);this.ifThenElseShemas.push({if:t,then:d(s)?s:{}}),this.ifThenElseShemas.push({if:t,else:d(a)?a:{}})}}getFittestIndex(e){let t=this.index;return this.ifThenElseShemas.forEach((s,a)=>{const n=new M({schema:s.if,data:e}),r=n.getErrors();n.destroy(),r.length===0&&s.then&&(t=a),r.length>0&&s.else&&(t=a)}),t}destroy(){this.instances.forEach(e=>{e.destroy()}),super.destroy()}getAllOfCombinations(e){const t=[],s=(n,r)=>({...n,...r}),a=(n,r)=>{if(r.length===0){t.push(n);return}const o=r[0];a(s(n,o),r.slice(1)),a(n,r.slice(1))};for(let n=0;n<e.length;n++)a(e[n],e.slice(n+1));return t.sort((n,r)=>Object.keys(n).length-Object.keys(r).length),t}}class Yt extends K{prepare(){this.instances=[],this.activeInstance=null,this.lastIndex=0,this.index=0,this.schemas=[],this.switcherOptionValues=[],this.switcherOptionsLabels=[],this.on("set-value",()=>{this.onSetValue()});const e=b(this.schema);if(d(N(this.schema))||d(F(this.schema))){const s=d(N(this.schema))?N(this.schema):F(this.schema),a=j(this.schema);delete a.anyOf,delete a.oneOf,delete a.options,s.forEach((n,r)=>{n={...a,...n},this.jedi.refParser&&(n=this.jedi.refParser.expand(n));let o="Option-"+(r+1);const l=p(n,"switcherTitle"),c=I(n);d(c)&&(o=c),d(l)&&(o=l),this.switcherOptionValues.push(r),this.switcherOptionsLabels.push(o),this.schemas.push(n)})}else if(S(e))e.forEach((s,a)=>{const n=U(this.schema),r={...n,type:s,title:s[0].toUpperCase()+s.slice(1)};d(n.title)&&(r.title=n.title),this.switcherOptionValues.push(a),this.switcherOptionsLabels.push(s.charAt(0).toUpperCase()+s.slice(1)),this.schemas.push(r)});else if(e==="any"||!e){const s=j(this.schema);this.schemas=[{...s,type:"object"},{...s,type:"array"},{...s,type:"string"},{...s,type:"number"},{...s,type:"integer"},{...s,type:"boolean"},{...s,type:"null"}],this.schemas.forEach((a,n)=>{this.switcherOptionValues.push(n)}),this.switcherOptionsLabels=["Object","Array","String","Number","Integer","Boolean","Null"]}this.schemas.forEach(s=>{const a=this.jedi.createInstance({jedi:this.jedi,schema:s,path:this.path,parent:this.parent,value:j(this.value)});d(this.value)&&a.setValue(this.value,!1),a.unregister(),a.off("change"),a.on("change",()=>{this.value=this.activeInstance.getValue(),this.emit("change")}),this.instances.push(a),this.register()});const t=this.getFittestIndex(this.value);this.switchInstance(t,this.value)}switchInstance(e,t){this.lastIndex=this.index,this.index=e,this.activeInstance=this.instances[e],d(t)&&this.activeInstance.setValue(t,!1),this.setValue(this.activeInstance.getValue())}onSetValue(){if(G(this.activeInstance.getValue(),this.value)){const e=this.getFittestIndex(this.value);this.switchInstance(e,this.value)}}getFittestIndex(e){let t=0,s,a;for(const n of this.instances){const r=this.jedi.validator.getErrors(e,n.schema,n.getKey(),n.path);(H(s)||H(a))&&(s=t,a=r),r.length<a.length&&(s=t,a=r),t++}return s}destroy(){this.instances.forEach(e=>{e.destroy()}),super.destroy()}}class es extends K{}class ts extends K{prepare(){this.properties={};const e=Q(this.schema);d(e)&&Object.keys(e).forEach(t=>{const s=e[t];this.properties[t]={schema:s};let a=!0;const n=this.jedi.options.deactivateNonRequired,r=p(this.schema,"deactivateNonRequired"),o=p(s,"deactivateNonRequired");this.isNotRequired(t)&&d(n)&&n===!0&&(a=!1),this.isNotRequired(t)&&d(r)&&r===!0&&(a=!1),this.isNotRequired(t)&&d(o)&&o===!0&&(a=!1),a&&this.createChild(s,t)}),this.refreshInstances(),this.on("set-value",()=>{this.refreshInstances()})}isRequired(e){const t=Ze(this.schema);return d(t)&&t.includes(e)}isDependentRequired(e){const t=Ke(this.schema);if(d(t)){let s=[];return Object.keys(t).forEach(a=>{d(this.value[a])&&(s=t[a].filter(r=>!q(this.value,r)))}),s.includes(e)}return!1}createChild(e,t,s,a=!1){const n=this.jedi.createInstance({jedi:this.jedi,schema:e,path:this.path+this.jedi.pathSeparator+t,parent:this,value:j(s)});this.children.push(n),this.value[t]=n.getValue();const r=this.jedi.options.deactivateNonRequired||p(this.schema,"deactivateNonRequired");return this.isNotRequired(t)&&d(r)&&r===!0&&!a&&n.deactivate(),n}isNotRequired(e){return!this.isRequired(e)&&!this.isDependentRequired(e)}deleteChild(e){for(let t=this.children.length-1;t>=0;t--){const s=this.children[t];s.getKey()===e&&(s.destroy(),this.children.splice(t,1),this.onChildChange())}}getChild(e){return this.children.find(t=>e===t.getKey().split(this.jedi.pathSeparator).pop())}getPropertySchema(e){let t;const s=Ie(this.schema),a=Q(this.schema),n=Z(this.schema);return d(a)&&q(a,e)?t=a[e]:d(n)&&Object.keys(n).forEach(r=>{new RegExp(r).test(e)&&(t=n[r])}),H(t)&&d(s)&&(t=s),H(t)&&(t={}),t}onChildChange(){const e={};this.children.forEach(t=>{t.isActive&&(e[t.getKey()]=t.getValue())}),this.value=e,this.emit("change")}refreshInstances(){const e=this.getValue();if(f(e)){Object.keys(e).forEach(t=>{const s=this.getChild(t);if(s){s.activate();const a=s.getValue(),n=e[s.getKey()];G(a,n)&&s.setValue(n,!1)}else{const a=this.getPropertySchema(t);this.createChild(a,t,e[t],!0)}});for(let t=this.children.length-1;t>=0;t--){const s=this.children[t],a=s.getKey();H(e[a])&&(this.getChild(a)?s.deactivate():this.deleteChild(a))}}}}class ss extends K{prepare(){this.refreshChildren(),this.on("set-value",()=>{this.refreshChildren()})}createItemInstance(e){let t;const s=this.children.length,a=Je(this.schema),n=Se(this.schema);t=d(a)?a:{},d(n)&&d(n[s])&&(t=n[s]);const o=this.jedi.createInstance({jedi:this.jedi,schema:t,path:this.path+this.jedi.pathSeparator+s,parent:this,value:j(e)});return d(e)&&o.setValue(e,!1),o}move(e,t){const s=j(this.getValue()),a=s[e];s.splice(e,1),s.splice(t,0,a),this.setValue(s)}addItem(){const e=this.createItemInstance(),t=j(this.getValue());t.push(e.getValue()),e.destroy(),this.setValue(t)}deleteItem(e){const s=j(this.getValue()).filter((a,n)=>n!==e);this.setValue(s)}onChildChange(){const e=[];this.children.forEach(t=>{e.push(t.getValue())}),this.value=e,this.emit("change")}refreshChildren(){this.children=[];const e=this.getValue();S(e)&&e.forEach(t=>{const s=this.createItemInstance(t);this.children.push(s)})}}class is extends K{}class ns extends K{}class as extends K{}const rs={properties:"glyphicon glyphicon-list",delete:"glyphicon glyphicon-trash",add:"glyphicon glyphicon-plus",moveUp:"glyphicon glyphicon-arrow-up",moveDown:"glyphicon glyphicon-arrow-down",collapse:"glyphicon glyphicon-chevron-down",drag:"glyphicon glyphicon-th"},os={properties:"bi bi-card-list",delete:"bi bi-trash2",add:"bi bi-plus",moveUp:"bi bi-arrow-up",moveDown:"bi bi-arrow-down",collapse:"bi bi-chevron-down",drag:"bi bi-grip-vertical"},ls={properties:"icon-list",delete:"icon-trash",add:"icon-plus",moveUp:"icon-arrow-up",moveDown:"icon-arrow-down",collapse:"icon-chevron-down",drag:"icon-th"},cs={properties:"fa fa-list",delete:"fa fa-trash-o",add:"fa fa-plus",moveUp:"fa fa-arrow-up",moveDown:"fa fa-arrow-down",collapse:"fa fa-chevron-down",drag:"fa fa-th"},ds={properties:"fas fa-list",delete:"fas fa-trash",add:"fas fa-plus",moveUp:"fas fa-arrow-up",moveDown:"fas fa-arrow-down",collapse:"fas fa-chevron-down",drag:"fas fa-grip-vertical"},hs={properties:"fa-solid fa-list",delete:"fa-solid fa-trash",add:"fa-solid fa-plus",moveUp:"fa-solid fa-arrow-up",moveDown:"fa-solid fa-arrow-down",collapse:"fa-solid fa-chevron-down",drag:"fa-solid fa-grip-vertical"};class Re extends J{sanitize(e){return!!e}}class xt extends Re{static resolves(e){return b(e)==="boolean"&&p(e,"format")==="radio"}build(){this.control=this.theme.getRadiosControl({values:["false","true"],titles:p(this.instance.schema,"enumTitles")||["false","true"],id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.radios.forEach(e=>{e.addEventListener("change",()=>{const t=e.value==="true";this.instance.setValue(t)})})}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach(e=>{const t=e.value==="true";e.checked=t===this.instance.getValue()})}}class wt extends Re{static resolves(e){return b(e)==="boolean"}build(){this.control=this.theme.getSelectControl({values:["false","true"],titles:p(this.instance.schema,"enumTitles")||["false","true"],id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{const e=this.control.input.value==="true";this.instance.setValue(e)})}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()===!0?"true":"false"}}class At extends Re{static resolves(e){return b(e)==="boolean"&&p(e,"format")==="checkbox"}build(){this.control=this.theme.getCheckboxControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{this.instance.setValue(this.control.input.checked)})}sanitize(e){return!!e}refreshUI(){this.refreshInteractiveElements(),this.control.input.checked=this.instance.getValue()}}class D extends J{sanitize(e){return String(e)}}class St extends D{static resolves(e){return b(e)==="string"&&p(e,"format")==="radio"}build(){this.control=this.theme.getRadiosControl({values:V(this.instance.schema),titles:p(this.instance.schema,"enumTitles")||V(this.instance.schema),id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.radios.forEach(e=>{e.addEventListener("change",()=>{this.instance.setValue(e.value)})})}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach(e=>{e.checked=e.value===this.instance.getValue()})}}class Pt extends D{static resolves(e){return b(e)==="string"&&d(V(e))}build(){this.control=this.theme.getSelectControl({values:V(this.instance.schema),titles:p(this.instance.schema,"enumTitles")||V(this.instance.schema),id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{this.instance.setValue(this.control.input.value)})}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class Ot extends D{static resolves(e){return b(e)==="string"&&p(e,"format")==="textarea"}build(){this.control=this.theme.getTextareaControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{this.instance.setValue(this.control.input.value)})}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class jt extends D{static resolves(e){return window.Awesomplete&&b(e)==="string"&&d(p(e,"awesomplete"))}build(){this.control=this.theme.getInputControl({type:"text",id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)});try{this.awesomplete=new window.Awesomplete(this.control.input,p(this.instance.schema,"awesomplete")),this.control.container.querySelector(".awesomplete").style.display="block"}catch(e){console.error("Awesomplete is not available or not loaded correctly.",e)}}addEventListeners(){this.control.input.addEventListener("awesomplete-selectcomplete",()=>{this.instance.setValue(this.control.input.value)})}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}destroy(){this.awesomplete.destroy(),super.destroy()}}class He extends D{static resolves(e){return b(e)==="string"}static getTypes(){return["hidden","color","date","datetime-local","email","number","month","password","search","time","tel","text","url","week"]}build(){const e=p(this.instance.schema,"format");this.control=this.theme.getInputControl({type:He.getTypes().includes(e)?e:"text",id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden")||e==="hidden",description:P(this.instance.schema)}),e==="color"&&this.instance.value.length===0&&this.instance.setValue("#000000",!1)}addEventListeners(){this.control.input.addEventListener("change",()=>{this.instance.setValue(this.control.input.value)})}sanitize(e){return String(e)}refreshUI(){this.refreshInteractiveElements(),this.control.input.value=this.instance.getValue()}}class ye extends J{sanitize(e){return b(this.instance.schema)==="integer"?Math.floor(Number(e)):Number(e)}}class Tt extends ye{static resolves(e){const t=b(e),s=V(e),a=p(e,"format");return(t==="number"||t==="integer")&&d(s)&&a==="radio"}build(){this.control=this.theme.getRadiosControl({values:V(this.instance.schema),titles:p(this.instance.schema,"enumTitles")||V(this.instance.schema),id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.radios.forEach(e=>{e.addEventListener("change",()=>{const t=this.sanitize(e.value);this.instance.setValue(t)})})}refreshUI(){this.refreshInteractiveElements(),this.control.radios.forEach(e=>{e.checked=Number(e.value)===Number(this.instance.getValue())})}}class kt extends ye{static resolves(e){const t=b(e);return(t==="number"||t==="integer")&&d(V(e))}build(){this.control=this.theme.getSelectControl({values:V(this.instance.schema),titles:p(this.instance.schema,"enumTitles")||V(this.instance.schema),id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{const e=this.sanitize(this.control.input.value);this.instance.setValue(e)})}refreshUI(){this.refreshInteractiveElements();const e=this.instance.getValue();T(e)&&(this.control.input.value=this.instance.getValue())}}class Mt extends ye{static resolves(e){const t=b(e);return t==="number"||t==="integer"}build(){this.control=this.theme.getInputControl({type:"number",id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden")||p(this.instance.schema,"format")==="hidden",description:P(this.instance.schema)})}addEventListeners(){this.control.input.addEventListener("change",()=>{const e=this.sanitize(this.control.input.value);this.instance.setValue(e)})}refreshUI(){this.refreshInteractiveElements();const e=this.instance.getValue();T(e)&&(this.control.input.value=this.instance.getValue())}}class Be extends J{static resolves(e){return b(e)==="object"}build(){this.propertyActivators={};const e=this.instance.schema.options||{};let t=!0;const s=Ie(this.instance.schema);d(s)&&s===!1&&(t=!1);let a=!1;d(this.instance.jedi.options.enablePropertiesToggle)&&(a=this.instance.jedi.options.enablePropertiesToggle),d(e.enablePropertiesToggle)&&(a=e.enablePropertiesToggle),this.control=this.theme.getObjectControl({title:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),id:A(this.instance.path),description:P(this.instance.schema),enablePropertiesToggle:a,addProperty:t,enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||p(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||p(this.instance.schema,"startCollapsed")})}addEventListeners(){this.control.addPropertyBtn.addEventListener("click",()=>{const e=this.control.addPropertyControl.input.value.split(" ").join("");if(e.length===0||d(this.instance.value[e]))return;const a=this.instance.getPropertySchema(e),n=this.instance.createChild(a,e);n.activate(),this.instance.setValue(this.instance.value),this.control.addPropertyControl.input.value="";const r=this.control.ariaLive;r.innerHTML="";const o=I(n.schema),l=d(o)?o:e,c=this.theme.getAriaLiveMessage();c.textContent=l+" field was added to the form",r.appendChild(c),this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()})}sanitize(e){return f(e)?e:{}}getInvalidFeedback(e){return this.theme.getAlert(e)}refreshPropertiesSlot(){const e=p(this.instance.schema,"enablePropertiesToggle");if(z(this.instance.jedi.options.enablePropertiesToggle,!0)||z(e,!0)){const t=Object.keys(this.instance.properties),s=this.instance.children.map(n=>n.getKey());[...t,...s].forEach(n=>{const r=this.instance.isRequired(n),o=this.instance.isDependentRequired(n),l=!r&&!o,c=this.propertyActivators[n],h=this.control.ariaLive,u=this.instance.getPropertySchema(n),m=I(u),g=this.instance.path+this.instance.jedi.pathSeparator+n,x=A(g)+"-activator",E=d(m)?m:n;if(l&&!c){const C=this.theme.getCheckboxControl({id:x,label:E,titleHidden:!1}),w=C.input;this.propertyActivators[n]=w,w.addEventListener("change",()=>{h.innerHTML="";const O=this.theme.getAriaLiveMessage();w.checked?(this.instance.getChild(n)||this.instance.createChild(u,n),this.instance.getChild(n).activate(),O.textContent=E+" field was added to the form",h.appendChild(O)):(this.instance.getChild(n).deactivate(),O.textContent=E+" field was removed from the form",h.appendChild(O)),this.control.propertiesContainer.close(),this.control.propertiesContainer.showModal()}),this.control.propertiesActivators.appendChild(C.container)}const L=this.propertyActivators[n];L&&(L.disabled=this.disabled,L.checked=q(this.instance.getValue(),n))})}}refreshEditors(){this.instance.children.forEach(e=>{e.isActive?(e.ui.control.container.parentNode===null&&this.control.childrenSlot.appendChild(e.ui.control.container),this.disabled||this.instance.isReadOnly()?e.ui.disable():e.ui.enable()):e.ui.control.container.parentNode&&e.ui.control.container.parentNode.removeChild(e.ui.control.container)})}refreshUI(){this.refreshInteractiveElements(),this.refreshPropertiesSlot(),this.refreshEditors()}}class Vt extends Be{static resolves(e){return b(e)==="object"&&d(p(e,"grid"))}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);let e=this.theme.getRow();this.control.childrenSlot.appendChild(e),this.instance.children.forEach(t=>{if(t.isActive){const s=p(t.schema,"grid"),a=s.columns||12,n=s.offset||0,r=this.theme.getCol(12,a,n);(s.newRow||!1)&&(e=this.theme.getRow(),this.control.childrenSlot.appendChild(e)),e.appendChild(r),r.appendChild(t.ui.control.container),this.disabled||this.instance.isReadOnly()?t.ui.disable():t.ui.enable()}})}}class Rt extends Be{static resolves(e){return b(e)==="object"&&d(p(e,"nav"))}init(){super.init(),this.activeTabIndex=0}refreshEditors(){for(;this.control.childrenSlot.firstChild;)this.control.childrenSlot.removeChild(this.control.childrenSlot.lastChild);const e=p(this.instance.schema,"nav"),t=this.theme.getRow(),s=d(e.cols)?e.cols:3,a=this.theme.getCol(12,s),n=this.theme.getCol(12,12-s),r=this.theme.getTabContent(),o=this.theme.getTabList({stacked:d(e.stacked)?e.stacked:!1,type:d(e.variant)?e.variant:"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(a),t.appendChild(n),a.appendChild(o),n.appendChild(r),this.instance.children.forEach((l,c)=>{if(l.isActive){const h=c===this.activeTabIndex,u=A(l.path),m=I(l.schema),g=this.theme.getTab({title:d(m)?m:l.getKey(),id:u,active:h});g.list.addEventListener("click",()=>{this.activeTabIndex=c}),this.theme.setTabPaneAttributes(l.ui.control.container,h,u),o.appendChild(g.list),r.appendChild(l.ui.control.container),this.disabled||this.instance.isReadOnly()?l.ui.disable():l.ui.enable()}})}}class Qe extends J{static resolves(e){return b(e)==="array"}build(){this.control=this.theme.getArrayControl({title:I(this.instance.schema)||this.instance.getKey(),titleHidden:p(this.instance.schema,"titleHidden"),id:A(this.instance.path),description:P(this.instance.schema),enableCollapseToggle:this.instance.jedi.options.enableCollapseToggle||p(this.instance.schema,"enableCollapseToggle"),startCollapsed:this.instance.jedi.options.startCollapsed||p(this.instance.schema,"startCollapsed")})}addEventListeners(){this.control.addBtn.addEventListener("click",()=>{this.instance.addItem()})}getInvalidFeedback(e){return this.theme.getAlert(e)}sanitize(e){return S(e)?e:[]}isSortable(){return window.Sortable&&d(p(this.instance.schema,"sortable"))}refreshUI(){const e=$e(this.instance.schema),t=ze(this.instance.schema);this.control.childrenSlot.innerHTML="",this.instance.children.forEach(s=>{const a=Number(s.getKey()),n=this.theme.getDeleteItemBtn(),r=this.theme.getMoveUpItemBtn(),o=this.theme.getMoveDownItemBtn(),l=this.theme.getBtnGroup(),{container:c,arrayActions:h,body:u}=this.theme.getArrayItem();if(h.appendChild(l),l.appendChild(n),l.appendChild(r),l.appendChild(o),this.isSortable()){const m=this.theme.getDragItemBtn();l.appendChild(m)}this.control.childrenSlot.appendChild(c),u.appendChild(s.ui.control.container),n.addEventListener("click",()=>{const m=Number(s.path.split(this.instance.jedi.pathSeparator).pop());this.instance.deleteItem(m)}),r.addEventListener("click",()=>{const m=a-1;this.instance.move(a,m)}),o.addEventListener("click",()=>{const m=a+1;this.instance.move(a,m)}),this.disabled||this.instance.isReadOnly()?s.ui.disable():s.ui.enable(),d(t)&&this.instance.value.length<=t&&n.setAttribute("disabled","")}),this.refreshInteractiveElements(),this.isSortable()&&(this.sortable&&this.sortable.destroy(),this.sortable=Sortable.create(this.control.childrenSlot,{animation:150,handle:".jedi-array-drag",disabled:this.disabled||this.readOnly,onEnd:s=>{this.instance.move(s.oldIndex,s.newIndex)}})),d(e)&&e===this.instance.value.length&&this.control.addBtn.setAttribute("disabled","")}}class Ht extends Qe{static resolves(e){return b(e)==="array"&&d(p(e,"nav"))}init(){super.init(),this.activeTabIndex=0}addEventListeners(){this.control.addBtn.addEventListener("click",()=>{this.activeTabIndex=this.instance.value.length,this.instance.addItem()})}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="";const e=p(this.instance.schema,"nav"),t=this.theme.getRow(),s=d(e.cols)?e.cols:3,a=this.theme.getCol(12,s),n=this.theme.getCol(12,12-s),r=this.theme.getTabContent(),o=this.theme.getTabList({stacked:d(e.stacked)?e.stacked:!1,type:d(e.type)?e.type:"pils"});this.control.childrenSlot.appendChild(t),t.appendChild(a),t.appendChild(n),a.appendChild(o),n.appendChild(r),this.instance.children.forEach((l,c)=>{const h=this.theme.getDeleteItemBtn(),u=this.theme.getMoveUpItemBtn(),m=this.theme.getMoveDownItemBtn();l.ui.control.arrayActions.innerHTML="",l.ui.control.arrayActions.appendChild(h),l.ui.control.arrayActions.appendChild(u),l.ui.control.arrayActions.appendChild(m),this.control.childrenSlot.appendChild(l.ui.control.container);let g;const x=p(this.instance.schema,"itemTemplate");if(x){const w=x,O={i0:c,i1:c+1,value:l.getValue()};g=y(w,O)}else{const w=I(l.schema);g=d(w)?w+" "+(c+1):l.getKey()}h.addEventListener("click",()=>{this.activeTabIndex=et(c-1,0,this.instance.value.length-1),this.instance.deleteItem(c)}),u.addEventListener("click",()=>{const w=c-1;this.activeTabIndex=w,this.instance.move(c,w)}),m.addEventListener("click",()=>{const w=c+1;this.activeTabIndex=w,this.instance.move(c,w)});const E=c===this.activeTabIndex,L=A(l.path),C=this.theme.getTab({title:g,id:L,active:E});C.list.addEventListener("click",()=>{this.activeTabIndex=c}),this.theme.setTabPaneAttributes(l.ui.control.container,E,L),o.appendChild(C.list),r.appendChild(l.ui.control.container),this.disabled||this.instance.isReadOnly()?l.ui.disable():l.ui.enable(),c===0&&u.setAttribute("disabled",""),this.instance.value.length-1===c&&m.setAttribute("disabled","")})}}class Bt extends J{static resolves(e){const t=b(e),s=F(e),a=N(e);return d(a)||d(s)||t==="any"||S(t)||H(t)}build(){this.control=this.theme.getMultipleControl({title:"Options",titleHidden:p(this.instance.schema,"titleHidden"),id:A(this.instance.path),description:P(this.instance.schema),switcherOptionValues:this.instance.switcherOptionValues,switcherOptionsLabels:this.instance.switcherOptionsLabels,switcher:!0})}addEventListeners(){this.control.switcher.input.addEventListener("change",()=>{const e=Number(this.control.switcher.input.value);this.instance.switchInstance(e)})}refreshUI(){this.refreshInteractiveElements(),this.control.childrenSlot.innerHTML="",this.control.childrenSlot.appendChild(this.instance.activeInstance.ui.control.container),this.control.switcher.input.value=this.instance.index,this.disabled||this.instance.isReadOnly()?this.instance.activeInstance.ui.disable():this.instance.activeInstance.ui.enable()}getInvalidFeedback(e){return this.theme.getAlert(e)}}class qt extends J{static resolves(e){return b(e)==="null"}build(){this.control=this.theme.getNullControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden")||p(this.instance.schema,"format")==="hidden",description:P(this.instance.schema)})}sanitize(){return null}}class us extends D{static resolves(e){return window.Quill&&b(e)==="string"&&d(p(e,"quill"))}build(){this.control=this.theme.getPlaceholderControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)});try{this.quill=new window.Quill(this.control.placeholder,p(this.instance.schema,"quill"))}catch(e){console.error("Quill is not available or not loaded correctly.",e)}}addEventListeners(){this.quill.root.addEventListener("blur",()=>{const e=this.quill.getText();e!==this.instance.getValue()&&this.instance.setValue(e)})}refreshInteractiveElements(){this.disabled||this.readOnly?this.quill.disable():this.quill.enable()}refreshUI(){super.refreshUI(),this.quill.setText(this.instance.getValue())}}class ps extends D{static resolves(e){return window.Jodit&&b(e)==="string"&&d(p(e,"jodit"))}build(){this.control=this.theme.getTextareaControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)});try{this.jodit=window.Jodit.make(this.control.input,p(this.instance.schema,"jodit"))}catch(e){console.error("Jodit is not available or not loaded correctly.",e)}}addEventListeners(){this.jodit.events.on("change",()=>{const e=this.jodit.value;e!==this.instance.getValue()&&this.instance.setValue(e)})}refreshInteractiveElements(){this.disabled||this.readOnly?this.jodit.setReadOnly(!0):this.jodit.setReadOnly(!1)}refreshUI(){super.refreshUI(),this.jodit.value=this.instance.getValue()}destroy(){this.jodit.destruct(),super.destroy()}}class ms extends D{static resolves(e){return window.flatpickr&&b(e)==="string"&&d(p(e,"flatpickr"))}build(){this.control=this.theme.getInputControl({type:"text",id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)});try{this.flatpickr=window.flatpickr(this.control.input,p(this.instance.schema,"flatpickr"))}catch(e){console.error("Flatpickr is not available or not loaded correctly.",e)}}addEventListeners(){this.control.input.addEventListener("change",()=>{this.instance.setValue(this.control.input.value)})}refreshUI(){this.refreshInteractiveElements(),this.flatpickr.setDate(this.instance.getValue())}destroy(){this.flatpickr.destroy(),super.destroy()}}class fs extends ye{static resolves(e){return typeof Raty<"u"&&b(e)==="number"&&d(p(e,"raty"))}build(){this.control=this.theme.getPlaceholderControl({id:A(this.instance.path),label:I(this.instance.schema)||this.instance.getKey(),labelIconClass:p(this.instance.schema,"labelIconClass"),titleHidden:p(this.instance.schema,"titleHidden"),description:P(this.instance.schema)});try{this.raty=new Raty(this.control.placeholder,Object.assign({},p(this.instance.schema,"raty"),{click:e=>{this.instance.setValue(e)}})),this.raty.init()}catch(e){console.error("Raty is not available or not loaded correctly.",e)}}refreshInteractiveElements(){this.disabled||this.readOnly?this.raty.readOnly(!0):this.raty.readOnly(!1)}refreshUI(){super.refreshUI(),this.raty.score(this.instance.getValue())}}class gs{constructor(e){this.customEditors=e.customEditors??[],this.editors=[xt,At,wt,St,Pt,Ot,jt,us,ps,ms,He,fs,Tt,kt,Mt,Vt,Rt,Be,Ht,Qe,qt,Bt]}getClass(e){for(const t of this.customEditors)if(t.resolves(e))return t;for(const t of this.editors)if(t.resolves(e))return t;return null}}class bs extends It{constructor(e){super(),this.options=Object.assign({container:null,iconLib:null,theme:null,refParser:null,enablePropertiesToggle:!1,enableCollapseToggle:!1,startCollapsed:!1,deactivateNonRequired:!1,schema:{},showErrors:"change",data:void 0,validateFormat:!1,mergeAllOf:!1,enforceConst:!1,customEditors:[]},e),this.rootName="#",this.pathSeparator="/",this.instances={},this.root=null,this.validator=null,this.schema={},this.theme=null,this.uiResolver=null,this.refParser=this.options.refParser?this.options.refParser:null,this.init(),this.bindEventListeners()}init(){if(this.uiResolver=new gs({customEditors:this.options.customEditors}),this.theme=this.options.theme,d(this.options.iconLib))switch(this.options.iconLib){case"glyphicons":this.theme.icons=rs;break;case"bootstrap-icons":this.theme.icons=os;break;case"fontawesome3":this.theme.icons=ls;break;case"fontawesome4":this.theme.icons=cs;break;case"fontawesome5":this.theme.icons=ds;break;case"fontawesome6":this.theme.icons=hs;break}this.schema=this.options.schema,this.validator=new Wt({refParser:this.refParser,validateFormat:this.options.validateFormat}),this.root=this.createInstance({jedi:this,schema:this.options.schema,path:this.rootName}),d(this.options.data)&&this.root.setValue(this.options.data,!1),this.options.container&&(this.container=this.options.container,this.appendHiddenInput(),this.container.appendChild(this.root.ui.control.container),this.container.classList.add("jedi-ready")),this.bindEventListeners()}bindEventListeners(){this.root&&this.root.on("change",()=>{this.emit("change")}),this.hiddenInput&&this.on("change",()=>{this.hiddenInput.value=JSON.stringify(this.getValue())})}appendHiddenInput(){const e=this.root.ui.theme.getInputControl({type:"hidden",id:"jedi-hidden-input"});this.hiddenInput=e.input,this.hiddenInput.setAttribute("name","json"),this.hiddenInput.removeAttribute("aria-describedby"),this.container.appendChild(this.hiddenInput),this.hiddenInput.value=JSON.stringify(this.getValue())}register(e){this.instances[e.path]=e}unregister(e){this.instances[e.path]=null,delete this.instances[e.path]}createInstance(e){if(this.options.mergeAllOf||p(e.schema,"mergeAllOf")){const c=xe(e.schema);d(c)&&c.forEach(h=>{e.schema=U({},e.schema,h)})}this.refParser&&(e.schema=this.refParser.expand(e.schema,e.path));const s=b(e.schema),a=F(e.schema),n=N(e.schema),r=Ae(e.schema),o=Pe(e.schema),l=we(e.schema);if(d(n)||d(a)||s==="any"||S(s)||H(s))return new Yt(e);if(d(r)&&(d(o)||d(l)))return new Xt(e);if(s==="object")return new ts(e);if(s==="array")return new ss(e);if(s==="string")return new is(e);if(s==="number"||s==="integer")return new ns(e);if(s==="boolean")return new es(e);if(s==="null")return new as(e)}getValue(){return this.root.getValue()}setValue(){this.root.setValue(...arguments)}getInstance(e){return this.instances[e]}disable(){this.root.ui.disable()}enable(){this.root.ui.enable()}getErrors(){let e=[];return Object.keys(this.instances).forEach(t=>{const s=this.instances[t];e=[...e,...s.getErrors()]}),e}destroy(){this.root.destroy(),this.options.container&&(this.container.innerHTML=""),Object.keys(this).forEach(e=>{delete this[e]})}}const M=bs;class vs{constructor(){this.refs={},this.data={}}async dereference(e){for(await this.collectRefs(e);this.refsResolved()===!1;)await this.collectRefs(e)}refsResolved(){return Object.values(this.refs).every(e=>e!==null)}async collectRefs(e,t="#"){if(!(typeof e!="object"||e===null))for(const[s,a]of Object.entries(e)){const n=t?`${t}/${s}`:`/${s}`;if(this.hasRef(e)){const r=e.$ref;if(this.isExternalRef(r)){const o=await this.load(r);this.refs[r]=o,await this.collectRefs(o,n)}else this.refs[r]=this.data[r]??null}this.data[t]=e,await this.collectRefs(a,n)}}hasRef(e){return typeof e.$ref<"u"&&typeof e.$ref=="string"}isExternalRef(e){return typeof e!="string"?!1:e.startsWith("http")||e.startsWith("https")}isObject(e){return e!==null&&typeof e=="object"}expand(e){const t=JSON.parse(JSON.stringify(e));if(this.isObject(t)&&this.hasRef(t)){const s=t.$ref;return delete t.$ref,this.expand(U({},this.refs[s],t))}return t}async load(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){throw console.error("Error loading",e,t),t}}}class qe{constructor(e=null){this.icons=e,this.useToggleEvents=!0,this.init()}init(){this.useToggleEvents=!0}getEditorContainer(){const e=document.createElement("div");return e.classList.add("jedi-editor-container"),e}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("jedi-editor-fieldset"),e}getLegend(e){const t=document.createElement("legend"),s=document.createElement("span");return t.classList.add("jedi-editor-legend"),s.classList.add("jedi-editor-legend-text"),t.setAttribute("aria-labelledby","#legend-"+e.id),s.textContent=e.textContent,s.setAttribute("id","#legend-"+e.id),t.appendChild(s),t}getLabel(e){const t=document.createElement("label");t.setAttribute("for",e.for);const s=this.getIcon(e.labelIconClass),a=document.createElement("span");return a.textContent=e.text,e.visuallyHidden&&this.visuallyHidden(t),t.classList.add("jedi-title"),t.appendChild(s),t.appendChild(a),{label:t,labelText:a,icon:s}}getIcon(e=""){const t=document.createElement("i");let s=e.split(" ");return s=s.filter(a=>a.length>0),s&&s.forEach(a=>{t.classList.add(a)}),t}getCard(){const e=document.createElement("div");return e.classList.add("jedi-editor-card"),e}getCardHeader(){const e=document.createElement("div");return e.classList.add("jedi-editor-card-header"),e}getCardBody(){const e=document.createElement("div");return e.classList.add("jedi-editor-card-body"),e}getActionsSlot(){const e=document.createElement("div");return e.classList.add("jedi-actions-slot"),e}getArrayActionsSlot(){const e=document.createElement("span");return e.classList.add("jedi-array-actions-slot"),e}getChildrenSlot(){const e=document.createElement("div");return e.classList.add("jedi-children-slot"),e}getMessagesSlot(e={}){const t=document.createElement("div");return t.classList.add("jedi-messages-slot"),t.setAttribute("aria-atomic","false"),t.setAttribute("aria-live","polite"),e.id&&t.setAttribute("id",e.id),t}getControlSlot(){const e=document.createElement("div");return e.classList.add("jedi-control-slot"),e}getPropertiesToggle(e){const t=this.getButton(e);return t.classList.add("jedi-properties-toggle"),t.addEventListener("click",()=>{e.propertiesContainer.open?e.propertiesContainer.close():e.propertiesContainer.showModal()}),t}getCollapse(e){const t=document.createElement("div");return t.classList.add("jedi-collapse"),t.setAttribute("id",e.id),this.useToggleEvents&&e.startCollapsed&&(t.style.display="none"),t}getCollapseToggle(e){const t=this.getButton(e);t.classList.add("jedi-collapse-toggle"),this.useToggleEvents&&t.addEventListener("click",()=>{e.collapse.style.display==="none"?e.collapse.style.display="block":e.collapse.style.display="none"});let s=e.startCollapsed;return t.style.transition="transform 0.1s ease",s&&(t.style.transform="rotate(90deg)"),t.addEventListener("click",()=>{s?t.style.transform="rotate(0deg)":t.style.transform="rotate(90deg)",s=!s}),t}getPropertiesSlot(e){const t=document.createElement("dialog");return t.classList.add("jedi-properties-slot"),t.setAttribute("id",e.id),window.addEventListener("click",s=>{s.target===t&&t.close()}),t}getPropertiesAriaLive(){const e=document.createElement("div");return e.classList.add("jedi-properties-aria-live"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e}getAriaLiveMessage(e){const t=document.createElement("p");return t.classList.add("jedi-aria-live-message"),t.textContent=e,this.visuallyHidden(t),t}getPropertiesActivators(){const e=document.createElement("div");return e.classList.add("jedi-properties-activators"),e}getBtnGroup(){const e=document.createElement("span");return e.classList.add("jedi-btn-group"),e}getButton(e){const t=document.createElement("button");t.classList.add("jedi-btn"),t.setAttribute("type","button"),e.value&&(t.value=e.value),e.id&&t.setAttribute("id",e.id);const s=document.createElement("span");if(s.textContent=e.textContent,this.icons&&e.icon){const a=this.getIcon(this.icons[e.icon]);a.setAttribute("title",e.textContent),t.appendChild(a),this.visuallyHidden(s)}return t.appendChild(s),t}getArrayBtnAdd(){const e=this.getButton({textContent:"Add item",icon:"add"});return e.classList.add("jedi-array-add"),e}getAddPropertyButton(){const e=this.getButton({textContent:"Add property"});return e.classList.add("jedi-add-property-btn"),e}getDeleteItemBtn(){const e=this.getButton({textContent:"Delete item",icon:"delete"});return e.classList.add("jedi-array-delete"),e}getMoveUpItemBtn(){const e=this.getButton({textContent:"Move up",icon:"moveUp"});return e.classList.add("jedi-array-move-up"),e}getMoveDownItemBtn(){const e=this.getButton({textContent:"Move down",icon:"moveDown"});return e.classList.add("jedi-array-move-down"),e}getDragItemBtn(){const e=this.getButton({textContent:"Drag",icon:"drag"});return e.classList.add("jedi-array-drag"),e}getDescription(e={}){const t=document.createElement("small");return t.classList.add("jedi-description"),e.textContent&&(t.textContent=e.textContent),e.id&&t.setAttribute("id",e.id),t}getPlaceholderControl(e){const t=document.createElement("div"),s=document.createElement("div"),a=this.getActionsSlot(),n=this.getArrayActionsSlot(),{label:r,labelText:o}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),l=e.id+"-description",c=this.getDescription({textContent:e.description,id:l}),h=e.id+"-messages",u=this.getMessagesSlot({id:h});return t.appendChild(r),t.appendChild(s),t.appendChild(c),t.appendChild(u),t.appendChild(a),a.appendChild(n),{container:t,placeholder:s,label:r,labelText:o,description:c,messages:u,actions:a,arrayActions:n}}getObjectControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=this.getCardBody(),r=this.getPropertiesAriaLive(),o=this.getDescription({textContent:e.description}),l=this.getMessagesSlot(),c=this.getChildrenSlot(),h=this.getPropertiesSlot({id:"properties-slot-"+e.id}),u=this.getPropertiesToggle({textContent:e.title+" properties",id:"properties-slot-toggle-"+e.id,icon:"properties",propertiesContainer:h}),m="collapse-"+e.id,g=this.getCollapse({id:m,startCollapsed:e.startCollapsed}),x=this.getCollapseToggle({textContent:e.title+" properties",id:"collapse-toggle-"+e.id,icon:"collapse",collapseId:m,collapse:g,startCollapsed:e.startCollapsed}),E=this.getPropertiesActivators(),L=this.getInputControl({type:"text",id:"jedi-add-property-input-"+e.id,label:"Property"}),C=this.getAddPropertyButton(),w=this.getFieldset(),O=this.getLegend({textContent:e.title,id:e.id});return C.classList.add("jedi-object-add"),t.appendChild(w),t.appendChild(h),w.appendChild(O),w.appendChild(g),g.appendChild(n),n.appendChild(o),n.appendChild(l),O.appendChild(s),s.appendChild(a),n.appendChild(c),e.addProperty&&(h.appendChild(L.container),h.appendChild(C),h.appendChild(document.createElement("hr"))),e.enablePropertiesToggle&&(s.appendChild(u),h.appendChild(r),h.appendChild(E)),e.enableCollapseToggle&&s.appendChild(x),{container:t,collapse:g,collapseToggle:x,body:n,actions:s,messages:l,childrenSlot:c,propertiesToggle:u,propertiesContainer:h,addPropertyControl:L,addPropertyBtn:C,ariaLive:r,propertiesActivators:E,arrayActions:a}}getArrayControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=this.getCardBody(),r=this.getDescription({textContent:e.description}),o=this.getMessagesSlot(),l=this.getChildrenSlot(),c=this.getBtnGroup(),h=this.getArrayBtnAdd(),u=this.getFieldset(),m=this.getLegend({textContent:e.title,id:e.id}),g="collapse-"+e.id,x=this.getCollapse({id:g,startCollapsed:e.startCollapsed}),E=this.getCollapseToggle({textContent:e.title+" properties",id:"collapse-toggle-"+e.id,icon:"collapse",collapseId:g,collapse:x,startCollapsed:e.startCollapsed});return t.appendChild(u),u.appendChild(m),u.appendChild(x),x.appendChild(n),n.appendChild(r),n.appendChild(o),m.appendChild(s),s.appendChild(c),c.appendChild(h),s.appendChild(a),n.appendChild(l),e.enableCollapseToggle&&s.appendChild(E),{container:t,collapseToggle:E,collapse:x,body:n,actions:s,messages:o,childrenSlot:l,btnGroup:c,addBtn:h,arrayActions:a}}getArrayItem(){const e=document.createElement("div"),t=this.getCard(),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=this.getCardHeader(),r=this.getCardBody();return e.appendChild(t),t.appendChild(n),t.appendChild(r),n.appendChild(s),s.appendChild(a),{container:e,card:t,header:n,body:r,actions:s,arrayActions:a}}getMultipleControl(e){const t=document.createElement("div"),s=this.getCard(),a=this.getActionsSlot(),n=this.getArrayActionsSlot(),r=this.getCardHeader({textContent:e.title,titleHidden:e.titleHidden}),o=this.getCardBody(),l=this.getDescription({textContent:e.description}),c=this.getMessagesSlot(),h=this.getChildrenSlot(),u=this.getSwitcher({values:e.switcherOptionValues,titles:e.switcherOptionsLabels,id:e.id+"-switcher",label:e.id+"-switcher",titleHidden:!0,readOnly:e.readOnly});return u.container.classList.add("jedi-switcher"),t.appendChild(l),t.appendChild(s),s.appendChild(r),s.appendChild(o),r.appendChild(a),e.switcher&&a.appendChild(u.container),a.appendChild(n),o.appendChild(c),o.appendChild(h),{container:t,card:s,header:r,body:o,actions:a,messages:c,childrenSlot:h,switcher:u,arrayActions:n}}getIfThenElseControl(e){const t=document.createElement("div"),s=this.getCard(),a=this.getActionsSlot(),n=this.getArrayActionsSlot(),r=this.getCardHeader({textContent:e.title,titleHidden:e.titleHidden}),o=this.getCardBody(),l=this.getDescription({textContent:e.description}),c=this.getMessagesSlot(),h=this.getChildrenSlot(),u=this.getSwitcher({values:e.switcherOptionValues,titles:e.switcherOptionsLabels,id:e.id+"-switcher",label:e.id+"-switcher",titleHidden:!0,readOnly:e.readOnly});return u.container.classList.add("jedi-switcher"),e.switcher&&t.appendChild(u.container),t.appendChild(l),t.appendChild(c),t.appendChild(h),{container:t,card:s,header:r,body:o,actions:a,messages:c,childrenSlot:h,switcher:u,arrayActions:n}}getNullControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),{label:n,labelText:r}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),o=e.id+"-description",l=this.getDescription({textContent:e.description,id:o}),c=this.getMessagesSlot(),h=document.createElement("br");return t.appendChild(n),t.appendChild(h),t.appendChild(l),t.appendChild(c),t.appendChild(s),s.appendChild(a),{container:t,label:n,labelText:r,description:l,messages:c,actions:s,arrayActions:a}}getTextareaControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=document.createElement("textarea");n.setAttribute("id",e.id),n.style.width="100%";const{label:r,labelText:o}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),l=e.id+"-description",c=this.getDescription({textContent:e.description,id:l}),h=e.id+"-messages",u=this.getMessagesSlot({id:h}),m=h+" "+l;return n.setAttribute("aria-describedby",m),t.appendChild(r),t.appendChild(n),t.appendChild(c),t.appendChild(u),t.appendChild(s),s.appendChild(a),{container:t,input:n,label:r,labelText:o,description:c,messages:u,actions:s,arrayActions:a}}getInputControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=document.createElement("input");n.setAttribute("type",e.type),n.setAttribute("id",e.id),n.style.width="100%";const{label:r,labelText:o}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden,labelIconClass:e.labelIconClass}),l=e.id+"-description",c=this.getDescription({textContent:e.description,id:l}),h=e.id+"-messages",u=this.getMessagesSlot({id:h}),m=h+" "+l;return n.setAttribute("aria-describedby",m),t.appendChild(r),t.appendChild(n),t.appendChild(c),t.appendChild(u),t.appendChild(s),s.appendChild(a),{container:t,input:n,label:r,labelText:o,description:c,messages:u,actions:s,arrayActions:a}}getRadiosControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=this.getFieldset(),r=this.getCardBody(),o=this.getLegend({textContent:e.label,id:e.id}),l=e.id+"-messages",c=this.getMessagesSlot({id:l}),h=e.id+"-description",u=this.getDescription({textContent:e.description,id:h});e.titleHidden&&this.visuallyHidden(o);const m=[],g=[],x=[],E=[];return e.values.forEach((L,C)=>{const w=document.createElement("div");m.push(w);const O=document.createElement("input");O.setAttribute("type","radio"),O.setAttribute("id",e.id+"-"+C),O.setAttribute("value",L),g.push(O);const Ne=l+" "+h;O.setAttribute("aria-describedby",Ne);const Nt=document.createElement("label");Nt.setAttribute("for",e.id+"-"+C);const Dt=document.createElement("span");E.push(Dt),e.titles&&e.titles[C]&&(Dt.textContent=e.titles[C]),x.push(Nt)}),t.appendChild(n),t.appendChild(s),n.appendChild(o),n.appendChild(r),s.appendChild(a),m.forEach((L,C)=>{r.appendChild(m[C]),L.appendChild(g[C]),L.appendChild(x[C]),x[C].appendChild(E[C])}),n.appendChild(u),n.appendChild(c),{container:t,fieldset:n,legend:o,body:r,radios:g,labels:x,labelTexts:E,radioControls:m,description:u,messages:c,actions:s,arrayActions:a}}getCheckboxControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=document.createElement("div"),r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("id",e.id);const{label:o,labelText:l}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),c=e.id+"-description",h=this.getDescription({textContent:e.description,id:c}),u=e.id+"-messages",m=this.getMessagesSlot({id:u}),g=u+" "+c;return r.setAttribute("aria-describedby",g),t.appendChild(n),t.appendChild(s),s.appendChild(a),n.appendChild(r),n.appendChild(o),n.appendChild(h),n.appendChild(m),{container:t,formGroup:n,input:r,label:o,labelText:l,description:h,messages:m,actions:s,arrayActions:a}}getSelectControl(e){const t=document.createElement("div"),s=this.getActionsSlot(),a=this.getArrayActionsSlot(),n=document.createElement("select");n.setAttribute("id",e.id),e.values.forEach((g,x)=>{const E=document.createElement("option");E.setAttribute("value",g),e.titles&&e.titles[x]&&(E.textContent=e.titles[x]),n.appendChild(E)});const{label:r,labelText:o}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden}),l=e.id+"-description",c=this.getDescription({textContent:e.description,id:l}),h=e.id+"-messages",u=this.getMessagesSlot({id:h}),m=h+" "+l;return n.setAttribute("aria-describedby",m),t.appendChild(r),t.appendChild(n),t.appendChild(c),t.appendChild(u),t.appendChild(s),s.appendChild(a),{container:t,input:n,label:r,labelText:o,description:c,messages:u,actions:s,arrayActions:a}}getSwitcher(e){const t=document.createElement("span"),s=document.createElement("select");s.setAttribute("id",e.id),e.values.forEach((r,o)=>{const l=document.createElement("option");l.setAttribute("value",r),e.titles&&e.titles[o]&&(l.textContent=e.titles[o]),s.appendChild(l)});const{label:a,labelText:n}=this.getLabel({for:e.id,text:e.label,visuallyHidden:e.titleHidden});return t.appendChild(a),t.appendChild(s),{container:t,input:s,label:a,labelText:n}}getAlert(e){return this.getInvalidFeedback(e)}getInvalidFeedback(e){const t=document.createElement("div"),s=document.createElement("span"),a=document.createElement("span");return s.textContent=e.message,a.textContent="⚠ ",a.classList.add("jedi-error-message"),a.setAttribute("aria-hidden","true"),t.classList.add("jedi-error-message"),t.appendChild(a),t.appendChild(s),t}getRow(){const e=document.createElement("div");return e.classList.add("jedi-row"),e}getCol(e,t,s){const a=document.createElement("div");return a.classList.add("jedi-col-xs-"+e),a.classList.add("jedi-col-md-"+t),s&&a.classList.add("jedi-col-md-offset-"+s),a}getTabList(){const e=document.createElement("ul");return e.classList.add("jedi-nav-list"),e}getTab(e){const t=document.createElement("li"),s=document.createElement("a");return s.classList.add("jedi-nav-link"),s.setAttribute("href","#"+e.id),s.textContent=e.title,t.appendChild(s),{list:t,link:s}}getTabContent(){const e=document.createElement("div");return e.classList.add("tab-content"),e}setTabPaneAttributes(e,t,s){e.setAttribute("id",s),e.classList.add("jedi-tab-pane")}visuallyHidden(e){e.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}visuallyVisible(e){e.removeAttribute("style")}}class Cs extends qe{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("btn-block"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("in"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("panel"),e.classList.add("panel-default"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h5"),t.classList.add("panel-heading"),t.classList.add("pull-left"),t.setAttribute("style","margin: 0; display: flex; justify-content: space-between; align-items: center;"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.setAttribute("style","margin-right: 5px;"),t}getCard(){const e=super.getCard();return e.classList.add("panel"),e.classList.add("panel-default"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("panel-heading"),t.classList.add("text-right"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("panel-body"),e.style.clear="both",e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-xs"),t.classList.add("btn-default"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:a,label:n}=t;return s.classList.add("form-group"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:a,label:n}=t;return s.classList.add("form-group"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{body:s,radios:a,labels:n,labelTexts:r,radioControls:o,description:l,messages:c}=t;return o.forEach((h,u)=>{h.classList.add("radio"),s.appendChild(o[u]),h.appendChild(n[u]),n[u].appendChild(a[u]),n[u].appendChild(r[u])}),s.appendChild(l),s.appendChild(c),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:a,input:n,label:r,labelText:o,description:l,messages:c}=t;return a.classList.add("checkbox"),s.appendChild(a),a.appendChild(r),r.appendChild(n),r.appendChild(o),a.appendChild(l),a.appendChild(c),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:a,label:n}=t;return s.classList.add("form-group"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const a=super.getRow();return a.classList.add("col-xs-"+e),a.classList.add("col-md-"+t),s&&a.classList.add("col-md-offset-"+s),a}getTabList(e){const t=super.getTabList(e);return t.classList.add("nav"),e.type==="tabs"?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("nav-stacked"),e.stacked===!1&&t.classList.remove("nav-stacked"),t}getTab(e){const t=super.getTab(e);return e.active&&t.list.classList.add("active"),t.link.setAttribute("data-toggle","tab"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&(e.classList.add("in"),e.classList.add("active"))}visuallyHidden(e){e.classList.add("sr-only")}visuallyVisible(e){e.classList.remove("sr-only")}}class ys extends qe{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("btn-block"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("show"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("card"),e.classList.add("mb-3"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h6"),t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-between"),t.classList.add("align-items-center"),t.classList.add("float-left"),t.classList.add("py-2"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.classList.add("mr-1"),t}getCard(){const e=super.getCard();return e.classList.add("card"),e.classList.add("mb-3"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-end"),t.classList.add("align-items-center"),t.classList.add("py-1"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("card-body"),e.classList.add("pb-0"),e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-sm"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:a,label:n}=t;return s.classList.add("form-group"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:a,label:n}=t;return s.classList.add("form-group"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{container:s,body:a,radios:n,labels:r,labelTexts:o,radioControls:l,description:c,messages:h}=t;return s.classList.add("form-group"),l.forEach((u,m)=>{u.classList.add("form-check"),n[m].classList.add("form-check-input"),r[m].classList.add("form-check-label"),a.appendChild(l[m]),u.appendChild(n[m]),u.appendChild(r[m]),r[m].appendChild(o[m])}),a.appendChild(c),a.appendChild(h),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:a,input:n,label:r,description:o,messages:l}=t;return a.classList.add("form-group"),a.classList.add("form-check"),n.classList.add("form-check-input"),r.classList.add("form-check-label"),s.appendChild(a),a.appendChild(n),a.appendChild(r),a.appendChild(o),a.appendChild(l),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:a}=t;return s.classList.add("form-group"),a.classList.add("form-control"),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t.classList.add("form-text"),t.classList.add("d-block"),t}getColumnClass(e,t){return"col-"+e+"-"+t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const a=super.getRow(e,t,s);return a.classList.add("col-"+e),a.classList.add("col-md-"+t),s&&a.classList.add("offset-md-"+s),a}getTabList(e){const t=super.getTabList();return t.classList.add("nav"),e.type==="tabs"?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("flex-column"),e.stacked===!1&&t.classList.remove("flex-column"),t}getTab(e){const t=super.getTab(e);return t.list.classList.add("nav-item"),t.link.classList.add("nav-link"),t.link.setAttribute("data-toggle","tab"),e.active&&t.link.classList.add("active"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&e.classList.add("active")}visuallyHidden(e){e.classList.add("sr-only")}visuallyVisible(e){e.classList.remove("sr-only")}}class Ls extends qe{init(){this.useToggleEvents=!1}getAddPropertyButton(){const e=super.getAddPropertyButton();return e.classList.add("btn-primary"),e.classList.add("w-100"),e}getCollapseToggle(e){const t=super.getCollapseToggle(e);return t.setAttribute("href","#"+e.collapseId),t.setAttribute("data-bs-toggle","collapse"),t}getCollapse(e){const t=super.getCollapse(e);return t.classList.add("collapse"),e.startCollapsed||t.classList.add("show"),t}getFieldset(){const e=document.createElement("fieldset");return e.classList.add("card"),e.classList.add("mb-3"),e}getLegend(e){const t=super.getLegend(e);return t.classList.add("h6"),t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-between"),t.classList.add("align-items-center"),t.classList.add("py-2"),t}getLabel(e){const t=super.getLabel(e);return t.icon.classList&&t.icon.classList.add("me-1"),t}getCard(){const e=super.getCard();return e.classList.add("card"),e.classList.add("mb-3"),e}getCardHeader(e){const t=super.getCardHeader(e);return t.classList.add("card-header"),t.classList.add("d-flex"),t.classList.add("justify-content-end"),t.classList.add("align-items-center"),t.classList.add("py-1"),t}getCardBody(){const e=super.getCardBody();return e.classList.add("card-body"),e.classList.add("pb-0"),e}getControlSlot(){const e=super.getControlSlot();return e.classList.add("mb-3"),e}getBtnGroup(){const e=super.getBtnGroup();return e.classList.add("btn-group"),e}getButton(e){const t=super.getButton(e);return t.classList.add("btn"),t.classList.add("btn-sm"),t}getDescription(e){const t=super.getDescription(e);return t.classList.add("text-muted"),t}getTextareaControl(e){const t=super.getTextareaControl(e),{container:s,input:a,label:n}=t;return s.classList.add("mb-3"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getInputControl(e){const t=super.getInputControl(e),{container:s,input:a,label:n}=t;return s.classList.add("mb-3"),a.classList.add("form-control"),e.titleHidden&&this.visuallyHidden(n),t}getRadiosControl(e){const t=super.getRadiosControl(e),{container:s,body:a,radios:n,labels:r,labelTexts:o,radioControls:l,description:c,messages:h}=t;return s.classList.add("mb-3"),l.forEach((u,m)=>{u.classList.add("form-check"),n[m].classList.add("form-check-input"),r[m].classList.add("form-check-label"),a.appendChild(l[m]),u.appendChild(n[m]),u.appendChild(r[m]),r[m].appendChild(o[m])}),a.appendChild(c),a.appendChild(h),t}getCheckboxControl(e){const t=super.getCheckboxControl(e),{container:s,formGroup:a,input:n,label:r,description:o,messages:l}=t;return s.classList.add("mb-3"),a.classList.add("form-check"),n.classList.add("form-check-input"),r.classList.add("form-check-label"),e.titleHidden&&this.visuallyHidden(r),s.appendChild(a),a.appendChild(n),a.appendChild(r),a.appendChild(o),a.appendChild(l),t}getSelectControl(e){const t=super.getSelectControl(e),{container:s,input:a}=t;return s.classList.add("mb-3"),a.classList.add("form-select"),t}getAlert(e){const t=super.getAlert(e);return t.classList.add("alert"),t.classList.add("alert-danger"),t}getInvalidFeedback(e){const t=super.getInvalidFeedback(e);return t.classList.add("text-danger"),t.classList.add("d-block"),t.classList.add("form-text"),t.classList.add("form-text"),t}getRow(){const e=super.getRow();return e.classList.add("row"),e}getCol(e,t,s){const a=super.getRow(e,t,s);return a.classList.add("col-"+e),a.classList.add("col-md-"+t),s&&a.classList.add("offset-md-"+s),a}getTabList(e){const t=super.getTabList(e);return t.classList.add("nav"),e.type==="tabs"?t.classList.add("nav-tabs"):t.classList.add("nav-pills"),t.classList.add("flex-column"),e.stacked===!1&&t.classList.remove("flex-column"),t}getTab(e){const t=super.getTab(e);return t.list.classList.add("nav-item"),t.link.classList.add("nav-link"),t.link.setAttribute("data-bs-toggle","tab"),e.active&&t.link.classList.add("active"),t}setTabPaneAttributes(e,t,s){super.setTabPaneAttributes(e,t,s),e.classList.add("tab-pane"),t&&e.classList.add("active")}visuallyHidden(e){e.classList.add("visually-hidden")}visuallyVisible(e){e.classList.remove("visually-hidden")}}return{Schema:Jt,Utils:Ut,EditorBoolean:Re,EditorBooleanEnumRadio:xt,EditorBooleanEnumSelect:wt,EditorBooleanCheckbox:At,EditorString:D,EditorStringEnumRadio:St,EditorStringEnumSelect:Pt,EditorStringTextarea:Ot,EditorStringAwesomplete:jt,EditorStringInput:He,EditorNumber:ye,EditorNumberEnumRadio:Tt,EditorNumberEnumSelect:kt,EditorNumberInput:Mt,EditorObjectGrid:Vt,EditorObjectNav:Rt,EditorObject:Be,EditorArrayNav:Ht,EditorArray:Qe,EditorMultiple:Bt,EditorNull:qt,Theme:qe,ThemeBootstrap3:Cs,ThemeBootstrap4:ys,ThemeBootstrap5:Ls,RefParser:vs,Create:M}});
